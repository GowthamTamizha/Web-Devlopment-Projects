<html xmlns="http://www.w3.org/1999/xhtml"><head>
          










    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta charset="utf-8">
    <meta name="robots" content="noindex">
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, no-transform, proxy-revalidate max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <link rel="icon" type="image/gif" href="img/newfavicon.ico">
    <script src="javascript/LIB/popper.min.js "></script>
    <script type="text/javascript" src="javascript/LIB/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="javascript/LIB/jquery-form.js"></script>
    <script type="text/javascript" src="javascript/LIB/jquery.tmpl.js"></script>
    <!-- <script type="text/javascript" src="javascript/LIB/jExpand.js"></script> -->
    
    <!-- Chosen jQuery -->
    <link rel="stylesheet" href="javascript/LIB/Chosen/chosen.css">
    <script type="text/javascript" src="javascript/LIB/Chosen/chosen.jquery.js"></script>
    
    <!-- Data table and bootstrap -->
    <script src="javascript/LIB/jquery.dataTables.columnFilter.js "></script>
    <script src="javascript/LIB/jquery.dataTables.1.13.8.min.js "></script>
    <script src="javascript/LIB/dataTables.bootstrap.1.10.19.min.js "></script>
    <script src="javascript/LIB/bootstrap.min.js "></script>
    <script src="javascript/LIB/bootstrap/multiselect-bootstrap.js "></script>
    <script src="javascript/LIB/bootstrap/bootstrap-checkbox.js "></script>
    <link rel="stylesheet" href="javascript/LIB/bootstrap.min.css">
    
     <!-- JQuery All Widgets Lib -->
    <script type="text/javascript" src="javascript/LIB/jquery-ui-1.13.2/jquery-ui.min.js"></script>
    <link type="text/css" rel="stylesheet" href="javascript/LIB/jquery-ui-1.13.2/jquery-ui.min.css">
    
    <script type="text/javascript" src="javascript/LandingPages/ets-common.js"></script>
    
    <script type="text/javascript" src="MasterFiles/24.01.3-ImportManager.js"></script>
    <link type="text/css" rel="stylesheet" href="MasterFiles/24.01.3-Master.css">
    <link type="text/css" rel="stylesheet" href="css/modern.css">
    
    <script type="text/javascript" src="javascript/STW/LOGGER/RequestLogger.js"></script>
    <script type="text/javascript" src="javascript/LIB/jQueryRotateCompressed.js"></script>
    
    <script type="text/javascript" src="javascript/LIB/Tabulous/tabulous.js"></script>
    <link rel="stylesheet" href="javascript/LIB/Tabulous/tabulous.css">
     <link rel="stylesheet" type="text/css" href="/India/javascript/LIB/jquery.dataTables.1.13.8.min.css ">
    
    
    
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.53&amp;libraries=places&amp;client=gme-moveinsynctechnology1&amp;channel=lndind"></script>
    <script type="text/javascript" src="javascript/LIB/infobox.js"></script>
    
    <script type="text/javascript" src="javascript/LIB/SlidingMarker/markerAnimate.js"></script>
    <script type="text/javascript" src="javascript/LIB/SlidingMarker/SlidingMarker.min.js"></script>
    <script type="text/javascript" src="javascript/LIB/socketcluster.js"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Lato&amp;display=swap" rel="stylesheet">
    
    <script>
      SlidingMarker.initializeGlobally();
    </script>
    
    <script type="text/javascript">$.ajaxSetup({ cache: false });</script>
    <script src="MasterFiles/24.01.3-Master.js" type="text/javascript"></script><script src="MasterFiles/24.01.3-Launcher.js" type="text/javascript"></script><script type="text/x-jquery-tmpl" id="addShiftTemplate"><div class="addShift"><form method="post" name="addShift"><table id="addEditShift" style="position: relative; margin-top: 0px;" class="insidewidget formtable"><tbody><tr><td><label>Shift Type<span class="mandatory">*</span></label></td><td><select name="type"><option value="0">Login</option><option value="1">Logout</option></select></td></tr><tr><td><label>Time of the day<span class="mandatory">*</span></label></td><td><select name="hour"><option value="-1">hrs</option>{{each(i) hours}}<option value="${i}">${i < 10 ? "0"+i : i}</option>{{/each}}</select>:<select name="minutes"><option value="-1">min</option>{{each(i) minutes}}<option value="${i}">${i < 10 ? "0"+i : i}</option>{{/each}}</select></td></tr><tr><td><label>Avg. Speed </label></td><td><input type="text" name="sProp.speed" value="40" id="avgSpeed"><span>KM.</span><br><span class="avgSpeedCheck" style="float: left; clear: both;color :red;" ></span></td></tr><tr><td><label>Avg. Waiting Time </label></td><td><select type="text" name="sProp.serviceTime"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option selected value="10">10</option></select><span>Min.</span></td></tr>{{if STW.Cache.getNodalVisibility()}}<tr><td><label class="typeText">Pick Up</label></td><td><label><input type="radio" name="sProp.localityType" value="${STW.Constants.TYPE_HOME}" checked="checked" ><span>Pickup/Drop Point</span></label><label><input type="radio" name="sProp.localityType" value="${STW.Constants.TYPE_PICKUP}" ><span>Nodal Point</span></label></td></tr>{{else STW.Cache.isShuttleRoutingFeatureEnabled()}}<tr><td><label class="typeText">Pick Up</label></td><td><label><input type="radio" name="sProp.localityType" value="${STW.Constants.TYPE_HOME}" checked="checked" ><span>Pickup/Drop Point</span></label><label><input type="radio" name="sProp.localityType" value="${STW.Constants.TYPE_SHUTTLE_STOP}" ><span>Shuttle Stop</span></label></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select type="text" name = "sProp.femaleConstraint"><option selected value="FIRST">First/Last female</option><option value="SECOND">Second/Second last female</option><option value="ANY">Any female</option><option value="DISABLED">Disable</option></select></td></tr><tr><td><label>Gender</label></td><td><select type="text" name = "genderTags" style="width:100px;" multiple><option value="MALE">Male</option><option value="FEMALE">Female</option></select></td></tr><tr><td><label>Office</label></td><td><select type="text" name = "officeTags"  style="width:100px;" multiple></select></td></tr><tr style="height: 40px"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1 wis-btn-sm" value="Apply" /> <inputtype="reset" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></tbody></table></form></div></script><script type="text/x-jquery-tmpl" id="addShiftCategoryTemplate"><div class="addShiftCategory p-3" align="center"><form method="post" name="addShiftCategory"><div class="modern-label">Please enter name for new shift category</div><div class="mt-3 mb-3"><input type="text" name="category" onpaste="return false;" class="modern-input"></input></div><span id="errormsg"></span><span class="modern-label">This name will be displayed in the category drop down while editing a Team</span><div class="mt-3 mb-1 pt-3 text-right" style="border-top: 1px solid #E0E0E0;"><input type="reset" class="secondary-btn" name="cancel" value="Cancel" /><input type="submit" class="primary-btn" value="Apply" /></div></form></div></script><script type="text/x-jquery-tmpl" id="assignCabTemplate"><div class="assignMatchingCab" style="padding: 0 20px;"><div class="employeeCabDetails"><div class="errorDivision" style="color: red;"><div class="marshallMessage" style="display: none;"><span style="margin: 0 auto;">This trip requires marshall</span><br></div><div class="tripHasMarshallMessage" style="display: none;"><span style="margin: 0 auto;color: #666;">This trip has marshall</span><br></div><fieldset class="employeeOrderMessage" style="display: none;  float:right; padding:0;"><legend><span>Order</span></legend><a class="reorderEmployees" title="Employee times are not in order. Click to update employee order according to time"><img src="img/check.png" style="width:20px;"/></a></fieldset><fieldset class="warningMessage" style="display: none; float:right; padding:0;"><legend><span style="display:block;width:max-content">Update Time</span></legend><a class="updateTimeOnShiftSpeed" style="display: none;" title="Employee times automatically adjusted. Click to reset all times based on shift speed."><img src="img/speed.png" style="width:20px;"/></a><a class="smartUpdateEmployeesTime" style="display: none;" title="Added Employee time is automatically adjusted. Click to update other employee times based on their new distances."><img src="img/idea.png" style="width:20px;margin-left:15px;"/></a></fieldset><fieldset class="tripTimeMessage" style="display: none;  float:right; padding:0;"><legend><span>Warning</span></legend><span title="Employee times are later than shift time. Please change the same manually." style="width:100%;text-align:center;display:block;"><img src="img/warning.png" style="width:20px;"/></span></fieldset><div style="clear:both;"></div></div><form id=assignCab><table id="employeeTimeDetails" class="modern-table" style="position: relative; width: 100%; margin-top: 0" cellspacing="0px"><tbody></tbody></table></form><div id="cabListAndDetails"><table style="width:100%;margin-top: 10px"><tr><td style="vertical-align: top;"><div id=searchCabs></div><div id=matchingCabResults><div id=cabTable><div class="cab-loader" style="display: none; text-align: center"><span style="font-size:14px">Finding matching cabs...</span></div><div class=matchingCabs style="height:auto"></div></div><div id="searchDrivers" class="modern-combo"></div><div id=matchingDriverResults><div id=driverTable><div class="driver-loader" style="display: none; text-align: center"><span style="font-size:14px">Finding matching drivers...</span></div><div class="matchingDrivers modern-matching-drivers"></div></div></div></td><td style="vertical-align: top;"><div style="display: flex; flex-direction: row;"><div class="vendorDetails" style="display: none;"><div class="roleBasedAccess" functionalities="assign_vendor" style="display: flex; align-items:center"><span style="margin-right: 10px;width: 154px;">Assigned Vendor: </span><select class="modern-select" style="height: 38px;" name="assignVendor" ></select></div></div>{{if STW.Cache.enableTollMapping()}}<div class="tollDropdown"><div class="modern-chosen-div"><span style="margin:0 10px;">Planned Toll: </span>{{if RoleUtils.isVendorRole()}}<span class="plannedToll"></span>{{else}}<select class="modern-select" name="plannedToll" multiple ></select>{{/if}}</div></div>{{/if}}</div><div id=cabDetailsCont class=cabDetails><table style="width: 100%; margin-top: 0px;" class="formtable"><thead></thead><tbody></tbody></table></div></td></tr></table></div></div><div class="nextPrevTripInfo insidewidget" style="width: 200px; display:none"></div></div></script><script type="text/x-jquery-tmpl" id="areaInfoTemplate"><div><table><tr><th>Employee</th><th colspan="2">Area</th></tr>{{each( k, areaDetails ) areaInfo}}<tr><td>${employee.name}</td><td colspan="2">${area}</td></tr>{{/each}}{{if affinityInfo.length > 0}}<tr><th><input class="selectAll" type="checkbox" value="true" style="margin-right: 5px;">Area 1</th><th>Area 2</th><th>Affinity</th><th>Score</th><th><input class="selectAllReverse" type="checkbox" value="true" style="margin-right: 5px;">Reverse</th></tr>{{/if}}{{each( k, affinityDetails ) affinityInfo}}<tr class="affinityInfo"><td><input type="checkbox" class="selectAffinity" value="true" index="${k}" style="margin-right: 5px;">${areaName1}</td><td>${areaName2}</td><td>${getAffinityTypeText(affinityType)}</td><td>${score}</td><td><input type="checkbox" class="selectReverse" value="true" index="${k}" style="margin-right: 5px;"></td></tr>{{/each}}{{if affinityInfo.length > 0}}<tr><td colspan="3"><span>Mark Affinity</span><input type="button" class="buttonstyle1 positiveAffinity" value="Positive" affinityType="AFFINITY_POSITIVE" style="margin-left: 10px;min-height: 25px;"/><input type="button" class="buttonstyle1 negativeAffinity" value="Negative" affinityType="AFFINITY_NEGATIVE" style="margin-left: 10px;min-height: 25px;"/><input type="button" class="buttonstyle1 zeroAffinity" value="Reset" affinityType="AFFINITY_NA" style="margin-left: 10px;min-height: 25px;"/></td></tr>{{/if}}</table></div></script><script id="breakBack2BackTemplate" type="text/x-jquery-tmpl"><div style="width:500px;padding: 10px;padding-bottom: 0;"><div class="b2bMessage" style="line-height: 20px;"></div><div><table><tr><td style="vertical-align: middle;"><input type="button" class="acceptB2BButton buttonstyle1" value="Yes, I want to continue"></td><td><input type="button" class="breakB2BButton buttonstyle1" style="line-height: 20px;" value="No, I only want to update this tripsheet and break back to back"><input type="button" class="cancelB2BButton buttonstyle1" style="display:none" value="Cancel"></td></tr></table></div></div></script><script id="multiDriverSelectionTemplate" type="text/x-jquery-tmpl"><div style="width:400px;padding: 10px;padding-bottom: 0;"><div><table><tr><td><span style="font-size:13px;">Driver and cab device are different, plese select your choice</span></td></tr><tr><td colspan="2" style="text-align:center;border-bottom:none;"><input type="button" class="multidriverBYOD buttonstyle1" style="line-height: 20px;" value="BYOD"><input type="button" class="multidriverInCabDevice buttonstyle1" style="line-height: 20px;" value="In Vehicle Device"></td></tr></table></div></div></script><script id="uneditableTripTemplate" type="text/x-jquery-tmpl"><table class="modern-table"><tr><th>S No</th><th>Employees</th><th style="width:40%">Pickup/Drop point</th><th></th><th>Time</th><th>KM</th></tr>{{if route.dir == "OUT"}}{{each( k, office ) officeList}}<tr><td></td><td>Pickup</td><td>${office.address}</td><td></td><td><span name="startTime">${dateMngr.getTimeIn24Hours(office.time)}</span></td><td> 0.0</td></tr>{{/each}}{{/if}}{{each( k, emp ) route.employeeList}}<tr style="background-color:${emp.employee_status==1?"":"Orange"}" class=${emp.employee_status==1?"employee-in-trip":""}><td><span>${k + 1 }</span>{{if emp.isSpecialNeed == true}}<img src="img/adhoc.svg"  title="${emp.specialNeedType}" class="adhoc" style="margin-left: 10px;" alt="">{{/if}}</td><td class="access-based-matrix" pii_id ="EMP_NAME"> ${emp.name} </td><td class="access-based-matrix" pii_id ="EMP_ADDR">{{if ((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM) && (STW.Cache.isHideEmpAddressEnabled() == true))}}${STW.Cache.hiddenInfoText()}{{else}}{{if route.dir == "IN"}}<span title="${emp.pickupLoc.address}">${emp.pickupLoc?utils.getTruncatedAddress(emp.pickupLoc.address):""}</span>{{else}}<span title="${emp.dropLoc.address}">${emp.dropLoc?utils.getTruncatedAddress(emp.dropLoc.address):""}</span>{{/if}}{{/if}}</td><td class="access-based-matrix" pii_id ="EMP_ADDR">{{if route.dir == "IN"}}${emp.dropLoc.address == undefined?"":emp.dropLoc.address}{{else}}${emp.pickupLoc.address == undefined?"":emp.pickupLoc.address}{{/if}}</td><td>{{if route.dir == "IN"}}<span name="emp.${k}.hour" ${emp.employee_status==1?"":"disabled=disabled"}>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</span>{{else}}<span name="emp.${k}.hour" ${emp.employee_status==1?"":"disabled=disabled"}>${dateMngr.getTimeIn24Hours(emp.dropTime)}</span>{{/if}}</td><td>${utils.decimalRound(emp.onBoardDistance)}</td></tr>{{/each}}{{if route.dir == "IN"}}{{each( k, office ) officeList}}<tr><td></td><td>Drop</td><td>${office.address}</td><td></td><td><span name="endTime">${dateMngr.getTimeIn24Hours(office.time)}</span></td><td> 0.0</td></tr>{{/each}}{{/if}}<tr><td colspan=6><span><b>Vehicle :</b></span><span>${route.cab ? route.cab.displayCabId : ""} (${route.cab ? route.cab.identification :""})</span></td></tr>{{if STW.Cache.enableTollMapping()}}<tr><td colspan=6><span><b>Planned Toll :</b></span><span><span class="plannedToll"></span></span></td></tr>{{/if}}</table><div style="display:flex;">{{each( k, state ) states}}<div style="width:33%; padding:10px;"><div style="font-weight: 700">${state.name}</div><div>${state.value ? dateMngr.getDateAndTime(state.value) : "Not available"}</div></div>{{/each}}</div><div>{{if (route.tripStatus != STW.Constants.STATE_ENDED&& route.expired == false)}}{{else}}<span style="padding:10px;"><i>This trip is either completed or expired </i></span>{{/if}}{{if STW.Cache.checkFunctionality("hide_tripsheet_history_view") == false}}<a class="seeMoreHistory" style="float:right">History</a>{{/if}}{{if route.deviceId != "0"}}<a class="getDeviceHealth roleBasedAccess" functionalities="device_health_logs" style="margin-right: 20px; float:right">Device Health</a>{{/if}}</div><div class=selectedTable><input type="button" class="secondary-btn" name="cancel"	value="Close" /></div></script><script type="text/x-jquery-tmpl" id="cabDetailsTemplate"><table class="modern-table"><tr><th colspan="2">${cabRouteInfo.displayCabId} (${cabRouteInfo.identification})</th></tr><tr><td style="width: 200px;">Vehicle Type</td><td>${utils.checkAvailability(cabRouteInfo.cabType.name)}</td></tr><tr><td>Contract</td><td>${STW.Cache.getContractShortCode(cabRouteInfo.contractId)}</td></tr><tr><td>Garage</td><td>${utils.checkAvailability(cabRouteInfo.garage)}</td></tr><tr><td>Driver Name</td><td class="access-based-matrix" pii_id="DRIVER_NAME">${utils.checkAvailability(driver.name)}</td></tr><tr><td>Driver Contact No.</td><td class="access-based-matrix" pii_id="DRIVER_MOB">${utils.checkAvailability(driver.mobileNumber)}</td></tr><tr><td>Device imei :</td><td>${deviceType ? deviceType : "Not associated"}</td></tr><tr><td>Last contacted</td><td>${cabRouteInfo.deviceLastContactTime == "NA" || cabRouteInfo.deviceLastContactTime == null ? "Not Available" : cabRouteInfo.deviceLastContactTime}</td></tr><tr><td>Distance/Trips in Billing Cycle</td><td>${utils.decimalRound(cabRouteInfo.distance)} KM/${cabRouteInfo.numDuties}</td></tr><tr><td colspan="2"><b>Duty Info : </b>${dutyInfo}</td></tr><tr><td colspan="2"><b>Previous Trip : </b>{{if cabRouteInfo.previousTripSheet}}<span>${cabRouteInfo.previousTripSheet.dir == "IN" ? "Login, " : "Logout, "}</span><span>${dateMngr.getDateTimeIn24HoursFormat(cabRouteInfo.previousTripSheet.employeeList[0].pickupTime, false)} - </span><span>${dateMngr.getTimeIn24Hours(cabRouteInfo.previousTripSheet.employeeList[0].dropTime, false)}</span><br><span>${utils.getTruncatedAddress(cabRouteInfo.previousTripSheet.employeeList[0].pickupLoc.address, 30)}<b> to </b></span><span>${utils.getTruncatedAddress(cabRouteInfo.previousTripSheet.employeeList[0].dropLoc.address, 30)}</span>{{else}}None{{/if}}</td></tr><tr><td colspan="2"><b>Next Trip :</b>{{if cabRouteInfo.nextTripSheet}}<span>${cabRouteInfo.nextTripSheet.dir == "IN" ? "Login, " : "Logout, "}</span><span>${dateMngr.getDateTimeIn24HoursFormat(cabRouteInfo.nextTripSheet.employeeList[0].pickupTime, false)} - </span><span>${dateMngr.getTimeIn24Hours(cabRouteInfo.nextTripSheet.employeeList[0].dropTime, false)}</span><br><span>${utils.getTruncatedAddress(cabRouteInfo.nextTripSheet.employeeList[0].pickupLoc.address, 30)}<b> to </b></span><span>${utils.getTruncatedAddress(cabRouteInfo.nextTripSheet.employeeList[0].dropLoc.address, 30)}</span>{{else}}None{{/if}}</td></tr></table></script><script type="text/x-jquery-tmpl" id="nextPrevTripTemplate"><div><table style="width:190px;"><tr><th colspan="2">Duty Trips</th></tr>{{each(index, tripSheet) cabRouteInfo.tripSheets}}<tr><td colspan="2" style="background-color:${tripSheet.dir=="OUT"?"#F5F7FC":""};"><span>${tripSheet.dir=="IN"?"Login ":"Logout "}</span><br><span style="text-decoration: underline;">${dateMngr.getDateTimeIn24HoursFormat(tripSheet.employeeList[0].pickupTime, false)} - ${dateMngr.getTimeIn24Hours(tripSheet.employeeList[0].dropTime, false)}</span><br><span>${utils.getTruncatedAddress(tripSheet.employeeList[0].pickupLoc.address, 30)}</span><br>to</br><span>${utils.getTruncatedAddress(tripSheet.employeeList[0].dropLoc.address, 30)}</span></td></tr>{{/each}}</table></div></script><script id="cab-list-with-zero-duties-table" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><div style="margin: 0 auto;text-align: right;width: 70%;"><input id="fixCabs" type="button" class="buttonstyle1 roleBasedAccess" functionalities="bill_edit" name="fixCabs" value="Fix Issues" /></div><table class="cab-issues-table insidewidget tablestyle1"  style="width:70%;margin-top: 5px;" cellspacing="0px"><thead class="cab-thead"><tr><th class="roleBasedAccess" functionalities="bill_edit"><input type="checkbox" id="pendingSelectAll" value="true"></th><th class="cab-sn">S. No.</th><th class="cab-cabid">Vehicle Id (Contract)</th><th class="cab-type">Vehicle Type</th><th class="cab-cabid">License Plate</th><th class="cab-driver_name">Driver Name</th><th class="cab-driver_mn">Driver Mobile No.</th><th class="cab-issues-details rightrad roleBasedAccess" functionalities="bill_edit">Action</th></tr></thead><tbody></tbody></table></div></div></script><script id="cab-list-with-zero-duties-row" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_edit"><input class="cab-with-zero-duties-checkbox checklist" type="checkbox" status="check" value=${cabIssue.getCabId()}></td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${cabIssue.getCabDisplayAndShortCode()}</td><td class="cab-type">${cabIssue.getCabType()}</td><td class="cab-cabid">${cabIssue.getCabIdentification()}</td><td class="cab-driver_name access-based-matrix" pii_id="DRIVER_NAME">${cabIssue.getDriverName()}</td><td class="cab-driver_mn access-based-matrix" pii_id="DRIVER_MOB">${cabIssue.getDriverContact()}</td><td class="cab-details roleBasedAccess" functionalities="bill_edit" id="${cabId}"><a href='javascript:{"displayName":"Vehicle Issue Details","method":"getZeroDutyIssue","cabId":"${cabIssue.getCabId()}","date":"${date}","index":"${rowIndex}"}' >Fix</a></td></tr></script><script type="text/x-jquery-tmpl" id="duty-transfer-template"><div><form><table class="dutyTransferTable insidewidget formtable" style="position:relative;margin-top:0px"><thead><tr><td colspan="2" class="tablehead">TRANSFER DUTIES</td></tr></thead><tbody><tr><td style="width:50%">Vehicle Id</td><td>${duty.cab.displayCabId} (${duty.cab.identification})</td></tr><tr><td>Total KM</td><td>${universalFun.decimalRound(duty.dutyDistance + duty.garageKm + duty.calibration)}</td></tr><tr><td>Empty KM</td><td>${universalFun.decimalRound(duty.deadKmDistance)}</td></tr><tr><td>Start Time</td><td>${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td></tr><tr><td>End Time</td><td>${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}</td></tr><tr><td>Transfer Duty to vehicle</td><td><div id="searchCabsTransferComboCont"></div></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="submit" name="save" class="buttonstyle1" value="Transfer"/></td></tr></tbody></table></form></div></script><script id="billing-dashboard-tmpl" type="text/x-jquery-tmpl"><div><table style="position:relative; background-image:none;" class="formtable roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view">{{if STW.Cache.isGPSLossBackFillEnabled()}}<tr class="roleBasedAccess" functionalities="bill_view"><td>{{if STW.Cache.renameBillingDashboardLinks()}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Flagged Vehicles (Data incomplete)","date":"${date}","method":"getGPSLossEvents"}' >Flagged Vehicles (Data incomplete)</a>{{else}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicle with data issues","date":"${date}","method":"getGPSLossEvents"}' >Vehicle with data issues</a>{{/if}}</td><td class="displayval">${list.vehiclesWithDataIssues}</td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="bill_view"><td style="width: 85%;">{{if STW.Cache.renameBillingDashboardLinks()}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Flagged Trips (Vehicle with issues)","date":"${date}","vendorId":"0","method":"getCabsWithIssues"}' >Flagged Trips (Vehicle with issues)</a>{{else}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"CabsWithIssues","date":"${date}","vendorId":"0","method":"getCabsWithIssues"}' >Vehicles with Issues</a>{{/if}}</td><td class="displayval">${list.cabsWithIssues}</td></tr>{{if STW.Cache.splitEmptyLegsEnabled() == true}}<tr class="roleBasedAccess" functionalities="bill_view"><td colspan="2"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Duty Requiring Billing Preprocessing","date":"${date}","method":"getDutyForProcessing"}' >Duty Requiring Billing Preprocessing</a></td></tr>{{/if}}{{if STW.Cache.isNewBillingResolutionUIEnabled()}}<tr class="roleBasedAccess" functionalities="bill_view"><td colspan="2"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Automatic Data Cleanup","date":"${date}","method":"getDutiesForAutoResolution"}' >Automatic Data Cleanup</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view">{{if RoleUtils.isVendorRole() == false }}<td><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicle Audit","date":"${date}","method":"getCabsWithAuditPending"}' >Vehicles with Audit Pending </a></td><td class="displayval">${list.cabsWithAuditPending}</td>{{else RoleUtils.isVendorBillingManagerRole() == true}}<td><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicle Audit","date":"${date}","method":"getCabsWithAuditPending"}' >View Vehicles </a></td>{{/if}}</tr><tr class="roleBasedAccess" functionalities="bill_view"><td colspan="2"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Manage vehicle duties","startDate":"${date}","endDate":"${date}","method":"restoreCabDuties"}' >Manage duties of a vehicle</a></td></tr><tr class="roleBasedAccess" functionalities="bill_view"><td><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicles with zero duties","date":"${date}","method":"getCabsWithZeroDuties"}' >Vehicles with zero duties </a></td><td class="displayval">${list.cabsWithZeroDuties}</td></tr>{{if STW.Cache.isIncompleteTripSheetOnDashboardEnabled()}}<tr class="roleBasedAccess" functionalities="bill_view"><td colspan="2"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Incomplete tripsheets","date":"${date}","method":"getIncompleteTripsheets"}' >Incomplete tripsheets</a></td></tr>{{/if}}</table></div></script><script id="billing-cycle-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="position:relative; background-image:none;" class="formtable roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard_reports_tbl,bill_view_raw_billing_data"><tr class="roleBasedAccess" functionalities="bill_view,billing_dashboard_reports_tbl_adjustment"><td><a href='javascript:{"rptName":"Adjustment_Report","displayName":"Adjustment Report","showLinks":"true","startDate":"${dateMngr.changeFormatToServer(startDate)}","endDate":"${dateMngr.changeFormatToServer(endDate)}" ,"vendorId":[${vendorId}]}' >Adjustment Report</a></td></tr><tr class="roleBasedAccess" functionalities="bill_view"><td><a href='javascript:{"rptName":"Parking_Report","displayName":"Parking & Toll Report","showLinks":"true","startDate":"${dateMngr.changeFormatToServer(startDate)}","endDate":"${dateMngr.changeFormatToServer(endDate)}" ,"vendorId":[${vendorId}]}' >Parking & Toll Report</a></td></tr>{{if !STW.Cache.hideOldBillingDashboardEnabled() }}<tr class="roleBasedAccess" functionalities="bill_view"><td><a href='javascript:{"rptName":"Prorate_Report","displayName":"Prorate Report","showLinks":"true","startDate":"${dateMngr.changeFormatToServer(startDate)}","endDate":"${dateMngr.changeFormatToServer(endDate)}" ,"vendorId":[${vendorId}]}' >Prorate Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="bill_view"><td><a href='javascript:{"rptName":"MarkAbsent_Report","displayName":"Driver Absent Report","showLinks":"true","startDate":"${dateMngr.changeFormatToServer(startDate)}","endDate":"${dateMngr.changeFormatToServer(endDate)}" ,"vendorId":[${vendorId}]}' >Driver Absent Report</a></td></tr><tr><td><a href="CSVReport_Servlet?rptName=Settlement_Report&displayName=Settlement_Report&startDate=${dateMngr.changeFormatToServer(startDate)}&endDate=${dateMngr.changeFormatToServer(endDate)}&vendorId=[${vendorId}]&format=xls&CSRF_NONCE=${STW.Cache.getNonce()}"> Settlement Report</a></td></tr>{{if STW.Cache.isNewBillingReports() == true && STW.Cache.newRBDEnabled() == true}}<tr><td><a class="newRawBillingReport" href="CSVReport_Servlet?rptName=New_RBD&displayName=New_RBD&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}&vendorName=[${vendorName}]&unauditedData=true&includeExpiredTripsheets=false">Download New Raw Billing Data Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view,bill_view_raw_billing_data"><td><a class="rawBillingReport" href='CSVReport_Servlet?rptName=RawBilling_Report&startDate=${dateMngr.getDateOnly(startDate)}&endDate=${dateMngr.getDateOnly(endDate)}&CSRF_NONCE=${STW.Cache.getNonce()}&vendorId=[${vendorId}]&unauditedData=true&includeExpiredTripsheets=false'>Raw Billing Data</a><label><input name="unauditedData" type="checkbox" checked="checked" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Unaudited Data</span></label><br><label style="margin-left:88px;"><input name="includeExpiredTripsheets" type="checkbox" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Incomplete Trips</span></label></td></tr>{{if STW.Cache.enableJasperReporting()}}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view,bill_view_raw_billing_data"><td><a class="rbdReport">RBD Report</a></td></tr>{{/if}}{{if window.location.hostname.indexOf("verizon") != -1}}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view,bill_view_raw_billing_data"><td><a class="customizedBReport">Customized Billing Report</a></td></tr>{{/if}}</table></div></script><script id="billing-dashobaord-skeleton" type="text/x-jquery-tmpl">{{if RoleUtils.isFinancialControllerRole() == false}}<div id="singleDayContainer" style="float:left" class="roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view"><div><form name="singleDateForm"><table class="modern-table"><tr><th colspan=2>Day's data</th></tr>{{if STW.Cache.isBillingDashboardOfficeFilterEnabled()}}<tr><td>Office</td><td><div><select class="selectedOffice" style="display:none;"></select></div></td></tr>{{/if}}<tr><td>Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name="date" type="text" value="" title="Date format: dd/MM/yyyy"></td></tr></table></form></div><div id="singleDayTable"></div></div>{{/if}}<div id="billingCycleContainer" style="float: left; margin-left : 30px"><div><form name="billingCycleForm"><table class="modern-table"><tr><th colspan=2>Billing cycle reports</th></tr><tr><td>Start Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name="startDate" type="text" value="" title="Date format: dd/MM/yyyy"></td></tr><tr><td>End Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name="endDate" type="text" value="" title="Date format: dd/MM/yyyy"></td></tr><tr class="roleBasedAccess" functionalities="bill_view"><td>Vendors</td><td><select name="vendor.id" class="selectVendors" multiple style="width: 150px;"></select></td></tr></table></form></div><div id="billingCycleTable"></div></div></div></script><script id="billing-reports-footer-tmpl" type="text/x-jquery-tmpl"><div style="text-align: right;"><select class="modern-select" id="billing-report-download"><option>Select Reports to Download</option><option reportUrl="CSVReport_Servlet?rptName=${reportType}&displayName=${reportType}&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Complete Bill Report</option><option reportUrl="CSVReport_Servlet?rptName=TripWise_Costing&displayName=TripWise_Cost_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Trip Wise Cost</option><option reportUrl="CSVReport_Servlet?rptName=DutyWise_Billing_Data_Report&displayName=DutyWise_Billing_Data_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Duty Wise Cost</option><option reportUrl="CSVReport_Servlet?rptName=EmployeeWise_Monthly_Costing&displayName=EmployeeWise_Monthly_Costing&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Employee Wise Cost (Monthly)</option><option reportUrl="CSVReport_Servlet?rptName=EmployeeWise_Daily_Costing&displayName=EmployeeWise_Daily_Costing&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Employee Wise Cost (Daily)</option><option reportUrl="CSVReport_Servlet?rptName=Driver_Allowance_Report&displayName=Driver_Allowance_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Download Driver Allowance Report</option>{{if STW.Cache.newRBDEnabled()}}<option reportUrl="CSVReport_Servlet?rptName=New_RBD&displayName=New_RBD&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">New Raw Billing Data</option>{{/if}}<option reportUrl="CSVReport_Servlet?rptName=TripWise_Billl_Warning&displayName=TripWise_Billl_Warning&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">TripWise Billl Warning</option><option reportUrl="CSVReport_Servlet?rptName=Bill_Generation_History&displayName=Bill_Generation_History&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}">Bill Generation History</option><option reportUrl="CSVReport_Servlet?rptName=Settlement_Report&displayName=Settlement_Report&startDate=${startDate}&endDate=${endDate}&vendorId=[-1]&format=xls&CSRF_NONCE=${STW.Cache.getNonce()}">Settlement Report</option>{{if STW.Cache.isCostCenterTripBillBackEnabled() }}{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Summary_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary - csv</option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Summary_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary - excel </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary Breakup - csv</option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary Breakup - excel</option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Employee wise breakup - csv </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Employee wise breakup - excel </option>{{/if}}{{else}}{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Summary&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary - csv </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Summary&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary - excel </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Breakup&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary Breakup - csv </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Breakup&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Cost center summary Breakup - excel </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Employee wise breakup - csv </option><option reportUrl="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}"> Employee wise breakup - excel </option>{{/if}}{{/if}}</select><a class="downloadReport primary-btn" style="color: #fff !important">Download</a></div></script><script id="matching-tripsheets-table" type="text/x-jquery-tmpl"><div><form><div style="margin:0 auto; width:70%;"><input type="button" name="assignTripSheet" class="assignTripToTripsheet buttonstyle1 roleBasedAccess" functionalities="bill_edit" value="Assign" style="position:relative;"/></div><table class="incompleteTripsheetTable insidewidget tablestyle1" style="position:relative;width:70%;" cellspacing="0px"><thead><tr><th class="roleBasedAccess" functionalities="bill_edit"><input type="checkbox" class="selectIncompleteTrip"/></th><th>S.No.</th><th>Vehicle Id</th><th>Start Time</th><th>End Time</th><th>KM</th><th>Emp</th><th>Vehicle Id</th><th>KM</th><th>Match</th></tr></thead><tbody></tbody></table></form></div></script><script id="matching-tripsheets-row" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_edit"><input type=checkbox class="selectTripSheet" {{if this.isSelected}}checked=checked{{/if}}  tripSheetIndex="${tripSheetIndex}"/></td><td>${tripSheetIndex+1}</td><td>${tripSheetBillingTripMatch.tripsheet.cab ? tripSheetBillingTripMatch.tripsheet.cab.displayCabId : "Not Assigned"}</td><td>${getTripSheetStartTime(tripSheetBillingTripMatch.tripsheet)}</td><td>${getTripSheetEndTime(tripSheetBillingTripMatch.tripsheet)}</td><td>${universalFun.decimalRound(tripSheetBillingTripMatch.tripsheet.distance)}</td><td><a class="showPlannedEmployeeList" tripSheetIndex=${tripSheetIndex}>${tripSheetBillingTripMatch.tripsheet.employeeList.length}</a></td><td>${tripSheetBillingTripMatch.billingTrip.tripSheet.cab ? tripSheetBillingTripMatch.billingTrip.tripSheet.cab.displayCabId : "None"}</td><td>${universalFun.decimalRound(tripSheetBillingTripMatch.billingTrip.tripDistance)}</td><td><a class="showAdhocEmployeeList" tripSheetIndex=${tripSheetIndex}>${getNumberOfEmployeeMatching(tripSheetBillingTripMatch.billingTrip, tripSheetBillingTripMatch.tripsheet)}</a></td></tr></script><script id="adhoc-trip-employee-list-template" type="text/x-jquery-tmpl"><div><form><table id="employeeInfoList" class="centerAlign" style ="width:800px; margin:0 auto"><thead><tr>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM)}}<th><span>Employee Id</span></th>{{/if}}<th><span>Employee Name</span></th><th><span>Sign In</span></th><th><span>Sign Off</span></th></tr></thead><tbody>{{each(i, employee) billingTrip.employeePickupPoints}}<tr class="centerAlign" style="background-color:${isEmployeeMatching(tripSheet, employee)?"lightgreen":"White"};">{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM)}}<td><span>${employee.eid}</span></td>{{/if}}<td><span>${employee.name}</span></td><td><span>${getTimeOfSignIn(employee)}</span></td><td><span>${getTimeOfSignOff(employee)}</span></td></tr>{{/each}}<tr class="roleBasedAccess" functionalities="bill_edit" style="height: 40px"><td colspan="4" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1" value="Assign" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></tbody></table></form></div></script><script id="non-matching-tripsheets-table" type="text/x-jquery-tmpl"><div><form><div style="margin:0 auto; width:70%;"><input type="button" name="markNoShow" class="roleBasedAccess buttonstyle1" functionalities="bill_edit" value="Mark No Show" style="position:relative;padding:0 10px;"/></div><table class="nonMatchingIncompleteTripsheetTable insidewidget tablestyle1" style="position:relative;width:70%;" cellspacing="0px"><thead><tr><th class="roleBasedAccess" functionalities="bill_edit"><input type="checkbox" class="selectIncompleteTrip"/></th><th>S.No.</th><th>Trip Id</th><th>Vehicle Id</th><th>Start Time</th><th>End Time</th><th>Trip Status</th><th>KM</th><th>Emp</th><th>Action</th></tr></thead><tbody></tbody></table></form></div></script><script id="non-matching-tripsheets-row" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_edit"><input type=checkbox class="selectTripSheet" {{if this.isSelected}}checked=checked{{/if}} tripId="${tripSheetBillingTripMatch.tripsheet.id}"/></td><td>${tripSheetIndex+1}</td><td>${tripSheetBillingTripMatch.tripsheet.id}</td><td>${tripSheetBillingTripMatch.tripsheet.cab ? tripSheetBillingTripMatch.tripsheet.cab.displayCabId : "Not Assigned"}</td><td>${getTripSheetStartTime(tripSheetBillingTripMatch.tripsheet)}</td><td>${getTripSheetEndTime(tripSheetBillingTripMatch.tripsheet)}</td><td>${tripSheetBillingTripMatch.tripsheet.incompleteReason}<td>${universalFun.decimalRound(tripSheetBillingTripMatch.tripsheet.distance)}</td><td><a class="showPlannedEmployeeList" tripSheetIndex=${tripSheetIndex}>${tripSheetBillingTripMatch.tripsheet.employeeList.length}</a></td><td>{{if tripSheetBillingTripMatch.tripsheet.cab}}<a class="addPlannedTripToBillig roleBasedAccess" functionalities="bill_edit" tripSheetIndex=${tripSheetIndex}>Review for billing</a>{{/if}}</td></tr></script><script id="incomplete-tripsheet-header" type="text/x-jquery-tmpl"><div style="text-align:center; margin-top:10px;"><span><label><input type="radio" name="incompleteTripType" value="matchingTrip" /><span> Matching Adhoc Trip Found</span></label></span><span><label><input type="radio" name="incompleteTripType" value="nonMatchingTrip" checked="checked"/><span> Matching Adhoc Trip Not Found</span></label></span></div><div class="incomplete-tripsheet-table"></div></script><script id="incompleteTripsTableTemplate" type="text/x-jquery-tmpl"><div style="text-align: center;">{{if STW.Cache.isBillingDashboardOfficeFilterEnabled()}}<span>Office:</span><select class="selectedOffice" style="display:none; height: 25px; margin: 0 15px 0 5px;"></select>{{/if}}<input class="datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:100px;"><span class="vendorCombo" style="margin-left: 10px;"><select name="vendor.id" style="height: 25px;"></select></span></div><div class="incompleteTripsTable"></div></script><script id="cost-center-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="margin: 0 0 0 -10px;">{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<tr><td>Cost center summary</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Summary&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span><a href="FileDownload_Servlet?rptName=Cost_Center_Summary&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png"></a></span></td><td>Breakup</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Breakup&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span><a href="FileDownload_Servlet?rptName=Cost_Center_Breakup&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png"></a></span></td><td>Employee wise breakup</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span style="margin-left: 5px;"><a href="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png" title="Only applicable for old reports which are not available in csv"></a></span></td></tr>{{/if}}</table></div></script><script id="cost-center-reports-trip-billback-tmpl" type="text/x-jquery-tmpl"><div><table style="margin: 0 0 0 -10px;">{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<tr><td>Cost center summary</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Summary_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span><a href="FileDownload_Servlet?rptName=Cost_Center_Summary_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png"></a></span></td><td>Breakup</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span><a href="FileDownload_Servlet?rptName=Cost_Center_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png"></a></span></td><td>Employee wise breakup</td><td><span><a href="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=csv&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/csv.gif"></a></span><span style="margin-left: 5px;"><a href="FileDownload_Servlet?rptName=Cost_Center_Employee_Breakup_Trip_Billing&startDate=${startDate}&endDate=${endDate}&format=xls&type=cost_center&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank><img style="width:18px;" src="img/xls.png"></a></span></td></tr>{{/if}}</table></div></script><script type="text/x-jquery-tmpl" id="editLocationTemplate"><div><div id="manageLocationPage"style="float: right; height: 86vh; width:90vw; background-color: white;"><div class="gform  map-form-layout"><div name="gform" class="map-form" id="gform" method="post" style="margin-bottom: 5px; float: left; width: 30%;height:90%"><div style="padding:5px;"><input id="address" class="modernInput" tabindex="0" style="width: 100%;eight:30px; font-size: 16px;" name="address" type="text" value="" placeholder="Search the location and press enter" title="Search the location and press enter" /></div><form><table style="width: 100%;" class="map-popup-table"><tr><td colspan="2"><span class="geoCords moder-text-style"></span></td></tr><tr><td colspan="2"><input type="hidden" name="distance" style="width: 200px" class="modernInput" /><span class="distance moder-text-style" ></span></td></tr><tr><td class="moder-text-style">Pickup/Drop point<span class="mandatory">*</span></td><td><input type="text" id="addressText" tabindex="0" mandatory="true" name="addressText" value="" style="width: 100%;" class="modernInput" /><span class="addressCheck moder-text-error"  /></td></tr><tr><td class="moder-text-style">Landmark</td><td><input type="text" id="landmark" tabindex="0" name="landmark" value="" style="width: 100%;" class="modernInput" /></td></tr>{{if STW.Cache.getOfficeNodalShuttleMappingEnabled()}}<tr><td style="padding-top:8px"><span class="moder-text-style">Office</span></td><td style="padding-top:8px"class="modern-chosen-div" ><select class="add-office-id" name="officeIds" data-placeholder="Select Office" multiple id="addOfficeId" style="width: 200px;"></select></td></tr>{{/if}}<tr><td colspan="2" style="text-align:left;"><input type="button" class="wis-btn-sm" name="saveLocation" tabindex="2" value="Save Location" style="margin:10px auto;" /></td></tr></table><input type="hidden" name="geoCord" style="width: 200px" /><input type="hidden" name="cityName" value="" /><input type="hidden" name="type" value="" /><input type="hidden" name="id" value="0" /></form></div><div id="location_map_canvas" style="float: right; width: 70%; height: 90%;"></div></div></div></div></script><script type="text/x-jquery-tmpl" id="locationTableTemplate"><div class="fixTableHead"><table style="width: 100%;" class="modern-table"><tr><th>S. No.</th>{{if STW.Cache.getOfficeNodalShuttleMappingEnabled()}}<th>Office</th>{{/if}}<th>Pickup/Drop point</th><th>Landmark</th><th>Geo Cords</th><th class="roleBasedAccess" functionalities="nodal_edit" style="text-align:center">Action</th></tr>{{each(index, location) locations}}<tr><td >${index+1}</td>{{if STW.Cache.getOfficeNodalShuttleMappingEnabled()}}<td>${location.officeName}</td>{{/if}}<td>${location.address}</td><td>${location.landmark}</td><td>${location.geoCord}</td><td class="roleBasedAccess table-action" functionalities="nodal_edit"><a class="editLocation" index="${index}" ><img src="img/icon.svg" /></a><a class="deleteLocation" index="${index}" style="margin-left:10px;"><img src="img/Union.svg"/></a></td></tr>{{/each}}</table></div></script><script id="createEmployee" type="text/x-jquery-tmpl"><div id="manageEmployeePage" style="background-color: white; float: left; clear: both;"><div class="empForm" style="float: left; background-color: white; width: 350px;"><form  method="post" name=empForm ><table style="margin:auto;background-image:none;width:100%;" class="insidewidget formtable1"><tbody><tr><td style="width:80px;"><label class="" id="">Emp ID<span class="mandatory">*</span></label></td><td class="access-based-matrix" pii_id="EMP_ID">{{if employee.stwId == 0 || permissions.eid}}<input name="eid" id="employeeId" mandatory="true" type="text" maxLength="50" title="1 to 50 characters" value="" style="float: left;"><span class="eidCheck" style="float: left; clear: both" ></span>{{else}}${employee.eid}{{/if}}</td></tr><tr><td><label>Email ID<span id="emailIdManadatory" class= "mandatory">*</span></label></td><td class="access-based-matrix" pii_id="EMP_EMAIL">{{if employee.stwId == 0 || permissions.emailId}}<input name="alias" id="employeeEmail" mandatory="true" type="text" maxLength="80" title="5 to 80 characters" value="" style="float: left;" ><span class="emailCheck" id="employeeEmail" class="access-based-matrix" pii_id="EMP_EMAIL" style="float: left; clear: both;" ></span>{{else}}${employee.alias}{{/if}}</td></tr><tr><td><label>Name<span class="mandatory">*</span></label></td><td class="access-based-matrix" pii_id="EMP_NAME">{{if employee.stwId == 0 || permissions.name}}<input name="name" id="employeeName" class="access-based-matrix" pii_id="EMP_NAME" mandatory="true" type="text" maxLength="100" title="1 to 100 characters" ><span class="nameCheck" id="employeeName" class="access-based-matrix" pii_id="EMP_NAME" style="float: left; clear: both;" ></span>{{else}}${employee.name}{{/if}}</td></tr>{{if STW.Cache.isJobTitleEnabled()}}<tr class="jobTitle"><td style="width:80px;" id= "jobTitleDisplayValue"></td><td>{{if employee.stwId == 0 || permissions.jobtitle}}<select id="selectJobTitle" name="jobTitle" ></select>{{else}}${employee.jobTitle}<input type="hidden" name="jobTitle" value="${employee.jobTitle}">{{/if}}</td></tr>{{/if}}{{if STW.Cache.isBcpEnabled()}}<tr class="bcp"><td style="width:80px;"><label>BCP</label></td><td id="bcpCriticalCheckbox"></td></tr>{{/if}}{{if employee.stwId != 0 && STW.Cache.isContactlessSigninEnabled()}}<tr><td><label>RFID Tag</label></td><td><label>${employee.rfidTagId}</label></td></tr>{{/if}}<tr><td><label>Gender</label></td><td class="access-based-matrix" pii_id="EMP_GEN">{{if employee.stwId == 0 || permissions.gender}}<label style="padding:0"><input name="gender" class="access-based-matrix" pii_id="EMP_GENDER" type="radio" value=0 /><span style="margin-left:5px;">Male</span></label><label style="padding:0"><input name="gender" class="access-based-matrix" pii_id="EMP_GENDER" type="radio" style="margin-left: 10px" value=1 /><span style="margin-left:5px;">Female</span></label>{{else}}${employee.gender==STW.Constants.FEMALE ? "Female" : employee.gender==STW.Constants.MALE ? "Male": employee.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral" : "NA"}{{/if}}</td></tr><tr><td><label>Transport User</label></td><td class="editTransportUser">{{if employee.stwId == 0}}<span class="transportUser"></span><input name="transportUser" type="hidden" value=true />{{else permissions.transportUser}}<label style="padding:0"><input name="transportUser" type="checkbox" value=true /></label>{{else}}${employee.transportUser ? "Yes" : "No"}{{/if}}</td></tr>{{if STW.Cache.isUserTypesEnabled()}}<tr><td><label>User Type</label></td><td id="selectRole">{{if employee.stwId == 0 || permissions.roles}}<select name="userType">{{each(k, userType) employee.userTypes}}<option value="${userType}">${userType}</option>{{/each}}</select>{{else}}${employee.userType}{{/if}}</td></tr>{{else employee.employeeRoles[0].roleId ==  STW.Constants.ROLE_EMP || employee.employeeRoles[0].roleId ==  STW.Constants.ROLE_ESCORT}}<tr><td><label>Passenger</label></td><td id="selectRole">{{if employee.stwId == 0 || permissions.roles}}<select name="roleId"><option value="roles[i].roleId">Please wait...</option></select>{{else}}${employee.employeeRoles[0].displayName}{{/if}}</td></tr>{{else}}<tr><td><label>Role</label></td><td>${employee.employeeRoles[0].displayName}</td></tr>{{/if}}<tr><td><label>Mobile{{if STW.Cache.isVerizonEmployeeLogin()}}<span class="mandatory">*</span>{{/if}}</label></td><td class="access-based-matrix" pii_id="EMP_MOB">{{if employee.stwId == 0 || permissions.phone}}{{if STW.Cache.isVerizonEmployeeLogin()}}<input name="phone1" type="text" mandatory="true" class="phoneNumber" maxLength="20" title="The number will be used for Mobile App registration and SMS are sent to the number" placeholder="To be entered" />{{else}}<input name="phone1" type="text" class="phoneNumber" maxLength="20" title="The number will be used for Mobile App registration and SMS are sent to the number" placeholder="To be entered" />{{/if}}{{else}}${employee.phone1}{{/if}}</td></tr><tr id="phone1Err"  style="display:none"><td colspan="2" style="color:red;"><i>Please enter a ten digit number. e.g(1234567890)</i></td></tr>{{if employee.stwId == 0 || permissions.subscribeMobileApp || permissions.subscribeSMS}}<tr class="escortChange"><td><label>Subscribe</label></td><td style="position:relative;">{{if employee.stwId == 0 || permissions.subscribeMobileApp}}<input type="checkbox" name="subscribeMobileApp" value="true" /><span style="position:absolute;top:3px;left:20px;">Mobile App</span>{{/if}}{{if employee.stwId == 0 || permissions.subscribeSMS}}<input type="checkbox" name="subscribeSMS" value="true" style="position:absolute;left:90px;"/><span style="position:absolute;left:108px;top:3px;">SMS</span>{{/if}}</td></tr>{{/if}}<tr><td><label>Alternate</label></td><td class="access-based-matrix" pii_id="EMP_MOB">{{if employee.stwId == 0 || permissions.phone}}<input name="phone2" class="phoneNumber" maxLength="11" title="10 to 11 characters" placeholder="Phone" style="color:#808080;" />{{else}}${employee.phone2}{{/if}}</td></tr><tr id="phone2Err" style="display:none"><td colspan="2" style="color:red;"><i>Please enter a valid phone number.</i></td></tr><tr><td><label>Office<span class="mandatory">*</span></label></td><td>{{if employee.stwId == 0 || permissions.office}}<div id="selectOffice"><select name="officeId" ></select><a class="officeHistory" style="float: right;">History</a></div><div class="officeWarning" style="display: none;color:red;"><i>Please select the office</i></div>{{else}}${STW.Cache.getOfficeAddress(employee.officeId)}{{/if}}</td></tr>{{if STW.Cache.hideTeamSelectionFromEmployeeProfile() == false}}<tr class="escortChange"><td><label>Team</label></td><td class="selectProject">{{if employee.stwId == 0 &&  STW.Cache.isUserTypesEnabled()}}<input type="hidden" name="project.stwpid" id="projectId"><input type="hidden" name="project.keyword"><span class="projectName">${employee.project.name}</span>{{else employee.stwId == 0 || permissions.project && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_EMP}}<div id="searchTeamsComboCont"></div><input type="hidden" name="project.stwpid" id="projectId"><input type="hidden" name="project.keyword">{{else}}<input type="hidden" name="project.stwpid" id="projectId"><span class="projectName">${employee.project.name}</span>{{/if}}</td></tr>{{/if}}{{if STW.Cache.isReportingManagerEnabled()}}<tr><td><label>Reporting</label><br><label> Manager</label></td><td><div id="searchRM">{{if permissions.reportingManager}}<div id="rmSearchComboCont"></div><input type="hidden" name="reportingManagerId" id="rmId">{{else}}${employee.reportingManager == undefined ? "" : employee.reportingManager.name}{{/if}}</div><label>Add reporting manager if different from team manager</label></td></tr>{{/if}}<tr class="escortChange"><td><label>Pickup/Drop Point</label></td>{{if STW.Cache.isSecondaryAddressFeatureEnabled()}}<td class="access-based-matrix" pii_id="EMP_ADDR"><select name="employeeHome" style="width: 150px; margin-right:10px;" ></select><a class="removeSecondaryHome escortChange" style="font-size: 30px;display: none" title="Remove Secondary Address">-</a>{{if employee.stwId != 0}}<a class="addSecondaryHome escortChange" style="font-size: 30px;" title="Add Secondary Address">+</a>{{/if}}</td>{{/if}}</tr><tr class="localityChange"><td><label>Pickup/Drop point{{if STW.Cache.isVerizonEmployeeLogin()}}<span class="mandatory">*</span>{{/if}}</label></td><td class="access-based-matrix" pii_id="EMP_ADDR">{{if employee.stwId == 0 || permissions.home}}{{if STW.Cache.isVerizonEmployeeLogin()}}<textarea name="primaryAddress.home.address" mandatory="true" style="height: 60px; overflow-x: hidden;" rows="3" maxLength="500" title="0 to 500 characters" ></textarea>{{else}}<textarea name="primaryAddress.home.address"  style="height: 60px; overflow-x: hidden;" rows="3" maxLength="500" title="0 to 500 characters" ></textarea>{{/if}}<input type="hidden" value="" name="primaryAddress.id" /><input type="hidden" value="" name="primaryAddress.home.geoCord" /><input type="hidden" value="" name="primaryAddress.home.id" /><input type="hidden" value="" name="primaryAddress.home.cityName" /><input type="hidden" value="" name="primaryAddress.status" />{{else}}${employee.primaryAddress.home.address}<input type="hidden" name="primaryAddress.home.address" /><input type="hidden" value="" name="primaryAddress.id" /><input type="hidden" value="" name="primaryAddress.home.geoCord" /><input type="hidden" value="" name="primaryAddress.home.id" /><input type="hidden" value="" name="primaryAddress.home.cityName" /><input type="hidden" value="" name="primaryAddress.status" />{{/if}}</td></tr>{{if STW.Cache.isSecondaryAddressFeatureEnabled()}}<tr class="secondaryAddress"><td><label>Pickup/Drop point{{if STW.Cache.isVerizonEmployeeLogin()}}<span class="mandatory">*</span>{{/if}}</label></td><td>{{if employee.stwId == 0 || permissions.home}}{{if STW.Cache.isVerizonEmployeeLogin()}}<textarea name="secondaryAddress.home.address" mandatory="true" style="height: 60px; overflow-x: hidden;" rows="3" maxLength="500" title="0 to 500 characters" ></textarea>{{else}}<textarea name="secondaryAddress.home.address" style="height: 60px; overflow-x: hidden;" rows="3" maxLength="500" title="0 to 500 characters" ></textarea>{{/if}}<input type="hidden" value="" name="secondaryAddress.id" /><input type="hidden" value="" name="secondaryAddress.home.geoCord" /><input type="hidden" value="" name="secondaryAddress.home.id" /><input type="hidden" value="" name="secondaryAddress.home.cityName" /><input type="hidden" value="" name="secondaryAddress.status" />{{else}}${employee.secondaryAddress.home.address}<input type="hidden" name="secondaryAddress.home.address" /><input type="hidden" value="" name="secondaryAddress.id" /><input type="hidden" value="" name="secondaryAddress.home.geoCord" /><input type="hidden" value="" name="secondaryAddress.home.id" /><input type="hidden" value="" name="secondaryAddress.home.cityName" /><input type="hidden" value="" name="secondaryAddress.status" />{{/if}}</td></tr>{{/if}}{{if employee.stwId != 0 && STW.Cache.isHideRequestAddressChangeEnabled() == false && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_COMPLIANCE_MANAGER}}<tr class="requestAddressChange" ><td colspan="2"><a target="_blank" tabindex="16">Request Pickup/Drop Point Change</a></td></tr>{{/if}}<tr class="localityChange"><td><label>Landmark</label>{{if STW.Cache.isVerizonEmployeeLogin() == false}}<br><label>/Locality</label>{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">{{if employee.stwId == 0 || permissions.home}}<textarea name="primaryAddress.home.landmark" style="overflow-x: hidden;" rows="2" maxLength="100" title="0 to 100 characters"></textarea>{{else}}<input type="hidden" name="primaryAddress.home.landmark" />${employee.primaryAddress.home.landmark}{{/if}}</td></tr><tr class="secondaryAddress"><td><label>Landmark</label>{{if STW.Cache.isVerizonEmployeeLogin() == false}}<br><label>/Locality</label>{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">{{if employee.stwId == 0 || permissions.home}}<textarea name="secondaryAddress.home.landmark" style="overflow-x: hidden;" rows="2" maxLength="100" title="0 to 100 characters" ></textarea>{{else}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && employee.secondaryAddress}}<input type="hidden" name="secondaryAddress.home.landmark" />${employee.secondaryAddress.home.landmark}{{/if}}{{/if}}</td></tr>{{if STW.Cache.getNodalVisibility()}}<tr class="escortChange"><td>{{if STW.Cache.isVerizonEmployeeLogin()}}<label>Locality</label>{{else}}<label>Nodal Point</label></td>{{/if}}<td class="access-based-matrix" pii_id="EMP_ADDR">{{if employee.stwId == 0 || permissions.pickup}}<select name="pickup.id" style="width: 150px;"></select><input type="hidden" value="" name="pickup.geoCord" /><input type="hidden" value="" name="pickup.address" /><input type="hidden" value="" name="pickup.cityName" />{{else}}<select type="hidden" value="" name="pickup.id" style="display: none"></select><label id="nodalLabel">${employee.pickup ? employee.pickup.address : "None"}</label><input type="hidden" value="" name="pickup.geoCord" /><input type="hidden" value="" name="pickup.address" /><input type="hidden" value="" name="pickup.cityName" />{{/if}}</td></tr>{{if employee.stwId == 0 || permissions.pickup}}<tr class="escortChange" style="text-align: right;"><td colspan="2"><a class="showHideNodalPoints">Show Nodal Point</a></td></tr>{{/if}}{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<tr><td colspan="2"><label>Shuttle Point</label><label style="margin-left:20px;">Normal</label></td><td><label>Special</label></td></tr>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}{{if hasShuttleStopChangePermission}}<tr class="escortChange"><td><label>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}Login{{else}}Login Shuttle Stop{{/if}}{{else}}Shuttle Stop{{/if}}</label></td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td colspan="2"><select name="loginShuttleStop.id" style="width: 100px;"></select><select style="margin-left:20px; width:100px;" name="additionalLoginShuttleStop.id" style="width: 100px;"></select></td>{{else}}<td><select name="loginShuttleStop.id" style="width: 150px;"></select></td>{{/if}}</tr>{{else}}<input type="hidden" name="loginShuttleStop.id" value="-1"><tr><td><label>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}Login{{else}}Login Shuttle Stop{{/if}}{{else}}Shuttle Stop{{/if}}</label></td><td><label id="loginShuttleStopName">None</label></td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label id="additionalLoginShuttleStopName">None</label></td>{{/if}}</tr>{{/if}}{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if hasShuttleStopChangePermission}}<tr class="escortChange">{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label>Logout</label></td>{{else}}<td><label>Logout Shuttle Stop</label></td>{{/if}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td colspan="2"><select name="logoutShuttleStop.id" style="width: 100px;"></select><select style="margin-left:20px; width:100px;" name="additionalLogoutShuttleStop.id" style="width: 100px;"></select></td>{{else}}<td><select name="logoutShuttleStop.id" style="width: 150px;"></select></td>{{/if}}</tr>{{else}}<input type="hidden" name="logoutShuttleStop.id" value="-1"><tr>{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label>Logout</label></td>{{else}}<td><label>Logout Shuttle Stop</label></td>{{/if}}<td><label id="logoutShuttleStopName">None</label></td>{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label id="additionalLogoutShuttleStopName">None</label></td>{{/if}}</tr>{{/if}}{{/if}}{{if STW.Cache.isBillingZoneFeatureEnabled() && permissions.billingZone && STW.Cache.isNodalBillingZonesEnabled() == false}}<tr class="billingZones"><td><label>Billing Zone<span class="mandatory">*</span></label></td><td class="billingZone"><div><select name="billingZoneId" style="width:150px;">{{each(k, billingZone) billingZones}}<option value="${id}">${zoneName}</option>{{/each}}</select><a class="billingZoneHistory" style="float: right;">History</a></div><div class="billingZoneErr" style="display: none;color:red;"><i>Please enter billing zone</i></div></td></tr>{{/if}}{{if STW.Cache.isCostCenterFeatureEnabled() && permissions.costCenter}}<tr class="costCenters"><td><label>Cost Center<span class="mandatory">*</span></label></td><td class="costCenter"><div><span class="costCenterName"><a class="assignCostCenter" mandatory="true" select name="costCenterId">${costCenter!=undefined ? costCenter.name : "Assign"}</a></span><input type="hidden" name="costCenter.id"><input type="hidden" name="costCenter.startTime"><a class="costCenterHistory" style="float: right;">History</a></div><div class="costCenterErr" style="display: none;color:red;"><i>Please enter cost center</i></div></td></tr>{{/if}}{{if STW.Cache.isDepartmentEnabled() && permissions.businessUnit}}<tr class="departments"><td><label>Business Unit<span class="mandatory">*</span></label></td><td class="depart"><div><a class="assignDepartment" mandatory="true" select name="deptId">${department!=undefined ? department.name : "Assign"}</a><input type="hidden" name="department.id"><input type="hidden" name="department.startTime"><a class="departmentHistory" style="float: right;">History</a></div><div class="deptErr" style="display: none;color:red;"><i>Please enter business unit</i></div></td></tr>{{/if}}{{if STW.Cache.isSpecialNeedFeatureEnabled() &&(employee.stwId != 0 && STW.USER.eid != employee.eid)&& permissions.specialNeed}}<tr class="specialNeed"><td><label>Special Need</label></td><td class="access-based-matrix" pii_id="EMP_SPECIAL"><a class="markspecialneed">${specialneed!=undefined ? specialneed.name : "Mark"}</a><input type="hidden" name="specialNeed.id"><input type="hidden" name="specialNeed.startDate"><input type="hidden" name="specialNeed.endDate"><input type="hidden" name="specialNeed.name"><a class="splNeedHistory" style="float: right;">History</a></td></tr>{{/if}}{{if permissions.removeEmployee != false && employee.stwId != 0 && STW.USER.eid != employee.eid}}{{if employee.status == STW.Constants.STATUS_ACTIVE}}{{if employee.deactivationDate != null}}<tr class="deactivatedEmp" }><td colspan=2><div style="width: 80%;float: left;">Employee will be removed w.e.f ${dateMngr.changeFormatToServer(employee.deactivationDate)} </div><div><a class="modifyDeactivationDate">modify</a></div></td></tr>{{/if}}<tr  class="removeEmployee" style=${employee.deactivationDate != null ? "display:none;" : ""}><td colspan="2"><label>Remove Employee</label><input class="datePickerForRemoveEmployee" type="checkbox" name="isRemoved" value="true" /></td></tr><tr class="removeEmployeeDate" id="removeEmployeeDateOption" style="display:none;"><td><label>Remove w.e.f </label></td><td><div class="datePickerCont"><input class="datePicker" readonly name="deactivationDate" type="text" value="" width="100px" title="Date format: dd/MM/yyyy" style="width:80%"></div></tr>{{else}}<tr class="reactivateEmployee"><td colspan="2"><label>Reactivate Employee</label><input type="checkbox" name="isReactivated" value="true" /></td></tr>{{/if}}{{/if}}{{if employee.stwId == 0 || permissions.subscribeEmail}}<tr class="escortChange" ><td colspan="2"><label>Subscribe Email : </label><input type="checkbox" name="subscribeEmail" value="true" /></td></tr>{{/if}}{{if STW.Cache.isBusPassIdentifierEnabled() && permissions.busAccess}}<td colspan="3"><label>Bus Pass Holder: </label><input id="busPassIdentifier" type="checkbox" name="busPassIdentifier" value="true" /><a class="busPassHistory" style="float: right;">History</a></td>{{/if}}<tr class="restrictEmployee"><td colspan="2"><select name="PrivelegedOptions" ><option value="default" selected="selected">Please Select Option</option>{{if RoleUtils.isPrivilegedRole() || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PM}}<option value="empRequest">Request</option>{{/if}}{{if RoleUtils.isPrivilegedRole() }}<option value="editExceptions" >Shift Exceptions</option>{{if STW.Cache.isProfileEditPermissionsDisabled() == false }}<option value="editPermissions">Edit Permissions</option>{{/if}}<option value="editShiftPermissions">Edit Shift Permission</option>{{if STW.Cache.getPermission("password")}}<option value="resetPassword" >Reset Password</option>{{/if}}{{/if}}{{if STW.Cache.getPermission("pin")}}<option value="resetPin" >Reset PIN</option>{{/if}}<option value="addEditComment" >Comment</option></select></td></tr>{{if employee.employeeRoles[0].roleId == STW.Constants.ROLE_ESCORT && RoleUtils.isPrivilegedRole() && STW.Cache.isEnableOtpBasedSignInForEscort() && employee.status == 1}}<tr class=""><td><button class="sendOtp" type=button>Send OTP</button></td></tr>{{/if}}<tr class="empRequestBox" style="display: none;"><td colspan="2"><textarea rows="6" cols="" name="request" maxLength="150" title="0 to 150 characters"></textarea></td></tr><tr class="empCommentBox" style="display: none;"><td colspan="2"><textarea rows="4" cols="" name="empComment"></textarea></td></tr><tr style="height:40px" class="centerAlign saveCancelButton"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1 roleBasedAccess" functionalities="employee_edit" type="submit"  value="Apply" /><input class="buttonstyle1" type=reset name="cancel" value="Close"/></td></tr></tbody></table></form><div id="createEmployeeErr"></div></div><div class="gform access-based-matrix" pii_id="EMP_MAP_ADDR" style="float: right; height: 600px; background-color: white; border: 1px solid #CCCCCC;"><div style="float: left; margin-right:10px; padding:5px;"><input id="address" tabindex="0" style="width: 400px; height:30px; font-size: 16px;" name="address" type="text" value="" placeholder="Search the location and press enter" title="Search the location and press enter" /></div><form name="gform"  method="post" style="margin-bottom:5px"><input name="geoCord" style="width: 200px" type="hidden" /><input name="cityName" value="" type="hidden" /><input name="type" value="" type="hidden" /><input class="buttonstyle1" type="button" name="showPickUpDrop" value="Show Pick-Up/Drop-Off" class="testingPickUp"/><input class="buttonstyle1" type="button" name="hidePickUpDrop" value="Hide PickUp/Drop" style="display:none;"/><span style="display:none" class="pickDate"><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; width: 10%;" /></span><input type="hidden" name="distance" style="width: 200px" /><span class="geoCords" style="float: right; margin: 10px; font-weight: bold;"></span><span class="distance" style="float: right; margin: 10px 0; font-weight: bold;"></span></form><div id="emp_map_canvas" style="width:99%; height:96%;"></div></div></div></script><script id="privilegeTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 200px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Privilege Name</th><th>Status</th></tr>{{each(k, permission) permissions}}{{if typeof permissions[k] == "boolean" && (shiftPermissionsOnly == false || k == "shift")}}<tr><td style="padding-left : 10px">${k}</td><td><input type="checkbox" name="${k}" value="true" ${permissions[k]?"checked=checked":""} /></td></tr>{{/if}}{{/each}}<tr style="height:40px" class="centerAlign saveCancelButton"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="submit"  value="Apply" /><input class="buttonstyle1" type=reset name="cancel" value="Close"/></td></tr></table></form></div></script><script id="shiftExceptionTemplate" type="text/x-jquery-tmpl"><div style="min-height:120px;width:400px;"><form><div class="exceptionList"></div><table class="exceptionDetails formtable" style="display:none"><tr class="addNewException" style="display:none"><td><label>Day</label></td><td colspan="3" class="dayList"></td></tr><tr><td><label>Login:</label></td><td class="login"></td><td style="width: 50%;"><label>Custom Routing: </label></td><td><input type="checkbox" name="donotRouteLogin" value="true" /></td></tr><tr><td><label>Logout:</label></td><td class="logout"></td><td style="width: 50%;"><label>Custom Routing: </label></td><td><input type="checkbox" name="donotRouteLogout" value="true" /></td></tr><tr class="modifyExceptions" style="height: 40px;"><td colspan="4" style="border-bottom: none;"><input class="updateException buttonstyle1" type="button" value="Update" /><input class="cancelException buttonstyle1" type="button" value="Cancel" style="margin-right: 50px" /><input class="removeException buttonstyle1" type="button" value="Remove" /></tr></table></form></div></script><script id="costCenterAssignTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 300px; margin-top:0px" class="formtable" cellspacing=0px><tr><td style="width: 30%;">Cost center</td><td><div id="costCenterSearchBox"></div><input type="hidden" name="costCenterId" id="costCenterId"></td></tr><tr><td>Active since</td><td><input class="datePicker" name="startTime" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr><tr style="height:40px" class="centerAlign saveCancelButton"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="submit"  value="Apply" /><input class="buttonstyle1" type=reset name="cancel" value="Close"/></td></tr></table></form></div></script><script id="departmentAssignTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 350px; margin-top:0px" class="formtable" cellspacing=0px><tr><td style="width: 30%;">Business Unit</td><td><div id="departmentSearchBox"></div><input type="hidden" name="departmentId" id="departmentId"></td></tr><tr><td>Active since</td><td><input class="datePicker" name="startTime" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr><tr style="height:40px" class="centerAlign saveCancelButton"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="submit"  value="Apply" /><input class="buttonstyle1" type=reset name="cancel" value="Close"/></td></tr></table></form></div></script><script id="MarkSpecialNeedTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 350px; margin-top:0px" class="formtable" cellspacing=0px><tr><td style="width: 30%;">Special Needs</td><td><div id="specialNeeddiv"></div></td></tr><tr><td>Start Date</td><td><input class="datePicker" id="startdate" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr><tr><td>End Date</td><td><input class="datePicker" id="enddate" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr><tr style="height:40px" class="centerAlign saveCancelButton"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="button"  id="changeneed" value="Apply" /><input class="buttonstyle1" type=reset name="cancel" value="Close"/></td></tr></table></form></div></script><script id="billingZoneHistoryTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="costCenterHistoryTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="employeeOfficeAuditTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="departmentHistoryTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="splNeedHistoryTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="genderSelectionTemplate" type="text/x-jquery-tmpl"><div style="width: 500px;"><form><table style="margin-top:0px;" class="genderSelectionTable formtable" cellspacing=0px><tr><td>To proceed further, you must select your gender</td></tr><tr><td style="text-align:center;"><label style="padding:0;"><input name="gender" type="radio" style="vertical-align: middle;" value=0 /><span style="margin-left: 20px;">Male</span></label><label style="padding:0;"><input name="gender" type="radio" style="margin-left: 100px; vertical-align: middle;" value=1 /><span style="margin-left: 20px;">Female</span></label></td></tr><tr class="centerAlign saveCancelButton"><td style="text-align:center;border-bottom:none;"><input class="logoutGender btn-danger" type="button" name="logout" value="Logout" /><input class="btn-success" style="margin-left: 50px;" type="submit" value="Apply" /></td></tr></table></form></div></script><script id="employeeBusPassAuditTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Action</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script id="escortTemplate" type="text/x-jquery-tmpl"><tr><th style="width:60x;"><span>Employee Details</span></th></tr></script><script id="escortTemplate-body" type="text/x-jquery-tmpl">{{if employee.status == STW.Constants.STATUS_INACTIVE}}<tr class="deactivatedEmployee" style="display:none;" style="width: 60px !important;">{{else}}<tr class="transportEmployees" style="width: 60px !important;">{{/if}}<td style="padding-left:10px;"><a class="editEmployeeDetails" stwId=${stwId}>${employee.name}</a><span>${employee.eid}</span></td></tr></script><script id="resetPasswordTemplate" type="text/x-jquery-tmpl"><div class="resetPassword insidewidget"style="width: 700px; margin: auto"><form class="resetPasswordForm" id="resetPasswordForm"><table style="margin: 0 auto; width: 90%" class="formtable"><tbody><tr><td style="width: 50%"><label>Enter Password</label></td><td><div><input name="userPassword" type="text" maxLength="11" title="Please Enter Password" autocomplete="off" /></div><div class="errorMessage" style="color: red"></div></td></tr></tbody></table><div style="text-align:center;margin:10px" class="selectedTable"><input type="submit" class="buttonstyle1" name="create" value="Set Password" /><input type="button" class="buttonstyle1" name="cancel" value="Close"/></div></form></div></script><script id="resetPinTemplate" type="text/x-jquery-tmpl"><div class="resetPin insidewidget"style="width: 700px; margin: auto"><form class="resetPinForm" id="resetPinForm"><table style="margin: 0 auto; width: 90%" class="formtable"><tbody><tr><td style="width: 50%"><label><input type="radio" name="pinType" checked="checked" id="userPin" value="userPin"/>Enter PIN</label></td><td><div><input name="userPin" type="text" maxLength="4" onpaste="return false;" placeholder="Enter 4 Digits Pin" title="Please Enter PIN"" /></div><div class="errorMessage" style="color: red"></div></td></tr><tr><td><label><input type="radio" name="pinType" id="autoPin" value="autoPin"/>Generate Pin Automatically</label></td><td><input name="autoPin" type="hidden" /><span class="autoPin"></span></td></tr></tbody></table><div style="text-align:center;margin:10px" class="selectedTable"><input type="submit" class="buttonstyle1" name="create" value="Set PIN" /><input type="button" class="buttonstyle1" name="cancel" value="Close"/></div></form></div></script><script type="text/x-jquery-tmpl" id="amazonOptInOptOut"><!--<div style="width:610px; height:610px;"><form><table class="optTable insidewidget formtable">{{if (isChangedByOther)}}<tr><td><strong>Start Date</strong></td><td><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:75px;"/></td></tr>{{/if}}<tr><td><h2>Please one of the following button to select your shift transportation preference</h2></td></tr><tr><td><input id=":r1" type="radio" name="status" value="OPTIN" ${loginStatus?"checked":""}  /> <label for=":r1" class="check">OPTIN</label></td><td><input id=":r2" type="radio" name="status" value="OPTIN_NIGHT" ${nightLogin && loginStatus == false ?"checked":""} /> <label for=":r2">OPTIN AT NIGHT</label></td><td><input id=":r3" type="radio" name="status" value="OPTOUT" ${loginStatus == false && nightLogin == false ?"checked":""} /><label for=":r3">OPTOUT</label></td></tr>{{if (!isChangedByOther)}}<input type="hidden" name="id" value=${id}>{{/if}}<tr><td colspan=6><div style="margin: 20px auto; text-align: center;"><input type="submit" class="buttonstyle1" value="Submit" /></div></td></tr></table></form></div>--><style>#buttons a {font-size: 16px;border: none;border-radius: 2px;height: 40px;width: 30%;background-color: #D9D9D9;color: #FFF;cursor: pointer;margin: 0 10px;font-family: "Roboto", sans-serif;padding: 10px 50px;text-decoration: none;}#buttons{text-align: center;margin: 10px 0;}#buttons a.selectedOpt {background-color: #2D9B95;border: 0.083em solid #CDCDCD;color: #fff;}#buttons a.disabledOpt {background-color: #D9D9D9;border: 0.083em solid #F2F2F2;color: #000;}#buttons a:hover{opacity: .8;}.wrapper{font-family: "Roboto", sans-serif;padding: 40px 0 40px 0 ;}.center{text-align: center;font-family: "Roboto", sans-serif;margin: 7% 0 0 0;}.wrapper ol{margin: 0;}.wrapper ol li{font-size: 13px;color: #999999;font-family: "Roboto", sans-serif;}.center .formtable1 select, input:not([type="file"]){height: auto;}.center .radio-input{margin: 0px 25px;}.submit-btn{background: #94d1af;color: #000;font-family: "Roboto", sans-serif;font-size: 18px;width: 35%;margin: 6% 32.5%;height: 40px !important;text-align: center;cursor: pointer;}.bg_color{opacity: .8;}.center label{position: relative;top: -2px;}.opt-date{margin: 30px auto;width: 20%;text-align: center;}#login-shift-id{width : 100%;}</style><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"><div style="width:90vw; height:700px;"><form><div class="wrapper"><!--<ol><li>Opting in all shifts? Amount paid as reimbursement is deducted from salary</li><li>Opting in night shifts? Amount paid as reimbursement is deducted from salary</li><li>Opting out? Amount paid as reimbursement is not deducted from salary</li></ol>--></div><div style="width:80%; margin:20px auto">{{if (isChangedByOther)}}<div class="opt-date"><strong style="margin-right:10px">Start Date</strong><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:75px;"/></div>{{/if}}{{if (!isChangedByOther)}}<div class="opt-date"><strong style="margin-right:10px">Select Month</strong><select id="optin-choices"></select></div>{{/if}}<h2 style="text-align: center; font-size: 1.5em; margin-bottom: 4%">Please press one of the following button to select your monthly shift transportation preference</h2><!--<h2 class="optin-message" style="text-align: center"></h2>--><div id="buttons"><a id="all" class=${ nightLogin == false ?"selectedOpt":"disabledOpt"}>General Shifts</a><a id="night" class=${loginStatus == false && nightLogin == true ?"selectedOpt":"disabledOpt"}>Night Shifts Only</a></div><div class="center"><h5>Choose one from the below options</h5><span class="radio-input"><input id=":r1" type="radio" name="status" value="OPT_IN" ${loginStatus || nightLogin ?"checked":""}  /><label for=":r1" class="check">Opt In</label></span><span class="radio-input" id ="hide-optout"><input id=":r2" type="radio" name="status" value="OPT_OUT" ${nightLogin == false && loginStatus == false ?"checked":""} /><label for=":r2">Opt Out</label></span><br>{{if (!isChangedByOther)}}<input type="hidden" name="id" value=${id}>{{/if}}</div><input type="submit" class="submit-btn" value="UPDATE"><h2 class="optin-message" style="text-align: center"></h2></div></form></div></script><script type="text/x-jquery-tmpl" id="optInOptOut"><div style="width:400px; height:250px; padding:20px"><form><div style="text-align: center; margin:20px auto;">Select your monthly transportation preference</div><table class="optTable">{{if (isChangedByOther)}}<tr><td><div style="margin: 0 auto; text-align: center;"><span style="margin-right: 10px;">Start Date: </span><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:75px;"/></div></td></tr>{{/if}}<tr><td><div style="margin: 20px auto;" class="optInSwitch"><input type="checkbox" data-reverse="" name="optedIn" style="display: none;"></div></td></tr>{{if (!isChangedByOther)}}<input type="hidden" name="id" value=${id}>{{/if}}<tr><td><div style="margin: 20px auto; text-align: center;"><input class="closePopup btn-danger" type="button" value="Close" style="width: 80px;"/><input class="saveOptin btn-success" type="button" value="Submit" style="width:100px;margin-left:50px;"/></div></td></tr></table></form></div></script><script type="text/x-jquery-templ" id="optin-history-dialog-tmpl"><div id="schedule-history-dialog"><div id="schedule-history-controls"><table><tr>{{if RoleUtils.isEmployeeRole() == false }}<td><br><div class="employeeAuditSearch" style="width:240px; height:24px;"></div></td>{{/if}}<td>From Date<br><input class="datePicker" name="start-date" type="text"	value="" title="Date format: dd/MM/yyyy" style="float: none;" disabled /></td><td>To Date<br><input class="datePicker" name="end-date" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" disabled /></td><td><br><input name="GO" value="GO" type="submit" class="buttonstyle1" style="min-height: 24px; min-width: 40px; margin-top: 0px;"/></td></tr></table></div><div id="optIn-history-table"></div></div></script><script type="text/x-jquery-tmpl" id="optInResponseTemplate"><table><thead><tr><th>Employee Id</th><th>Start Date</th><th>End Date</th><th>Login State</th><th>Logout State</th>{{if STW.Cache.isAmazonOptIn()}}<th>Night Optin</th>{{/if}}<th>Changed On</th><th>Changed By</th></tr></thead><tbody>{{each(i, history) data}}<tr><td>${history.employeeId}</td><td>${dateMngr.createCommFormate(history.startDate).split(" ")[0]}</td><td>${dateMngr.createCommFormate(history.endDate).split(" ")[0]}</td><td>${history.loginState}</td><td>${history.logoutState}</td>{{if STW.Cache.isAmazonOptIn()}}<td>${history.nightLogin}</	td>{{/if}}<td>${dateMngr.getDateAndTimeWithMilliSec(history.changedOn)}</td><td>${history.changedBy}</td></tr>{{/each}}</tbody></table></script><script id="passwordExpiryTemplate" type="text/x-jquery-tmpl"><div><form><table style="width: 400px" style="position:relative"><tr><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1" value="RESET" style="float: right;" /><input type="reset" class="buttonstyle1" name="notNow" id="notNow" value="NOT NOW" value="RESET" style="float: right;"/></td></tr></table></form></div></script><script id="employeeTNC" type="text/x-jquery-tmpl"><div><form><table style="position: relative; width: 500px"><tr><td><span style="font-size:15px;">${STW.Cache.acknowedgementOnUserCreationMessage()}</span></td></tr><tr><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" name="submit" class="buttonstyle1" value="Submit" /><input type="button" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></table></form></div></script><script id="first-male-cabs" type="text/x-jquery-tmpl"><div><style>.search-emp-name{width:130px;}</style><div class="result-info" style="display:none;"><span></span></div><table class=" first-male-cabs modern-table" style="position:relative"><thead><tr><th class="search-emp-name leftrad">Name</th><th>Contact No.</th><th>Trip ID</th><th>Shift Type</th><th>Shift Time</th><th class="rightrad">Track Vehicle</th></tr></thead><tbody>{{each(index, trip) tripList}}<tr><td>${trip.name}</td><td>${trip.contactNo}</td><td>${trip.tripId}</td><td>${trip.shiftType}</td><td>${trip.shiftTime}</td><td><a index="${index}" stwId="${trip.stwId}" class="track-cab">Track</a></td></tr>{{/each}}</tbody></table></div></script><script id="duty-list-with_issuses" type="text/x-jquery-tmpl"><div class="insidewidget" style="width:80%;margin:0 auto"><div class="duties_issuse" style="width:100%"><div class="tablehead" style="line-height:30px">DUTIES WITH ISSUES</div><table class="cab-duties-info formtable" style="float: left"><tr><td>Date:</td><td><span>${cabIssueDetail.getCabDateAndTime(prevData.date)}</span></td></tr><tr><td class="total-duties">Recorded duties</td><td><span class="displayval">${cabIssueDetail.getNumberOfDuties()}</span></td></tr><tr><td class="total-duties">Duties in progress</td><td><span class="displayval">${cabIssueDetail.getNumberOfIncompleteDuties()}</span></td></tr><tr><td class="total-duties">Duties with Issues</td><td><span class="displayval">${cabIssueDetail.getNumberOfDutiesWithIssues()}</span></td></tr></table><table class="tablestyle1" style="clear: both; font-weight: bold;"><tr><td style="width: 200px">Vehicle Id:${cabIssueDetail.getCabDisplayAndLicense()}</td><td style="width: 200px">Driver:${cabIssueDetail.getDriverName()}</td><td style="width: 200px">Contact:${cabIssueDetail.getDriverContact()}</td></tr></table></div><div class="duty-list"><table class="duty-issues-table tablestyle1" style="width:100%" cellspacing="0px"><thead class="duty-thead">{{if cabIssueDetail.dutyIssues.length>0}}<tr><th class="duty-sn leftrad">S. No.</th><th class="cab-id">Vehicle Id (regd)</th><th class="cab-type">Vehicle Type</th><th class="duty-start-time">Start Time</th><th class="duty-end-time">End Time</th><th class="duty-issues" style="width: 30%;">Issues</th><th class="duty-issues-action">Action</th><th class="duty-office rightrad">Office</th></tr>{{/if}}</thead><tbody>{{each(i, dutyIssue) cabIssueDetail.dutyIssues}}{{if dutyIssue.auditDone==false}}<tr><td class="duty-sn">${i+1}</td><td class="duty-sn">${cabIssueDetail.getCabDisplayAndLicense()}</td><td class="duty-sn">${cabIssueDetail.getCabType()}</td><td class="duty-start-time">${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td><td class="duty-end-time">{{if duty.state == STW.Constants.STATE_OFF_DUTY}}${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}{{else}}Duty In Progress{{/if}}</td><td class="duty-issues">{{each(k, issue) issues }}${issueType.getIssueTypeText(type)}<br/>{{/each}}</td><td class="duty-issues-action"><a href='javascript:{"rptName":"BillingDashboard_Servlet","dutyId":"${duty.dutyId}","cabId":"${cabIssueDetail.getCabId()}","method":"viewIncompleteDuty","date":"${dateMngr.getDateOnly(prevData.date)}"}'>Fix on Map</a><br>{{if dutyOperations.isEditable}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Edit Duty Details","cabId":"${cabIssueDetail.getCabId()}","dutyId":"${duty.dutyId}","context":"duty-list","method":"editDuty","date":"${prevData.date}"}'>Fix on Dutysheet</a><br>{{/if}}{{if dutyOperations.isTransferrable}}<a href='javascript:{"cabId":"${cabIssueDetail.getCabId()}","dutyId":"${duty.dutyId}","cabName":"${cabIssueDetail.getCabDisplayAndLicense()}","method":"transferDuty","date":"${prevData.date}"}' >Transfer</a><br>{{/if}}{{if dutyOperations.canForceEndDuty}}<br><span><a class="forceEndDuty" id="${dutyOperations.dutyId}" href='javascript:{"cabId":"${cabIssueDetail.getCabId()}","dutyId":"${duty.dutyId}","cabName":"${cabIssueDetail.getCabDisplayAndLicense()}","method":"forceDutyEnd","date":"${prevData.date}"}' >Force End Duty/Trip</a></span><br>{{else duty.state != STW.Constants.STATE_OFF_DUTY}}<br><span title="${forceEndDutyTitle(dutyOperations, duty)}" class="disabled-anchor" id="${dutyOperations.dutyId}">Force End Duty/Trip</span><br>{{/if}}</td><td class="duty-office">${cabIssueDetail.getDutyLevelOfficeName(dutyIssue)}</td></tr>{{/if}}{{/each}}</tbody></table><div style="height : 20px;">{{if cabIssueDetail.dutiesCountProper()}}Proper Number of Duties &nbsp;&nbsp;{{else}}Improper Number of Duties &nbsp;&nbsp;{{/if}}{{if cabIssueDetail.getCabContractId() != STW.Constants.STANDBY_CONTRACTID}}<span style="margin-left: 20px;"><a href='javascript:{"rptName":"Billing_Servlet","displayName":"Add Trip","method":"addTrip","cabId":"${cabIssueDetail.getCabId()}","date":"${prevData.date}"}' >Add Trip</a></span>{{if (STW.Cache.isAutoMergeDutiesEnaled() == true || STW.Cache.isOneTripPerDuty() == false) && cabIssueDetail.getNumberOfCompletedDuties() > 1}}<span style="margin-left: 20px;"><a href='javascript:{"rptName":"Billing_Servlet","displayName":"Merge Duties","index":${index},"method":"listCabDayDuties","cabId":"${cabIssueDetail.getCabId()}","date":"${prevData.date}"}' >Merge Duties</a></span>{{/if}}{{/if}}{{if cabIssueDetail.dutiesCountProper() == false}}<span style="margin-left: 20px;"><a class=markAbsent href='javascript:{"index" : "${prevData.index}","method":"markAbsent","cabId":"${cabIssueDetail.getCabId()}","date":"${prevData.date}"}' >Driver Absent</a></span>{{/if}}</div>{{if plannedTripsheets.length > 0}}<div class="plannedTripsNotDone"><div>List of planned trips not completed</div><table style="width: 100%;"><tr><th>S.No.</th><th>Start Time</th><th>End Time</th><th>Action</th></tr>{{each(i, tripsheet) plannedTripsheets}}<tr><td>${i}</td><td>${dateMngr.getTimeIn24Hours(tripsheet.employeeList[0].pickupTime)}</td><td>${dateMngr.getTimeIn24Hours(tripsheet.employeeList[rView.employeeList.length-1].dropTime)}</td><td><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Edit Duty Details","cabId":"${cabIssueDetail.getCabId()}","dutyId":"${duty.dutyId}","context":"duty-list","method":"resolveTripNotDone","date":"${prevData.date}"}'>Fix</a></td></tr>{{/each}}</table></div>{{/if}}</div></div></script><script type="text/x-jquery-tmpl" id="merge-duties-template"><div class="insidewidget" style="width:100%;margin:0 auto;"><div class=day-summary><table class="formtable"><thead><tr><th colspan=2 class="leftrad rightrad">Day Summary</th></tr></thead><tbody><tr><td>Vehicle ID</td><td>${cabIssueDetail.getDisplayCabId()}</td></tr><tr><td>Date</td><td>${prevData.date.split(" ")[0]}</td></tr></tbody></table></div><div class=duty-summary><form><table class="tablestyle1" style="width:90%" cellspacing="0px"><thead>{{if cabIssueDetail.dutyIssues.length>0}}<tr><th class="leftrad roleBasedAccess" functionalities="bill_edit"><input type=checkbox value=true name=selectAllDuties /></th><th>Total KM</th><th>Start Time</th><th>End Time</th><th>Duration</th><th>Total Trips</th><th class="rightrad">Actions</th></tr>{{/if}}</thead><tbody>{{each(i, dutyIssue) cabIssueDetail.dutyIssues}}{{if duty.status == STW.Constants.DUTY_STATUS_ACTIVE && duty.state == STW.Constants.STATE_OFF_DUTY}}<tr><td class="duty${i} roleBasedAccess" functionalities="bill_edit"><input type=checkbox value=${duty.dutyId} name=duties.${i}.dutyId class="selectDuty" /></td><td class="totalKM${i}">${universalFun.decimalRound(duty.dutyDistance + duty.garageKm + duty.calibration)}</td><td class="startTime${i}">${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td><td class="endTime${i}">${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}</td><td class="totalHours${i}">${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}</td><td class="numTrips${i}">${duty.billingTrips.length}</td><td><a class=edit-duty href='javascript:{"method":"editDuty","rptName":"TripWiseBreakUp_Report","displayName":"TripWise Breakup Report","cabId":"${cabIssueDetail.getCabId()}","dutyId":"${duty.dutyId}"}' >Edit </a> &nbsp;&nbsp;&nbsp;{{if dutyOperations.isDeletable}}<a class="delete-duty roleBasedAccess" functionalities="duty_delete" href='javascript:{"method":"deleteDuty","dutyId":"${duty.dutyId}","date":"${prevData.date.split(" ")[0]}","index" : "${prevData.index}"}' >Delete </a>{{else}}<a class="delete-duty roleBasedAccess" functionalities="duty_delete" style="color: gray;" title="Please restore the duty before deleting it">Delete </a>{{/if}}</td></tr>{{/if}}{{/each}}{{if cabIssueDetail.dutyIssues.length>0}}<tr style="height:40px"><td colspan=7 style="text-align:center;border-bottom:none;"><input type=button name=issueResolved class="buttonstyle1" value="Issues Resolved" style="width: 100px;"/><input type=submit value="Merge Duties" class="buttonstyle1" name=mergeDuties style="width: 100px;"/></td></tr>{{/if}}</tbody></table></form></div></div></script><script id="projectmanager-project-list-tmpl" type="text/x-jquery-tmpl"><table class="projectListTable modern-table"><thead style="position: sticky; top: 0;"><tr>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<th></th>{{/if}}<th>Name <img id="nameSort" style="float: right; margin-top: 8px; padding-right: 20px;" src="img/ic-action-sort2-24.svg"></th><th>Team Manager</th><th>Employees <img id="countEmpSort" style="float: right; margin-top: 8px; padding-right: 20px;" src="img/ic-action-sort2-24.svg"></th><th style="width: 110px; text-align: center">Edit Team</th><th style="width: 110px; text-align: center">History</th>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<th style="width: 110px; text-align: center">Delete</th>{{/if}}</tr></thead><tbody></tbody></table></script><script id="projectmanager-project-row-tmpl" type="text/x-jquery-tmpl"><tr>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<td><input type="checkbox" style="height: 24px; width: 24px;" name="pid${index}" value="${project.project.stwpid}" id="${project.project.name + 2}" /></td>{{/if}}<td>${universalFun.checkAvailability(project.project.name)}</td><td><span>{{html getProjectManagerDetails(project.project)}}</span></td><td>{{if STW.Cache.isManageEmployeesPageEnabled() }}<span index=${index}>${universalFun.checkAvailability(project.numEmployees)}</span>{{else}}<a style="font-size: 16px;color: #0937b2;" class="${project.project.name.split(" ").join("_") + 2} updateEmpShifts" index=${index}>${universalFun.checkAvailability(project.numEmployees)}</a>{{/if}}</td><td style="text-align: center;"><a class="updateProject${project.project.name.split(" ").join("_")} updateProject" index=${index}><img src="img/edit-pencil.svg"></a></td><td style="text-align: center;" class="viewProjectHistory" id="${project.project.stwpid}"><img style="cursor: pointer;" src="img/modern-history.svg"></td>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<td style="text-align: center;" class="deleteSingleProject" id="${project.project.stwpid}"><img style="cursor: pointer;" src="img/recycle.svg"></td>{{/if}}</tr></script><script type="text/x-jquery-tmpl" id="employeeInfoTemplate"><div style="width: 500px" ><form><table class="modern-table"><tr><td colspan="2">Employee Information</td></tr><tr><td style="width:40%">Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name="date" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" /></td></tr><tr><td style="width:40%">Profile</td><td class="profile"><input name="PROFILE" type="checkbox" checked style="float: none;" /></td></tr><tr class="others"><td style="width:40%">Others</td><td><input name="OTHERS" type="checkbox" checked  style="float: none;" /></td></tr><tr class="schedules"><td style="width:40%">Schedules</td><td><input name="SCHEDULES" type="checkbox" value=""  style="float: none;" /></td></tr><tr class="inemployees"><td style="width:40%">Inactive Employees</td><td><input name="STATUS" type="checkbox" value=""  style="float: none;" /></td></tr><tr><td colspan=2><a class="employeeInfoReport">Download Employee Information</a></td></tr></table></form></div></script><script type="text/x-jquery-tmpl" id="employeeBasicInfoTemplate"><div style="width: 500px" ><form><table class="modern-table"><tr><td colspan="2">Employee Information</td></tr><tr><td style="width:40%">Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name="date" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" /></td></tr><tr><td colspan=2><a class="employeeBasicInfoReport">Download Employee Information</a></td></tr></table></form></div></script><script type="text/x-jquery-tmpl" id="cancellationTemplate"><div><form><table style="margin: auto; position: relative; width: 350px" class="insidewidget formtable"><tr><td colspan="2" class="tablehead">Cancellation Reports</td></tr><tr><td style="width: 40%">Date</td><td><input class="datePicker" name="date" type="text" value=""title="Date format: dd/MM/yyyy" style="float: none;" /></td></tr><tr><td colspan=2><a class="cancellationReport">Download Cancellation Reports</a></td></tr></table></form></div></script><script type="text/x-jquery-tmpl" id="empInfoReportPasswordTemplate"><div id="employee-info-report-password" style="text-align: center;padding: 10px;font-size: 16px;">The password to see the downloaded Restricted Employee Info Report is ${password}</div></script><script type="text/x-jquery-tmpl" id="scheduleChangeReportTemplate"><div><form><table style="margin:auto;position:relative;width:350px" class="insidewidget formtable"><tr><td colspan="2" style="text-align:center" class="tablehead">Schedule Change Report</td></tr><tr><td style="width:12">Start Date</td><td><input class="datePicker" readonly="true" name="startDate" id="startDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" /></td></tr><tr><td style="width:12">End Date</td><td><input class="datePicker" readonly="true" name="endDate" id="endDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" /></td></tr><tr><td colspan=2><a class="scheduleChangeReport">Download Schedule Change Report</a></td></tr></table></form></div></script><script id="cabs-with-single-woman" type="text/x-jquery-tmpl"><div style="padding:10px;"><style>.search-emp-name{width:130px;}</style><div class="result-info" style="display:none;"><span></span></div><table class="cabs-with-single-woman insidewidget tablestyle1 popup-table" style="position:relative;margin:0px"><thead><tr><th class="search-emp-name leftrad">Name</th><th>Contact No.</th><th>Trip ID</th><th>VehicleId</th><th style="display:none">Expected Reaching Time</th><th>Shift Type</th><th>Shift Time</th><th>Planned Drop Time</th><th class="rightrad">Track Vehicle</th></tr></thead><tbody>{{each(index, trip) tripList}}<tr><td>${trip.name}</td><td>${trip.phone}</td><td>${trip.tripId}</td><td>${trip.cabId}</td><td style="display:none"></td><td>${trip.shiftType}</td><td>${trip.shiftTime}</td><td>${trip.plannedDropTime}</td><td><a index=${trip.index} stwId=${trip.stwId} class=track-cab>Track</a></td></tr>{{/each}}</tbody></table></div></script><script type="text/x-jquery-tmpl" id="add-parking-template"><div class=add-parking><form><table id=parking-table style="position:relative;margin-top:0px" class="insidewidget formtable"><thead></thead><tbody><tr><td colspan="2" class="tablehead">ADD PARKING/ TOLL</td></tr><tr><td>Date</td><td>{{if method=="getParking"}}${parking.date.split(" ")[0]}{{else}}<input class="datePicker" name="date" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" />{{/if}}</td></tr><tr><td style="width:40%">Vehicle ID</td><td class=cab-id>{{if method=="addParking"}}<div id="searchCabsParkingComboCont"></div>{{else}}${parking.cab.displayCabId}{{/if}}</td></tr><tr><td>Vehicle License Plate</td><td class=cab-license>{{if method!="addParking"}}${parking.cab.identification}{{/if}}</td></tr><tr><td>Parking/Toll Amount</td><td class=parking-amount>{{if method=="getParking"}}${parking.amount}{{else method=="editParking"}}<input type=text name="amount" maxlength="6" value="${parking.amount}" />{{else}}<input type=text name="amount" maxlength="6" value="0" />{{/if}}</td></tr><tr><td>Trip Id (optional)</td><td class="trip-box">{{if method=="editParking"}}<span>${parking.tripId}<span>{{else}}<div id="searchTripIdParkingComboCont"></div>{{/if}}</td></tr></tbody><tfoot><tr><td colspan="2">{{if method!="getParking"}}<a class="addParkingComment" style="float: left;">Comment</a>{{/if}}{{if method!="addParking"}}<a class="parkingHistory" style="float: right;">History</a>{{/if}}</td></tr><tr class="parkingCommentBox" style="display: none; width:99%"><td colspan="2"><textarea rows="3" name="comment" style="height:60px; width:98%;"></textarea></td></tr><tr class="parkingHistoryBox" style="display: none;"><td colspan="2"></td></tr>{{if method=="getParking"}}<tr><td colspan="2" style="text-align:center;border-bottom:none;"><input type="reset" class="buttonstyle1" name="cancel" value ="Cancel" /></td></tr>{{else}}<tr><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="submit" value ="Save"/><input class="buttonstyle1" type="reset" name="cancel" value ="Cancel"/></td></tr>{{/if}}<tr><td colspan=2><a class=uploadParkingFile style="display:none">Upload a file</a><div class=uploadedFiles></div></td></tr></tfoot></table></form></div></script><script id="route-status-template" type="text/x-jquery-tmpl"><div class=statusTable>{{if method=="tooLessTrips"}}<table><tr><th colspan="10">Details of ${STW.Cache.getContractName(contractId)} cabs with less than ${status[0].warningCount + 1} trips</th></tr>{{each(k, nwTwice) status}}<tr><td style="width: 160px;">${nwTwice.cabId}</td><td>{{each(j, info) nwTwice.routeInfo}}${shiftMngr.getTypeWithTime(info.shiftId)}&nbsp&nbsp<a class=showTripsheet routeId=${info.routeId}>${universalFun.decimalRound(info.distance)}</a>&nbsp&nbsp&nbsp&nbsp{{/each}}</td></tr>{{/each}}</table>{{else method=="cabAssignedTwiceInSameShift"}}<table><tr><th colspan="10">Details of cabs assigned more than once in same shift</th></tr>{{each(k, cabTwice) status}}<tr><td style="width: 160px;">${cabId}</td>{{if routeInfo[0]}}<td style="width: 100px;">${shiftMngr.getTypeWithTime(routeInfo[0].shiftId)}</td>{{/if}}{{each(j, routeId) cabTwice.routeInfo}}<td><a class=showTripsheet routeId=${routeId}>${universalFun.decimalRound(distance)}</a></td>{{/each}}</tr>{{/each}}</table>{{else method=="emptyReportingCabs"}}<table class=unassignedCabs><tr><th colspan="8">Details of cabs not assigned to any planned trip</th></tr>{{each(k, cabNotAssigned) status}}{{if k%8==0}}<tr style="height:30px;">{{/if}}<td>${cabNotAssigned}</td>{{if k%8==7}}</tr>{{/if}}{{/each}}</table>{{else method=="cabsGarage"}}<table><tr><th colspan="10">Details of ${STW.Cache.getContractName(contractId)} cabs with garage more than ${status.length>0?status[0].warningCount:"Maximum"} KMs</th></tr>{{each(k, wGarage) status}}<tr><td style="width: 160px;">${wGarage.cabId}</td>{{each(j, tripsheet) wGarage.routeInfo}}<td style="width: 100px;">${shiftMngr.getTypeWithTime(shiftId)}</td><td><a class=showTripsheet routeId=${routeId}>${universalFun.decimalRound(wGarage.garage)}</a></td>{{/each}}</tr>{{/each}}</table>{{else method=="runningLong"}}<table><tr><th colspan="10">Details of ${STW.Cache.getContractName(contractId)} cabs running greater than ${status.length>0?status[0].warningCount:"Maximum"} KMs</td></tr>{{each(k, nwHuge) status}}<tr><td style="width: 160px;">${nwHuge.cabId}</td>{{each(j, tripsheet) nwHuge.routeInfo}}<td style="width: 100px;">${shiftMngr.getTypeWithTime(shiftId)}</td><td><a class=showTripsheet routeId=${routeId}>${universalFun.decimalRound(nwHuge.distance)}</a></td>{{/each}}</tr>{{/each}}</table>{{else method=="runningShort"}}<table><tr><th colspan="10">Details of ${STW.Cache.getContractName(contractId)} cabs running less than ${status.length>0?status[0].warningCount:"Minimum"} KMs</td></tr>{{each(k, nwSmall) status}}<tr><td style="width: 160px;">${nwSmall.cabId}</td>{{each(j, tripsheet) nwSmall.routeInfo}}<td style="width: 100px;">${shiftMngr.getTypeWithTime(shiftId)}</td><td><a class=showTripsheet routeId=${routeId}>${universalFun.decimalRound(nwSmall.distance)}</a></td>{{/each}}</tr>{{/each}}</table>{{else method=="employeeTravellingHighExtraDistance"}}<table><tr><th colspan="5">Details of employees moving extra distance greater than 2.5 KMs</th></tr>{{each(k, empExtra) status}}<tr><td style="width: 150px;">${empExtra.empId}</td><td style="width: 150px;">${empExtra.empName}</td><td style="width: 100px;">${shiftMngr.getTypeWithTime(empExtra.shiftId)}</td><td style="width: 100px;"><a class=showTripsheet routeId=${empExtra.routeId}>${universalFun.decimalRound(empExtra.distance)}</a></td><td>${universalFun.decimalRound(empExtra.extraDistance)}</td></tr>{{/each}}</table>{{/if}}</div></script><script id="shiftReportsDownload-tmpl" type="text/x-jquery-tmpl"><div id="tripsheet-download-links"><table class="insidewidget formtable report-download" style="margin-top:0px;width:400px"><tbody>{{if selectedShifts}}<tr style="background: #F5F7FC;border-radius:8px;"><td style="height:64px;padding:0px;vertical-align:middle;margin:0px"><label style="margin:0px" class="light-label">Date</label><span class="light-value">${date}</span></td><td style="height:64px;padding:0px;margin:0px" class="route-shifts"><label style="margin:0px" class="light-label">Shift</label><span class="light-value" name="shift">${selectedShifts}</span>{{if selectedShiftCount}}<span class="chip">+${selectedShiftCount}</span><div class="tooltip report-tooltip">{{each(i, shift) selectedShiftTolltip}}<span class="tool-tip-shifts">${shift}</span>{{/each}}</div>{{/if}}</td></tr>{{/if}}<tr><td colspan=2><fieldset class="report-body"><legend class="body-title"><b>Tripsheet downloads</b></legend><table class="formtable report-table " style="margin-top:0px;width:400px"><tr><td><span>Sort By</span></td><td><select name="tripsheetSortOption" style="width:240px;float:right" class="sortTripsheets modernInput "><option value="CAB">Vehicle</option><option value="SHIFT">Shift</option><option value="SHIFT_LOGOUT">Shift LOGOUT</option><option value="EMPLOYEE_COUNT">Employee Count</option><option value="PHYSICAL_ID">Physical ID</option></select></td></tr><tr><td><a class="download-tripsheets modern-link">Tripsheets</a></td><td><div class="radio-wrapper"><label><input type="radio" name="formatTS" value="pdf" checked="checked" />pdf</label><label><input type="radio" name="formatTS" value="xls" />xls</label></div></td></tr><tr><td><a class="vendor-tracksheet modern-link">Vendor Tracksheets</a></td><td><div class="radio-wrapper"><label><input type="radio" name="formatVT" value="pdf" checked="checked" />pdf</label><label><input type="radio" name="formatVT" value="xls" />xls</label></div></td></tr><tr><td><a class="download-smsfile modern-link">Tripsheet SMS file</a></td></tr></table></fieldset></td></tr>{{if selectedShifts}}<tr><td><a class="change-in-routing-info modern-link">Change In Employee Routing</a></td><td><div class="radio-wrapper"><label><input type="radio" name="formatRI" value="pdf" checked="checked" />pdf</input></label><label><input type="radio" name="formatRI" value="xls" />xls</input></label></div></td></tr><tr><td><a class="consolidated-roster modern-link">Consolidated Roster Report</a></td></tr><tr><td><a class="cab-usage modern-link">Vehicle Usage</a></td></tr><tr><td><a class="cab-deployment modern-link">Vehicle Deployment</a></td></tr><tr><td><a class="summary-report modern-link">Summary Report</a></td></tr>{{if STW.Cache.isTripEmployeeReportEnabled() == true}}<tr><td><a class="emp-trip-report modern-link">Employee Trip Report</a></td></tr>{{/if}}{{/if}}</tbody></table></div></script><script type="text/x-jquery-tmpl" id="addEditCab"><div class="addEditCab insidewidget"><div class="reportTable"><form id="addEditCab"><table style="margin:auto; width:400px" id="addeditcab" class="formtable"><tbody><tr><td style="width: 45%;"><label>Vendor <span class="mandatory">*</span></label></td><td>{{if cab}}${cab.vendor.name}{{else}}<select name="vendor.id"></select>{{/if}}</td></tr><tr><td><label>Vehicle Id<span class="mandatory">*</span></label></td><td>{{if cab && STW.Cache.isCabIdFeatureEditable() == false}}${cab.cabId}{{else}}<input mandatory="true" type="text" value="" name="cabId" maxLength="12" title="1 to 12 characters"/><span style="float:left;clear:both;width:180px" /></span>{{/if}}</td></tr><tr><td><label>Device IMEI Number</label></td><td><select name="device.deviceId"></select></td></tr><tr><td><label>SIM Number</label></td><td><span class="simNumber">{{if cab && cab.device && cab.device.simNumber}}${cab.device.simNumber}{{/if}}</span></td></tr>{{if STW.Cache.fixedDeviceEnabled()}}<tr><td><label>Fixed device IMEI</label></td><td><input type="text" name="externalDeviceIMEI" style="vertical-align: top;" value="{{if cab}}${cab.externalDeviceIMEI}{{/if}}" readonly="true"/><a onclick="clearFixedDevice();" title="De-associate fixed device"><img src="img/round_delete_icon.png" /></a></td></tr>{{/if}}<tr><td><label>Status</label></td><td><span class="current-status"></span></tr><tr><td><label>${cab && cab.status==STW.Constants.CAB_ACTIVE ? "Deactivate From" : "Activate From"}</label></td><td><input name="changeStatus" type="checkbox" value="true"/><span class="change-status" style="display: none;"><select name="cabActivationCycleId" style="display: none;"></select><input class="datePicker" name="changeDate" type="text" value="" title="Date format: dd/MM/yyyy" style="width: 100px;" /></span></td></tr><tr><td><label>Contract <span class="mandatory">*</span></label></td><td>{{if cab}}${STW.Cache.getContractName(cab.contractId)}{{else}}<select name="contractId"></select>{{/if}}<label style="float: right;" ><a id="contractChange">Edit</a></label></td></tr><tr id = "contractChangeMenu" style="display: none;"><td><select name="newContract"></select></td><td><select name="contractChangeCycle"></select></td></tr><tr><td><label>Vehicle Type<span class="mandatory">*</span></label></td><td class="cabType"></td></tr><tr><td><label>Start Time</label></td><td><select name="startHours" style="width: 25%;">{{html dateMngr.getHourOptions(dateMngr.getHours(cab?cab.startTime:""))}}</select><select name="startMins" style="width: 25%; margin-left:5px;">{{html dateMngr.getMinuteOptions(dateMngr.getMinutes(cab?cab.startTime:""))}}</select></td></tr><tr><td><label>Working Time(min)<span class="mandatory">*</span></label></td><td><input type="text" name="workingHoursInMin" mandatory="true" /></tr><tr><td><label>Send Audit SMS</label></td><td><input name="auditSMS" type="checkbox" value="true"/></td></tr><tr class="audit-SMS-type" style="display:none;"><td colspan="2"><div style="float: left;"><label style="padding-left: 0px;"><input type="radio" name="auditSMSType" value="DRIVER" style="float: left;" /><div style="margin-top: 5px;float: left;">To Driver</div></label></div><div style="float: left;"><label style="padding-left: 0px;"><input type="radio" name="auditSMSType" value="OTHER" style="float: left;" /><div style="margin-top: 5px;float: left;"><span>Other Number</span><span class="mandatory">*</span></div></label></div><input type="text" mandatory="true" name="auditSMSNumber" maxlength="11" value="" style="display: none; margin-left: 10px;" /></td></tr><tr><td><label>Registration Number<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="identification" maxlength="15" title="8 to 15 characters"/><span class="messageCont" style="float:left;clear:both;width:180px" /></span></td></tr><tr><td><label>Driver Name<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="driverName" maxlength="50" title="1 to 50 characters"/></td></tr><tr><td><label>Driver Mobile Number<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="driverContactNo" maxlength="11" title="11 digits"/></td></tr><tr><td><label>Driver Alternate Mobile Number</label></td><td><input type="text" value="" name="driverAlternateContactNo" maxlength="11" title="11 digits"/></td></tr><tr><td><label>Garage Name<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="garage" maxlength="30" title="1 to 30 characters"/></td></tr><tr><td><label>Garage Geocords<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="garageGeocord" maxlength="30" title="9 to 30 characters"/></td></tr><tr><td><label>Details</label></td><td><textarea type="text" value="" name="description" maxlength="100" title="0 to 100 characters"></textarea></td></tr><tr><td colspan="2"><a class="addCabComment" style="float: left;">Comment</a> <a class="cabHistory" style="float: right;">History</a></td></tr><tr class="cabCommentBox" style="display: none;"><td colspan="2"><textarea rows="3" name="cabComment" id="cabComment" style="width:98%;"></textarea></td></tr><tr class="cabHistoryBox" style="display: none;"><td colspan="2"></td></tr ><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="submit" id="add-vehicle-submit" class="buttonstyle1" value="Submit"/><input type="reset" class="buttonstyle1" name="cancel" value="Cancel"/></td></tr></tbody></table></form></div></div></script><script type="text/x-jquery-tmpl" id="addEditVirtualCab"><div class="addEditVirtualCab insidewidget"><div class="reportTable"><form id="addEditVirtualCab"><table style="margin:auto; width:400px" id="addeditvirtualcab" class="formtable"><tbody><tr><td style="width: 45%;"><label>Vendor <span class="mandatory">*</span></label></td><td>{{if cab && STW.Cache.checkFunctionality("cab_vendor_edit") == false}}${cab.vendor.name}{{else}}<select name="vendor.id"></select>{{/if}}</td></tr><tr><td><label>Vehicle Id<span class="mandatory">*</span></label></td><td>{{if cab && STW.Cache.isCabIdFeatureEditable() == false}}${cab.cabId}{{else}}<input mandatory="true" type="text" value="" name="cabId" maxLength="12" title="1 to 12 characters"/><span style="float:left;clear:both;width:180px" /></span>{{/if}}</td></tr><tr><td><label>Contract <span class="mandatory">*</span></label></td><td>{{if cab}}${STW.Cache.getContractName(cab.contractId)}{{else}}<select name="contractId"></select>{{/if}}<label style="float: right;" ><a id="contractChange">Edit</a></label></td></tr><tr><td><label>Vehicle Type<span class="mandatory">*</span></label></td><td class="cabType"></td></tr><tr><td><label>Registration Number<span class="mandatory">*</span></label></td><td><input mandatory="true" type="text" value="" name="identification" maxlength="15" title="8 to 15 characters"/><span class="messageCont" style="float:left;clear:both;width:180px" /></span></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;">{{if !cab }}<input type="submit" class="buttonstyle1" value="Submit"/>{{/if}}<input type="reset" class="buttonstyle1" name="cancel" value="Cancel"/></td></tr></tbody></table></form></div></div></script><script type="text/x-jquery-tmpl" id="sysAdminMenu"><div id="deviceManagement" class="roleBasedAccess tabdiv" functionalities="sysadmin_view"><span href="deviceManagement">Manage Device</span></div><div id="commandManager" class="roleBasedAccess tabdiv" functionalities="sysadmin_view"><span href="commandManager">Manage Commands</span></div><div id="uploadFile" class="roleBasedAccess tabdiv" functionalities="sysadmin_view"><span href="uploadFile">Misc.</span></div></script><script type="text/x-jquery-tmpl" id="singleDeviceProps">{{each(i, property) deviceProps}}{{if showRunTime==true || property.propertyType=="1"}}<tr><td><input type="hidden" name="${i}.propertyType" value="${property.propertyType}"/>${property.propertyType=="1"?"CONFIG":"RUNTIME"}</td><td><input type="hidden" name="${i}.key" value="${property.key}"/>${property.key}</td><td><input type="text" name="${i}.value" value="${property.value}" /></td></tr>{{/if}}{{/each}}<!--<tr style="display:none;"><td claspan=3><input type=checkbox name=forceStopApplication value=true /><label>Forced Stop Application</label><input type=checkbox name=reboot value=true style="margin-left:20px" /><label>Reboot</label></td></tr>--><tr><td colspan="3" style="text-align: center;"><input type="submit" value="Apply" /><button type="reset" class="buttonstyle1" value="Cancel" >Cancel</button></td></tr></script><script type="text/x-jquery-tmpl" id="sysadmin-dashboard"></script><script type="text/x-jquery-tmpl" id="command-status-table"><table id="commandStatusTable" style="width:1500px;"><tr><th>Type</th><th>Command</th><th style="width:150px;">Execution Time</th><th style="width:150px;">Expiry Time</th><th>Downloaded</th><th>Action</th><th style="width:150px;">Action Time</th></tr>{{each(index, command) commandList}}<tr><td>${getCommandTypeText(command.commandtype)}</td><td>${command.commanddata}</td><td>${dateMngr.getDateTimeIn24HoursFormat(command.executionTime)}</td><td>${dateMngr.getDateTimeIn24HoursFormat(command.expiryTime)}</td><td>${command.downloadPercent?command.downloadPercent+"%":""}</td><td>${command.action}</td><td>${dateMngr.getDateTimeIn24HoursFormat(command.actionTime)}</td></tr>{{/each}}</table></script><script type="text/x-jquery-tmpl" id="deviceManagement"></script><script type="text/x-jquery-tmpl" id="command-package-template"><table style="min-width:400px; max-height:500px; overflow-y:scroll;"><tr><th colspan="2">List of all Command Packages</th></tr>{{each(index, package) packageList}}<tr><td colspan="2">${package.name}</td></tr>{{if package.commands}}{{each(commandIndex, command) package.commands}}<tr><td>${command.type}</td><td>${command.command}</td></tr>{{/each}}{{/if}}{{/each}}</table></script><script type="text/x-jquery-tmpl" id="deviceStatus"><div style="width:500px; max-height:500px; overflow:auto;"><div style="text-align:center;">${header}</div><table class="adminDashboard" style="width:85%;"><thead><th>S. No.</th><th>Vehicle Id</th><th>License Plate</th><th>IMEI</th><th>Platform Version</th><th>Business Version</th><th>Installer Version</th></thead><tbody>{{each( i, device) deviceList}}<tr><td>${i+1} </td><td>${device.cabId}</td><td>${device.registration}</td><td>${device.IMEI}</td><td>${device.platformVersion}</td><td>${device.businessVersion}</td><td>${device.installerVersion}</td></tr>{{/each}}</tbody></table></div></div></script><script type="text/x-jquery-tmpl" id="command-table-template"><div style="margin-top: 20px;text-align: center;font-weight: bold;"><span>Select Commands to create a Command package</span></div><table id="commandTable" style="width:800px; margin: 30px auto;"><tr class="addCommandRow"><td style="width:23%">Name of Command Package</td><td><input type="text" value="" name="commandPackageName" style="width:100%" /></td><td style="text-align: center; width:100px;"><a class="addCommand" title="Add a command below this"><img src="img/Plus.png" /></a></td></tr><tr><td colspan="3" style="text-align: center;"><input type="button" name="saveCommandPackage" class="buttonstyle1" value="Add Package" style="margin-top: 20px;"/></td></tr></table></script><script type="text/x-jquery-tmpl" id="package-upload-template"><div><form enctype="multipart/form-data" method="post"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td style="width: 100px">Package Name</td><td style="text-align: center; width: 100px;"><input type="file" name="file" value="Upload Package" /></td></tr><tr><td colspan="2" style="color:red; align:center;"><div style="margin-top:20px;"> * Upload the command package by using # as a delimitter </div></td></tr><tr><td colspan="3" style="text-align: center;"><input type="submit" name="uploadCommandPackage" class="buttonstyle1" value="Upload Package" style="margin-top: 20px;" /></td></tr></table></form></div></script><script type="text/x-jquery-tmpl" id="new-select-command-template"><tr><td><select name="selectCommand" style="width:auto"></select></td><td><span class="commandData"></span></td><td class="action" style="text-align:center"><a class=addCommand title="Add a command below this"><img src="img/Plus.png" /></a><a class=removeCommand title="Remove this command"><img src="img/Minus.png" style="margin-left:10px" /></a></td></tr></script><script id="commandPackageTemplate" type="text/x-jquery-tmpl"><table class="commandPackageTable"><tr><th>S. No.</th><th>Package Name</th><th>Action</th></tr>{{each(index, package) packageList}}<tr><td>${index+1}</td><td>${package.name}</td><td><a class="addNewPackage" packageId="${package.id}">Add</a><a class="editPackage" packageId="${package.id}" packageName="${package.name}" style="margin-left:20px">Edit</a><a class="deletePackage" packageId="${package.id}" packageName="${package.name}" style="margin-left:20px">Delete</a><a class="downloadPackage" href="Device_Servlet?method=downloadCommandPackage&id=${package.id}&CSRF_NONCE=${STW.Cache.getNonce()}" title="Download this file" style="margin-left:20px">Download</a></td></tr>{{/each}}</table></script><script id="cab-status-template" type="text/x-jquery-tmpl"><table class="cabStatusTable insidewidget"style="float: left; width: 320px;"><tr><td colspan="2" style="padding: 10px; border-bottom:1px solid #d6dce2;"><div style="float:left;width:50%;" class="displayFlexColumn"><span class="lightLabel"> Last Updated On </span><span> ${dateMngr.getDateAndTime(dashboard.serverTime)} </span></div><div style="float:right;width:50%; display: flex;"><a><img class="refreshCabStatus" style="width:30px; margin: 0px 5px;" alt="" src="img/ic-nrs-refersh-24.svg" title="Click to refresh now"></a><span style="color:red;">Auto refresh time is 10 minutes</span><div></td></tr>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_SECURITY_SUPERVISOR}}{{if STW.Cache.isWomenTravellingAloneEnabled()}}<tr class="roleBasedAccess" functionalities="women_travel_alone_view"><td style="width: 87%;"><a class="CabsWithSingleWoman" style="font-size: 14px;">Women Traveling Alone</a></td><td class="displayval">${dashboard.numCabsWithSingleWoman}</td></tr>{{/if}}{{if STW.Cache.firstPickUpNoShowTracker()}}<tr class="roleBasedAccess" functionalities="women_travel_alone_view"><td style="width: 87%;"><a class="FirstMaleNoShow" style="font-size: 14px;">Unplanned Marshal Trip</a></td><td class="displayval">${dashboard.firstMaleNoShowTripCount}</td></tr>{{/if}}{{if STW.Cache.isWomenEmployeeSignOffVerificationEnabled()}}<tr><td style="width: 87%;"><a class="WomenSignedOff" style="font-size: 14px;">Employee Drop Verification</a></td><td class="displayval">${dashboard.numWomenSignedOff}</td></tr>{{/if}}{{/if}}<tr style="display:none;">{{if dashboard.plannedTripsWithGuards == 0 && dashboard.actualTripsWithGuards == 0 }}<td><span style="font-size: 14px;">Planned/Actual trips with guards</span></td>{{else}}<td><a class="PlannedAndActualtripsWithGuards" style="font-size: 14px;">Planned/Actual trips with guards</a></td>{{/if}}<td class="displayval"><span>${dashboard.plannedTripsWithGuards}</span>/<span style="color:red;">${dashboard.actualTripsWithGuards}</span><div id="tripsheet-container"></div></td></tr><tr><td><a class="CabsDelayedInPickUp" style="font-size: 14px;">Delayed Vehicles</a></td><td class="displayval">${dashboard.numCabsDelayedInPickUp}</td></tr><tr><td><a class="CabsInPlannedTrips" style="font-size: 14px;">Ongoing Planned trips </a></td><td class="displayval">${dashboard.numCabsInPlannedTrips}</td></tr><tr><td><a class="CabsInAdhocTrips" style="font-size: 14px;">Ongoing Adhoc trips</a></td><td class="displayval">${dashboard.numCabsInAdhocTrips}</td></tr><tr><td><a class="CabsInOfficePremise" style="font-size: 14px;">In premises vehicles</a></td><td class="displayval">${dashboard.numCabsInOfficePremise}</td></tr><tr>{{if STW.Cache.isTripsheetNotDownloadedAlertEnabled()}}{{if dashboard.totalTripSheets == 0 }}<td><span style="font-size: 14px;">Tripsheets Pending device push</span></td>{{else}}<td><a class="TripsheetsPendingDevicePush" style="font-size: 14px;">Tripsheets Pending device push</a></td>{{/if}}<td class="displayval"><span style="color:red;font-size: 15px;">${dashboard.highPriorityTripSheets}</span>/${dashboard.totalTripSheets}<div id="tripsheet-container"></div></td>{{/if}}</tr>{{if STW.Cache.isTripsheetUnassignedVendorEnabled()}}<tr><td><a class="TripsheetsUnassignedVendor" style="font-size: 14px;">Tripsheets with Unassigned Vendor</a></td><td class="displayval">${dashboard.tripSheetsWithUnassignedVendor}</td></td></tr>{{/if}}<tr><td><a class="CabsDelayedInReportOnOff" style="font-size: 14px;">Driver Report On/Off Issues</a></td><td></td></tr><tr><td><a class="newDropVerification roleBasedAccess" functionalities="new_drop_verification" style="font-size: 14px;"> New Employee Drop Verification </a></td><td></td></tr></table></script><script id="add-employee-in-a-trip" type="x-jquery-tmpl">{{if billingTripEmployeeStatus == STW.Constants.EMPLOYEE_STATUS_ACTIVE}}<tr>{{else}}<tr style="background-color:DarkGrey">{{/if}}<td><input type="hidden" value="${pickupDistanceFromStartPoint}" name="employees.${stwId == 0 ? actualTextEntered : stwId}.pickupDistanceFromStartPoint"/><input type="hidden" value="${signOffDistanceFromStartPoint}" name="employees.${stwId == 0 ? actualTextEntered : stwId}.signOffDistanceFromStartPoint"/><input type="hidden" value="${billingTripEmployeeStatus}" name="employees.${stwId == 0 ? actualTextEntered : stwId}.billingTripEmployeeStatus"/><input type="hidden" value="${stwId}" name="employees.${stwId == 0 ? actualTextEntered : stwId}.stwId"/>{{html getEmployeeId(tripSheet, $data)}}</td><td> <span> ${stwId!=0 ? name : actualTextEntered} </span> </td><td> <span>${getEmployeeAddress(tripSheet, $data)}</span> </td><td> <span>${getEmployeeLandmark(tripSheet, $data)}</span> </td>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<td>${getBillingZoneName($data, tripSheet.id)}</td>{{/if}}{{if billingTripEmployeeStatus == STW.Constants.EMPLOYEE_STATUS_ACTIVE}}<td><input class="datePicker" name="employees.${stwId == 0 ? actualTextEntered : stwId}.startDate" type="text" value="" style="width: 65px;" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId == 0 ? actualTextEntered : stwId}.startHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(pickUpTime))}}</select><select name="employees.${stwId == 0 ? actualTextEntered : stwId}.startMin" style="margin-top: 5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(pickUpTime))}}</select></td><td><input class="datePicker" name="employees.${stwId == 0 ? actualTextEntered : stwId}.endDate" type="text" value="" style="width: 65px;" value="" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId == 0 ? actualTextEntered : stwId}.endHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(signOffTime))}}</select><select name="employees.${stwId == 0 ? actualTextEntered : stwId}.endMin" style="margin-top:5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(signOffTime))}}</select></td>{{else}}<td>${dateMngr.getDateTimeIn24HoursFormat(pickUpTime)}</td><td>${dateMngr.getDateTimeIn24HoursFormat(signOffTime)}</td>{{/if}}{{if tripSheet.type!=STW.Constants.TYPE_ADHOC}}<td style="text-align:center"><input type="checkbox" class="noShowCheckBox" name="employees.${stwId == 0 ? actualTextEntered : stwId}.noShow" stwId=${stwId} value=true /></td>{{/if}}<td>{{if billingTripEmployeeStatus == STW.Constants.EMPLOYEE_STATUS_ACTIVE}}<a class="remove-employee" tripId="${tripSheet.id}" stwId="${stwId == 0 ? actualTextEntered : stwId}"> Remove </a>{{else}}<a class="readd-employee roleBasedAccess" functionalities="add_emp_to_tripsheet" stwId="${stwId == 0 ? actualTextEntered : stwId}"> Re-Add </a>{{/if}}</td></tr></script><script type="text/x-jquery-tmpl" id="upload-container-tmpl"><div style="height: 2000px;"><iframe name="frameName" src="customFileUpload.jsp?dataSync=true&CSRF_NONCE=${nonce}" location="yes"width="100%" height="100%" style="border: medium none;"><p>Your browser does not support iframes.</p></iframe></div></script><script type="text/x-jquery-tmpl" id="upload-sync-data-template"><div class="empSyncData"><table style="width: 80%;"><tr><th colspan="3">Daily Sync - Employee Information</th></tr><tr><td colspan="3"><span>Please upload the daily employeedata as CSV only in the format SiteName-<b>DD-MM-YYYY-Emp-Data</b>-*.csvwhere the data in bold is mandatory. For example, to enter datafor 21st March for Chennai, enter Che-21-03-2013-Emp-Data-v01.csv</span><div style="margin: 10px 0;"><a class="showHideExample">Example</a></div><div class="example" style="display: none;"><span><b>Data Format:</b><br><span style="background-color: #F5F7FC">"StaffID",<b>"EmployeeID","FirstName","LastName"</b>,"Department",<b>"Team","Manager"</b>,"ManagerID","Username",<b>"Address1","Address2"</b>,"Address3","Landmark","Colony",<br>"City","Email",<b>"Geo_x","Geo_y"</b>,"Contact_no",<b>"Gender","Mobile"</b>,"Phone",<b>"Update_user","Update_time"</b>,"Facilityid","Transport Required","Exception_Emp","Attrited",<br>"Site","DOJ","DOA",<b>"Nodal-Point","Nodalt Geo_x","Nodalt Geo_y"</b></span><br>12,123456,"abc","xyz","GDS",,,12087579,12087579,"Address1","Address2",,"Landmark","Colony","Bangalore","e","78.392330","17.44481",,"Male",0123456789,,"abcxyz","12/31/2012 18:44","B1","Y","N","N",,"7/28/2010",,"Hitex Road","78.371750","17.46262"</span></div><hr></td></tr><tr><td  width=20%><span>Date</span></td><td><input class=datePicker name=empDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form name="uploadEmployeeSync" enctype="multipart/form-data" method="post"><table class="syncDataUploader" style="margin: 20px auto 0; width: 80%;"><tr><td style="width: 90px;">Site 1</td><td><input type="file" name="b1empdata" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td><td></td></tr><tr><td>Site 2</td><td width=40%><input type="file" name="b2empdata" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr><td colspan="3"><input type="checkbox" name="subscribeSMS" value="true" checked="checked" /><span>Enable SMS for Employees</span><br/><input type="checkbox" name="subscribeEmail" value="true" checked="checked" /><span>Enable Email for Employees</span>{{if STW.Cache.isEmployeeShuttleAssociationEnabled() == true}}<input type="checkbox" name="copyNodalAsShuttle" value="true"/><span>Copy Nodal Points as Shuttle Point</span>{{/if}}</td></tr><tr class="submitButton"><td colspan="3" style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto;text-align: center"></div></div><div class="siteOrderData"><table style="width: 80%;"><tr><th colspan="2">Daily Sync - Sitewise Employee Roster Information</th></tr><tr><td colspan="3"><span>If there are two sites in a city, please upload thedata for each site separately in the same format as above. Ifthere is one site only, please use Site 1. For example, to enterdata for 21st March for B1 in Bangalore, enterB1-21-03-2013-Pick-Orders-v01.csv andB1-21-03-2013-Pick-Site-v01.csv</span><div style="margin: 10px 0;"><a class="showHideExample">Example</a></div><div class="example" style="display: none;"><span><b>Data Format for Pick-Order:</b> <br><span style="background-color:#F5F7FC"><b>"ID"</b>,"FromID","ToID","Type","PickAptAvlDT","PickAptByDT","DropAptAvlDT","DropAptByDT","PickAvlDT","PickByDT","DropAvlDT","DropByDT","EnfPickApt",<br>"EnfDropApt","Quantity1",<b>"Shift","ShiftDt"</b>,"PkNPk"</span><br>"12",12,"B1","PICK","06/05/2013 13:30","06/05/2013 17:00","01/01/2013","06/05/2013 17:30","06/05/2013 13:30","06/05/2013 17:00","01/01/2013","06/05/2013 13:00",1,1,1,"17 00","06/05/2013","P"</span><span><br><b>Data Format for Pick-Site:</b><br><span style="background-color:#F5F7FC">"ID","Name","Type","Depot","X","Y","Address1","Address2","Address3","City","Colony","Landmark","Process","Subprocess"</span><br>25,"abc xyz","Male","FALSE",77.629037,12.906766,"Address1","Address2",,"Bangalore","Colony","Landmark","GDS","GDS"</span><span><br><br><b>Data Format for Drop-Order:</b><br><span style="background-color:#F5F7FC"><b>"ID"</b>,"FromID","ToID","Type",<b>"PickAptAvlDT"</b>,"PickAptByDT","DropAptAvlDT","DropAptByDT","PickAvlDT","PickByDT","DropAvlDT","DropByDT","EnfPickApt",<br>"EnfDropApt","Quantity1",<b>"Shift","ShiftDt"</b>,"PkNPk"</span><br>"123456D","B1",123456,"DROP","2/21/2013 23:45","2/22/2013","2/21/2013 23:45","2/22/2013 2:15","2/21/2013 23:45","2/22/2013","2/21/2013 23:45","2/22/2013 2:45",1,1,1,"23 30","3/6/2013","P"</span><span><br><b>Data Format for Drop-Site:</b><br><span style="background-color:#F5F7FC">"ID","Name","Type","Depot","X","Y","Address1","Address2","Address3","City","Colony","Landmark","Process","Subprocess"</span><br>123456,"abc xyz","Male","FALSE",77.629037,12.906766,"Address1","Address2",,"Bangalore","Colony","Landmark","GDS","GDS"</span></div><hr></td></tr><tr><td  width=20%><span>Date</span></td><td><input class=datePicker name=siteDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form name="uploadSiteFile" enctype="multipart/form-data" method="post"><table class="syncDataUploader" style="margin: 20px auto 0; width: 80%;"><tr><td><fieldset><table style="margin: 0;"><tr><td style="width: 75px;">Pick Order</td><td><input type="file" name="pickupOrder" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr><td>Pick Site</td><td><input type="file" name="pickupSiteFile" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr></table></fieldset></td></tr><tr><td><fieldset><table style="margin: 0;"><tr><td  style="width: 75px;">Drop Order</td><td><input type="file" name="dropOrder" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr><td>Drop Site</td><td><input type="file" name="dropSiteFile" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr></table></fieldset></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; text-align: center"></div></div><div class="routeData"><table style="width: 80%;"><tr><th colspan="2">Daily Sync - Route Data</th></tr><tr><td colspan="3"><span>Please upload the daily route data asCSV only in the format SiteName-<b>DD-MM-YYYY-Route-Data</b>-*.csvwhere the data in bold is mandatory. For example, to enter datafor 21st March for Noida, enter Ncr-21-03-2013-Pick-Routes-v01.csv</span><div style="margin: 10px 0;"><a class="showHideExample">Example</a></div><div class="example" style="display: none;"><span><b>Data Format for Pick-Routes:<br></b>{{if STW.Cache.isHSBCReadMultiOfficeFromSync() == true}}<span style="background-color: #F5F7FC">,,,,,,,<br>,,,,,,,<br>Route No: 2222R0002037 ,<b>Date: 5/6/2013,LoginTime: 14:30</b>,,Vendor: SSL,Sticker No.:-121,, <br>EmpCode,EmployeeName,Gender,Process,Address,Phone,Location,Pick Up,Facility</span>{{/if}}{{if STW.Cache.isHSBCReadMultiOfficeFromSync() == false}}<span style="background-color: #F5F7FC">,,,,,,,<br>,,,,,,,<br>Route No: 2222R0002037 ,<b>Date: 5/6/2013,LoginTime: 14:30</b>,,Vendor: SSL,Sticker No.:-121,, <br>EmpCode,EmployeeName,Gender,Process,Address,Phone,Location,Pick Up</span>{{/if}}<br>123456 , ,M ,ABC ,"Madhapur, Hyderabad ",1234567890,"Madhapur",06/05/2013 1:30:00 PM</span><span><br><br> <b>Data Format for Drop-Routes:<br></b><span style="background-color: #F5F7FC">,,,,,<br> ,,,,,<br>Route No: 2612R0001910 ,<b>Date: 2/25/2013</b>,Vendor: ATT,<b>Departure Time : 22:30</b>,Escort Required,Sticker No.:-  363<br>Facility,EmpCode,Employee Name,Gender,Process,Address</span><br> B1,12,"abc xyz",M ,GDS ,"Address1, Address2 "</span></div><hr></td></tr><tr><td  width=20%><span>Date</span></td><td><input class=datePicker name=routeDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form name="uploadRouteData" enctype="multipart/form-data" method="post"><table class="routeDataUploader" style="margin: 20px auto 0; width: 80%;"><tr><td style="width: 90px;">Pickup Routes</td><td><input type="file" name="pickupRoute" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr><td>Drop Routes</td><td><input type="file" name="dropRoute" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr class="submitButton"><td colspan="2" style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; text-align: center"></div></div><div class="cabDepData"><table style="width: 80%;"><tr><th colspan="2">Daily Sync - Cab Data</th></tr><tr><td colspan="3"><span>Please upload the daily route data asCSV only in the format SiteName-<b>DD-MM-YYYY-Cab-Deployment</b>-*.csvwhere the data in bold is mandatory. For example, to enter datafor 21st March for Kolkatta, enterKol-21-03-2013-Cab-Deployment-v01.csv</span><div style="margin: 10px 0;"><a class="showHideExample">Example</a></div><div class="example" style="display: none;"><span><b>Data Format:</b><br><span style="background-color: #F5F7FC"><b>Trip Id,Vendor Id, Cab Id</b>,Cab Type,Cab Reg, Cab Contract, Shift,Num Employees,Start Time, End Time,Shift,Landmark,From,To,Approx. Km,Driver,Driver Contact,Marshall</span><br>123456,4W,30,INDICA,AP13TV1234,Single Shift Indica, 10:23,11:00,Logout 10:15,Landmark 2741,Address 123,Address 1,16.9208068848,xyz,1234567890,No</span></div><hr></td></tr><tr><td  width=20%><span>Date</span></td><td><input class=datePicker name=cabDepDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form name="uploadCabDepData" enctype="multipart/form-data" method="post"><table class="cabDepDataUploader" style="margin: 20px auto 0; width: 80%;"><tr><td style="width: 110px;">Vehicle Deployment</td><td><input type="file" name="cabDeployment" value="Browse" /><a class="clearFile" style="margin-left:10px;">Clear</a></td></tr><tr class="submitButton"><td colspan="2" style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto;text-align: center"></div></div></script><script id="addNewPermissionTemplate" type="text/x-jquery-tmpl"><div style="padding: 10px;"><div style="margin-bottom: 10px;text-align: center;">{{if isAddNewPermission == true}}<div style="display: inline-block;"><label style="padding-left:1px;"><b>Search By: </b></label><select id="searchBy"><option value="employee" selected="selected">Employee</option><option value="role">Role</option></select></div><div id="employee" style="display: inline-block;"><div id="empSearch" style="position: absolute;display: inline-block;"></div><a class="clear-emp-data" style="margin-left:7px;">Clear</a></div><div id="role" style="display:none;width:50%;"><select name="roleName">{{each(index, role) roleList}}{{if role.roleId != STW.Constants.ROLE_ADMIN && role.roleId != STW.Constants.ROLE_ESCORT}}<option value="${role.roleId}">${role.displayName}</option>{{/if}}{{/each}}</select></div>{{else}}<input type="hidden" value="${type}" id="type" /><input type="hidden" value="${id}" id="id" /><input type="hidden" value="${name}" id="name" />{{if type == 0}}<label style="padding-left:1px; margin-left: 95px;"><b>Employee: </b></label>{{else}}<label style="padding-left:1px; margin-left: 95px;"><b>Role: </b></label>{{/if}}<label style="padding-left:1px;">${name} (${id})</label>{{/if}}</div><div style="height: max-content; display: flex;"><div class="moduleAccess" style="float: left; width: 50%;"><label style="padding-left:10px;"><b>Module Access</b></label><br/>{{each(index, moduleAccess) moduleAccessList}}<div>{{if selectedModuleAccess.indexOf(moduleAccess) > -1}}<label><input style="margin-left:5px;"type="checkbox" name="moduleAccessLevel" value="${moduleAccess}" checked="checked"><span style="margin-left:10px;">${moduleAccess}</span></label>{{else}}<label><input style="margin-left:5px;" type="checkbox" name="moduleAccessLevel" value="${moduleAccess}"><span style="margin-left:10px;">${moduleAccess}</span></label>{{/if}}</div>{{/each}}</div><div class="userActivities" style="margin-top: 5px; float: right; width: 50%;"><label style="padding-left:1px;"><b>Activities User can see on Dashboard</b></label><br/>{{if isAddNewPermission == true}}<input type="radio" name="userActivity" value="Self" checked>Self Only<br><input type="radio" name="userActivity" value="All">All{{else}}<input type="radio" name="userActivity" value="Self">Self Only<br><input type="radio" name="userActivity" value="All">All{{/if}}</div></div><div class="formButtons" style="margin-left: 33%; margin-top: 20px;"><button id="submitRequest" class="buttonstyle1">Submit</button><button id="cancelRequest" class="buttonstyle1">Cancel</button></div></div></script><script id="tripsheet-summary-tmpl" type="text/x-jquery-tmpl"><table class="tripsheetSummary insidewidget formtable" style="margin:20px 0 0 0; width:350px; margin-left:10px; display:none;"><thead><tr><th colspan="2">Shift Trips Summary</th></tr></thead><tbody><tr><td style="width:60%">Employees</td><td>${summary.numEmployees}</td></tr><tr><td style="width:60%">Shift Trips</td><td>${summary.numTrips}</td></tr><tr><td>Service level</td><td>${utils.decimalRound(summary.serviceLevel)}%</td></tr><tr><td>Vehicle occupancy</td><td>${summary.cabOccupancy}%</td></tr><tr><td>Shift Trips: Total cabs used</td><td>${summary.numCabs}</td></tr><tr><td>Shift Trips: Unused Cabs</td><td><a class=emptyReportingCabs >${summary.emptyReportingCabs.length}</a></td></tr></tbody></table></script><script id="generated-route-tmpl" type="text/x-jquery-tmpl"><style>.modern-table th{border: 1px solid var(--lt-bg-ntrl-disabled, #C8CDD3);background: var(--lt-bg-ntrl-bg-1, #FAFAFA);height: 60px;}.sub-header th{font-weight: 400;}.modern-table td * , .modern-table th *{font-size: 14px;}.route-gen-select{border-radius: 6px;border: 1px solid var(--lt-bg-ntrl-seperators, #E0E0E0);background: var(--lt-text-white, #FFF);height: 32px;font-size: 16px !important;width: 150px;padding-left: 12px;}.notification-con {float: left;margin-top: 2px;width: 100%;}.go-btn{border-radius: 6px;background: var(--lt-bg-pmry-500, #0937B2);height: 30px !important;color: var(--lt-text-white, #FFF);text-align: center;font-size: 15px !important;font-family: Lato;font-style: normal;font-weight: 700;line-height: 20px !important;letter-spacing: 0.25px;padding: 5px 10px;border: none;}.modern-checkbox{width: 24px;height: 24px;}</style><table id="assignCabsTable" class="modern-table"><thead><tr class="router-table-thead"><th>Shift Time (Shift Type)</th><th>Employees (Routes)</th><th class="roleBasedAccess" functionalities="route_edit"><span style="vertical-align: inherit;"> <input class="modern-checkbox" type=checkbox name="selectAllRoutes" style="display:inline"/> </span> <span>Manage Routes</span></th><th class="roleBasedAccess" functionalities="route_edit">Vehicles/Vendors/Routes</th><th>Employees <br>(TripSheet)</th><th>Fleet Mix <br>(Vehicle Occupancy)</th><th><span style="vertical-align: inherit;"><input class="modern-checkbox" style="display:inline" type=checkbox name="selectAllTripsheets"/></span> <span>Manage TripSheets</span></th><th>Vehicles/Vendors/<br>TripSheets</th>{{if cutoffdata.masterSwitchEnabled == true || emailcutoffdata.masterSwitchEnabled == true }}<th>Pickup/Drop<br>SMS/Email Status</th>{{/if}}</tr><tr class="sub-header router-table-thead" ><th>${shiftTypeCount}</th><th><div>Total: ${getTotalEmployees}</div><div>Total Custom: ${getCustomEmployees}</div></th><th class="roleBasedAccess" functionalities="route_edit"><div><span><select name="routeEditOption" class="editShiftRoutes route-gen-select"><option value="-1">Select Option</option>{{if STW.Cache.isGenerateRoutesEnabled()}}<option value="generateRoutes">${STW.Cache.routeGenerationText}</option>{{/if}}{{if STW.Cache.isAdjustRoutesEnabled()}}<option value="adjustRoutes">${STW.Cache.adjustRoutes}</option>{{/if}}{{if STW.Cache.isCopyRoutesEnabled()}}<option value="copyRoutes">${STW.Cache.copyRouteText}</option>{{/if}}{{if STW.Cache.isInterShiftRouteCopyEnabled()}}<option value="interShiftCopy">${STW.Cache.intershiftRouteCopyText}</option>{{/if}}{{if STW.Cache.isAffinityRoutingEnabled()}}<option value="learningBasedRouting">${STW.Cache.learningBaseRouteText}</option>{{/if}}{{if STW.Cache.isUpdatePickupUsingGoogleAPIEnabled()}}<option value="updatePickupTime">${STW.Cache.updateRoutePickUpTime()}</option>{{/if}}<option value="deleteRoutes">Delete Routes</option>{{if STW.Cache.isBulkRouteUploadEnabled()}}<option value="uploadRoutes">Upload Routes</option>{{/if}}{{if STW.Cache.isMoveEmployeesMultiShiftTogether()}}<option value="mergeSchedules">Merge Schedules</option>{{/if}}<option value="download">Download</option>{{if STW.Cache.isBulkUploadCabsOnRoutesEnabled()}}<option value="uploadRouteCab">Upload Vehicle</option>{{/if}}</select></span><span style="float: right; margin-right: 5px;"><input type="button" value="GO" class="executeOnRoutes go-btn"></span></div></th><th class="roleBasedAccess" functionalities="route_edit">${getCabsToRoutesRatio}{{if shiftWarning()}}<img src="img/warning.png" style="float:right;margin-right:10px" title="Shift contains routes with no vehicles assigned">{{/if}}</th><th>Total:${totalEmpInTripsSheets}</th><th>{{if allGenerated()}}Generated{{else}}Not Generated{{/if}}</th><th><div><span><select name="tripsheetEditOption" class="editShiftRoutes route-gen-select"><option value="-1">Select Option</option>{{if STW.Cache.isPastDateTripsheetsGenerateAllowed()==true || !dateMngr.isDateFromPast(currentDate)}}<option value="generateUpdateTripsheets" class="roleBasedAccess" functionalities="tripsheet_manage">Generate/ Update</option>{{/if}}{{if !dateMngr.isDateFromPast(currentDate)}}{{if STW.Cache.isCabDeploymentEnabled()}}<option value="uploadCab" class="roleBasedAccess" functionalities="tripsheet_manage, assign_cab">Upload Vehicle</option>{{/if}}<option value="delete" style="color:red;" class="roleBasedAccess" functionalities="tripsheet_manage"><span style="font-weight:bold;">Delete</span></option>{{/if}}<option value="download">Download</option>{{if STW.Cache.isBackToBackEnabled()}}<option value="generateB2BTrips" class="roleBasedAccess" functionalities="tripsheet_manage">Generate B2B</option><option value="deleteB2BTrips" class="roleBasedAccess" functionalities="tripsheet_manage">Delete B2B</option>{{/if}}<option value="allocateVendor" class="roleBasedAccess" functionalities="tripsheet_manage, assign_vendor">Allocate Vendor</option>{{if STW.Cache.isPhysicalIdEnabled()}}<option value="assignPhysicalId" class="roleBasedAccess" functionalities="tripsheet_manage">Assign Physical Id</option>{{/if}}{{if STW.Cache.storePlannedVendorCabsUsingFlavour() == "Manual Freeze"}}<option value="freezePlannedVendorCab">Freeze Planned Vendor Vehicle</option>{{/if}}{{if STW.Cache.isManualVendorTripsheetPushEnabled()}}<option value="pushShiftTripsheetsToVendors" class="roleBasedAccess" functionalities="tripsheet_manage">Push To Vendors</option>{{/if}}</select></span><span style="float: right; margin-right: 5px;"><input type="button" value="GO" class="executeOnTripsheets go-btn"></span></div></th><th>${getCabsToTripsheetsRatio}{{if tripsheetWarning()}}<img src="img/warning.png" style="float:right; margin-right:10px;" title="Shift contains tripsheets with no vehicles assigned">{{/if}}{{if STW.Cache.isManualVendorTripsheetPushEnabled() && tripsheetPushToVendorWarning() }}<img src="img/x.png" style="float:right; margin-right:5px;" title="Trips not yet pushed to vendors for the shift">{{/if}}</th>{{if cutoffdata.masterSwitchEnabled == true || emailcutoffdata.masterSwitchEnabled == true }}<th></th>{{/if}}</tr></thead><tbody style="border-bottom:1px solid #E0E0E0">{{each(k, shift) shiftList}}{{if isShiftEmpty(shift.id) == false && matchesSelectedShiftType(shift.id)}}<tr index="${k}"><td>${getModernShiftTime(shiftMngr.getTypeWithTime(shift.id))}<strong style="padding: 0px 3px;">${getModernshiftType(shiftMngr.getTypeWithTime(shift.id))}</strong><span style=" float: right; padding: 0 10px;"><img src="${getModernshiftImg(shiftMngr.getTypeWithTime(shift.id))}" /></span></td><td>{{if isRouteGenerated(shift.id) == false}}<span style="display:flex"><span>Scheduled: </span><a shiftId="${shift.id}" type="scheduled" class="showEmpList" id="scheduled${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}" style="color:red !important" title="view">${getEmployeesForRoutesLength(shift.id,"scheduled")}</a>{{if STW.Cache.isShiftLevelScheduleLimit()}}/ ${getEmployeesForRoutesLength(shift.id,"shiftLimit")}{{/if}}</span>{{else getEmployeesForRoutesLength(shift.id,"custom")>0 }}<span><span>Routed:<a shiftId="${shift.id}" type="routed" class="showEmpList" id="routed${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}" title="view">${getEmployeesForRoutesLength(shift.id,"routed")}</a></span><br><span>Custom:<a shiftId="${shift.id}" type="custom" class="showEmpList" id="custom${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}" title="view">${getEmployeesForRoutesLength(shift.id,"custom")}</a></span>{{if IsAnyAdhocRequest(shift.id)== true }}<span style="margin-left: 10px" class="adhocHighlight">A</span>{{/if}}</span><img src="img/warning.png" style="float:right; margin-right:10px" title="Shift contains employees to be routed manually">{{else}}<span><span>Routed:<a shiftId="${shift.id}" type="routed" class="showEmpList" id="routed${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}" title="view">${getEmployeesForRoutesLength(shift.id,"routed")}</a></span>{{if IsAnyAdhocRequest(shift.id)== true }}<span style="margin-left: 10px" class="adhocHighlight">A</span>{{/if}}</span>{{/if}}</td><td class="roleBasedAccess" functionalities="route_edit" style="text-align:center"><input class="modern-checkbox" type=checkbox shiftId="${shift.id}" name="routeSelect"/></td><td class="roleBasedAccess" functionalities="route_edit" style="background-color:${getRoutesColor(shift.id)}" title="${getRoutesTitle(shift.id)}">{{if isRouteGenerated(shift.id) == false}}<div><span>0/0/0</span></div>{{else}}<div class="route-table-td"><span title="Edit Routes or Assign Vehicles"><a id="${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}" shiftId="${shift.id}" class="view">${CabAssignStatus(shift.id)}</a></span>{{if showWarning(shift.id, false) }}<img src="img/warning.png" style="float:right;margin-right:10px" title="Shift contains routes with no vehicles assigned">{{/if}}</div>{{/if}}</td><td>{{if isTripsheetGenerated(shift.id) == false}}<div><span>0</span></div>{{else}}<span>${getNumEmployeesForTripsheets(shift.id)}</a></span>{{/if}}</td><td><span>{{if isTripsheetGenerated(shift.id) == true}}${getFleetMix(shift.id)} (${getCabOccupancy(shift.id)} ){{else}}Not Generated{{/if}}</span></td><td style="text-align:center"><input class="modern-checkbox" type=checkbox shiftId="${shift.id}" name="tripsheetSelect"/></td><td style="background-color:${getTripsheetsColor(shift.id)}" title="${getTripsheetsTitle(shift.id)}">{{if isTripsheetGenerated(shift.id) == false}}<div><span>None</span></div>{{else}}<div style="width:130px;"  class="route-table-td"><span title="Edit Tripsheets"><a shiftId="${shift.id}" class="viewTripsheet" id="Tripsheet${shiftMngr.getTypeWithTime(shift.id).split(" ").join("")}">${cabTripAssignStatus(shift.id)}</a></span>{{if getRouteSources(shift.id) }}<img src="img/directions_bus.svg" style="float:right; margin-right: 10px;" title="This has shuttle trips. Hence the route and the trip side will not match.">{{/if}}{{if showWarning(shift.id, true) }}<img src="img/warning.png" style="float:right; margin-right: 10px;" title="Shift contains tripsheets with no vehicles assigned">{{/if}}{{if STW.Cache.isManualVendorTripsheetPushEnabled() && showPushToVendorsWarning(shift.id) }}<img src="img/x.png" style="float:right; margin-right: 5px;" title="Trips not yet pushed to vendors for the shift">{{/if}}</div>{{/if}}</td><td style="max-width: 200px;">{{if cutoffdata.masterSwitchEnabled == true && ((shift.type == STW.Constants.TYPE_LOGOUT && cutoffdata.logoutFirstCutoffEnabled == true) || (shift.type == STW.Constants.TYPE_LOGIN && cutoffdata.loginFirstCutoffEnabled == true))}}{{if smsStatusData[shift.id] != undefined && smsStatusData[shift.id].length > 0}}{{each(i, shiftSms) smsStatusData[shift.id]}}{{if shiftSms.triggertime != undefined}}{{if shiftSms.updatetime == undefined}}{{if shiftSms.smscount == 0}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: Not Triggered @ ${getSmsScheduledTime(shift,"FIRST_CUTOFF")}</span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: Not Triggered @ ${getSmsScheduledTime(shift,"SECOND_CUTOFF")}</span>{{/if}}<div style="float:right;"><img src="img/ic-ui-cross-24.svg" height="18" width="18" style="float:right; margin-right:2px;" title="SMS has been sent with 100% success"></div></div>{{else}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: Scheduled @ ${getSmsScheduledTime(shift,"FIRST_CUTOFF")}</span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: Scheduled @ ${getSmsScheduledTime(shift,"SECOND_CUTOFF")}</span>{{/if}}<div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-right: 2px;" title="Schedule for pickup/drop SMS broadcast to all employees"></div></div>{{/if}}{{else shiftSms.updatetime != undefined}}{{if shiftSms.comments != undefined}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: <a class="smsStatus" cut_off="FIRST_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: <a class="smsStatus" cut_off="SECOND_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{/if}}<div style="float:right;"><img src="img/ic-ui-tick-24.svg" height="18" width="18" style="float:right; margin-right:2px;" title="Reviewed for Failed SMSs"></div></div>{{else shiftSms.smscount != 0 && shiftSms.successcount == 0}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: <a class="smsStatus" cut_off="FIRST_CUTOFF" shiftId="${shift.id}"> Failed @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: <a class="smsStatus" cut_off="SECOND_CUTOFF" shiftId="${shift.id}"> Failed @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{/if}}<div style="float:right;"><img src="img/ic-ui-cross-24.svg" height="18" width="18" style="float:right; margin-right: 2px;" title="SMS has been sent with 100% failure"></div></div>{{else shiftSms.successcount >= 0.9*shiftSms.smscount}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: <a class="smsStatus" cut_off="FIRST_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: <a class="smsStatus" cut_off="SECOND_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{/if}}<div style="float:right;"><img src="img/ic-ui-tick-24.svg" height="18" width="18" style="float:right; margin-right:2px;" title="SMS has been sent with 100% success"></div></div>{{else}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: <a class="smsStatus" cut_off="FIRST_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: <a class="smsStatus" cut_off="SECOND_CUTOFF" shiftId="${shift.id}"> Sent @ ${dateMngr.getHours(shiftSms.triggertime)}:${dateMngr.getMinutes(shiftSms.triggertime)}</a></span>{{/if}}<div style="float:right;"><img src="img/sent2.ico" height="20" width="20" style="float:right; margin-right: 2px;" title="SMS has been sent but there are errors"></div></div>{{/if}}{{/if}}{{else (shiftSms == undefined || shiftSms.triggertime == undefined)}}{{if shiftSms == undefined && isDateInRange(date)==false}}<span></span>{{else shiftSms != undefined && shiftSms.successcount == shiftSms.smscount}}<div style="float:left;margin-top:2px;width: 100%">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: Not Triggered @ ${getSmsScheduledTime(shift,"FIRST_CUTOFF")}</span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: Not Triggered @ ${getSmsScheduledTime(shift,"SECOND_CUTOFF")}</span>{{/if}}<div style="float:right;"><img src="img/ic-ui-cross-24.svg" height="18" width="18" style="float:right; margin-right:2px;" title="SMS has been sent with 100% success"></div></div>{{else}}<div class="notification-con">{{if shiftSms.cutoff == "FIRST_CUTOFF"}}<span>S1: Scheduled @ ${getSmsScheduledTime(shift,"FIRST_CUTOFF")}</span>{{else shiftSms.cutoff == "SECOND_CUTOFF"}}<span>S2: Scheduled @ ${getSmsScheduledTime(shift,"SECOND_CUTOFF")}</span>{{/if}}<div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-right: 2px;" title="Schedule for pickup/drop SMS broadcast to all employees"></div></div>{{/if}}{{else}}<span></span>{{/if}}{{/each}}{{else (smsStatusData[shift.id] != undefined && smsStatusData[shift.id].length == 0)}}<div class="notification-con"><span>S1: Scheduled @ ${getSmsScheduledTime(shift,"FIRST_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-right: 2px;" title="Schedule for pickup/drop SMS broadcast to all employees"></div></div><div class="notification-con"><span>S2: Scheduled @ ${getSmsScheduledTime(shift,"SECOND_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-right: 2px;" title="Schedule for pickup/drop SMS broadcast to all employees"></div></div>{{/if}}{{/if}}{{if emailcutoffdata.masterSwitchEnabled == true && ((shift.type == STW.Constants.TYPE_LOGOUT && emailcutoffdata.logoutFirstCutoffEnabled == true) || (shift.type == STW.Constants.TYPE_LOGIN && emailcutoffdata.loginFirstCutoffEnabled == true))}}{{if emailStatusData[shift.id] != undefined && emailStatusData[shift.id][0] != undefined && emailStatusData[shift.id][0].triggertime != undefined}}{{if emailStatusData[shift.id][0].triggertime == undefined}}<div class="notification-con"><span>E1: Scheduled @ ${getEmailScheduledTime(shift,"FIRST_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-top:2px;" title="Schedule for pickup/drop EMAIL broadcast to all employees"></div></div>{{else emailStatusData[shift.id][0].triggertime != undefined}}<div class="notification-con"><span>E1: Sent @ ${dateMngr.getHours(emailStatusData[shift.id][0].triggertime)}:${dateMngr.getMinutes(emailStatusData[shift.id][0].triggertime)}</span><div style="float:right;"><img src="img/ic-ui-tick-24.svg" height="18" width="18" style="float:right; margin-top:2px;" title="EMAIL has been sent with 100% success"></div></div>{{/if}}{{else emailStatusData[shift.id] != undefined && (emailStatusData[shift.id][0] == undefined || emailStatusData[shift.id][0].triggertime == undefined)}}{{if emailStatusData[shift.id][0] == undefined && isDateInRange(date)==false}}<span></span>{{else}}<div class="notification-con"><span>E1: Scheduled @ ${getEmailScheduledTime(shift,"FIRST_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-top:2px;" title="Schedule for pickup/drop EMAIL broadcast to all employees"></div></div>{{/if}}{{else}}<span></span>{{/if}}{{/if}}{{if emailcutoffdata.masterSwitchEnabled == true && ((shift.type == STW.Constants.TYPE_LOGOUT && emailcutoffdata.logoutSecondCutoffEnabled == true) || (shift.type == STW.Constants.TYPE_LOGIN && emailcutoffdata.loginSecondCutoffEnabled == true))}}{{if emailStatusData[shift.id] != undefined && emailStatusData[shift.id][1] != undefined && emailStatusData[shift.id][1].triggertime != undefined}}{{if emailStatusData[shift.id][1].triggertime == undefined}}<div style="float:left;margin-top:2px; width: 100%;"><span>E2: Scheduled @ ${getEmailScheduledTime(shift,"SECOND_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-top:2px;" title="Schedule for pickup/drop EMAIL broadcast to all employees"></div></div>{{else emailStatusData[shift.id][1].triggertime != undefined}}<div style="float:left;margin-top:2px; width: 100%;"><span>E2: Sent @ ${dateMngr.getHours(emailStatusData[shift.id][1].triggertime)}:${dateMngr.getMinutes(emailStatusData[shift.id][1].triggertime)}</span><div style="float:right;"><img src="img/ic-ui-tick-24.svg" height="18" width="18" style="float:right; margin-top:2px;" title="EMAIL has been sent with 100% success"></div></div>{{/if}}{{else emailStatusData[shift.id] != undefined && (emailStatusData[shift.id][1] == undefined || emailStatusData[shift.id][1].triggertime == undefined)}}{{if emailStatusData[shift.id][1] == undefined && isDateInRange(date)==false}}<span></span>{{else}}<div class="notification-con"><span>E2: Scheduled @ ${getEmailScheduledTime(shift,"SECOND_CUTOFF")}</span><div style="float:right;"><img src="img/scheduled.ico" height="18" width="18" style="float:right; margin-top:2px;" title="Schedule for pickup/drop EMAIL broadcast to all employees"></div></div>{{/if}}{{else}}<span></span>{{/if}}{{/if}}</td></tr>{{/if}}{{/each}}</tbody></table></script><script id="automaticSmsSentStatusTemplate" type="text/x-jquery-tmpl"><div><table class="insidewidget formtable sms-table" style="margin-top:0px;width:430px;box-shadow: none;"><thead><tr><th style="background:none"><span style="font-weight: bold;font-size:16px">Automatic SMS Sent</span></th></tr></thead><tbody>{{if cut_off == "FIRST_CUTOFF" && shiftData[0] != null}}<tr><td><div><span style="font-size:14px"> SMS has been sent @ ${dateMngr.getHours(shiftData[0].triggertime)}:${dateMngr.getMinutes(shiftData[0].triggertime)}<br></span></div></td></tr><tr></tr><tr><td><div class="sms-status-div"><span> Employees Eligible for SMS: ${shiftData[0].smscount}<br></span><span> Successfully Sent : ${shiftData[0].successcount}<br></span>{{if shiftData[0].smscount == shiftData[0].successcount }}<span> Failed : 0<br></span>{{else}}<span> Failed : <a class="failedStatus modern-link" shiftId="${shiftData[0].shiftid}">${shiftData[0].smscount - shiftData[0].successcount - shiftData[0].waitingcount}</a><br></span>{{/if}}{{if shiftData[0].waitingcount == 0 }}<span> SMS waiting for delivery : 0<br></span>{{else}}<span> SMS waiting for delivery : <a class="waitingStatus" shiftId="${shiftData[0].shiftid}">${shiftData[0].waitingcount}</a><br></span>{{/if}}</div></td></tr><tr></tr><tr><td valign="center">{{if shiftData[0].comments == undefined}}<div><span style="vertical-align: top;font-size:14px">Comments</span><textarea type="text" value="" name="smsDescription" maxlength="100" title="0 to 100 characters" style="margin-left:15px; width: 300px; height: 75px;border-radius:6px"></textarea></div>{{else}}<div style="border: 2px solid #FF0000;padding:5px;"><span>Reviewed By : ${shiftData[0].reviewed_by}<br></span><span>Reviewed On : ${dateMngr.createCommFormateWithColon(shiftData[0].reviewed_on)}<br></span><span>Comments : ${shiftData[0].comments}<br></span></div>{{/if}}</td></tr><tr><td><span class="commentEmptyError" style="display: none; color: red;"></span></td></tr><tr><td>{{if shiftData[0].comments == undefined}}<div style="text-align: center;border-top: 1px solid #E0e0e0;"><input name="reviewedSmsButton" type="button" value="Reviewed" class="buttonstyle1 wis-btn-md" style="margin-top: 15px;float-right"/></div>{{/if}}</td></tr>{{/if}}{{if cut_off == "SECOND_CUTOFF" && shiftData[1] != null}}<tr><td><div><span style="font-size:14px"> SMS has been sent @ ${dateMngr.getHours(shiftData[1].triggertime)}:${dateMngr.getMinutes(shiftData[1].triggertime)}<br></span></td></tr><tr></tr><tr><td><div class="sms-status-div"><span> Employees Eligible for SMS: ${shiftData[1].smscount}<br></span><span> Successfully Sent : ${shiftData[1].successcount}<br></span>{{if shiftData[1].smscount == shiftData[1].successcount }}<span> Failed : 0<br></span>{{else}}<span> Failed : <a class="failedStatus" shiftId="${shiftData[1].shiftid}">${shiftData[1].smscount - shiftData[1].successcount - shiftData[1].waitingcount}</a><br></span>{{/if}}{{if shiftData[1].waitingcount == 0 }}<span> SMS waiting for delivery : 0<br></span>{{else}}<span> SMS waiting for delivery : <a class="waitingStatus" shiftId="${shiftData[1].shiftid}">${shiftData[1].waitingcount}</a><br></span>{{/if}}</div></td></tr><tr></tr><tr><td valign="center">{{if shiftData[1].comments == undefined}}<div><span style="vertical-align: top;">Comments</span><textarea type="text" value="" name="smsDescription" maxlength="100" title="0 to 100 characters" style="margin-left:15px; width: 225px; height: 75px;"></textarea></div>{{else}}<div style="border: 2px solid #FF0000;padding:5px;"><span>Reviewed By : ${shiftData[1].reviewed_by}<br></span><span>Reviewed On : ${dateMngr.createCommFormateWithColon(shiftData[1].reviewed_on)}<br></span><span>Comments : ${shiftData[1].comments}<br></span></div>{{/if}}</td></tr><tr><td><span class="commentEmptyError" style="display: none; color: red;"></span></td></tr><tr><td>{{if shiftData[1].comments == undefined}}<div style="text-align: center;border-top: 1px solid #E0e0e0;"><input name="reviewedSmsButton" type="button" value="Reviewed" class="buttonstyle1 wis-btn-md" style="margin-top: 15px;float:right"/></div>{{/if}}</td></tr>{{/if}}</tbody></table></div></script><script id="back2BackTemplate" type="text/x-jquery-tmpl"><div style="padding:20px"><div class="gerateshiftB2b-body"><div >Do you want to select a specific login shift for back to back trip?</div><div class="radio-wrapper"><label><input type="radio" name="choseLogin" value="no"><span>No</span></label><label><input type="radio" name="choseLogin" value="yes" checked="checked"><span>Yes</span></label></div><div class="info-wrapper"><img src="assets/img/ic-action-info-24.svg" alt=""><span>Select specific login shifts with respect to logout shifts</span></div><div class="userSpecifiedB2B gerateshiftB2B-table" style="text-align: center;"><table style="width:100%;"><tr><th>Logout</th><th>Login</th></tr>{{each(i, shift) logoutShifts}}<tr><td style="text-align: center;">${shiftManager.FormatTime("logout", shift.id)}</td><td class="modern-chosen-div">{{html shiftManager.getB2BShiftHtml(shift)}}</td></tr>{{/each}}</table></div></div><div style="text-align: center; width: 100%;"><input name="saveB2B" class="buttonstyle1 wis-btn-md" style="float:right" type="button" value="Submit"></div></div></script><script id="vendorWarningTemplate" type="text/x-jquery-tmpl"><div style="padding:20px; width:600px;"><div  class="radio-wrapper vendor-alloc-top"><label><input type=radio name=vehicleUsageType value="CAB" checked=checked style="margin-right: 10px;" />Vehicle Allocation </label><label><input type=radio name=vehicleUsageType value="SHUTTLE" style="margin-right: 10px;" />Shuttle Allocation </label></div>{{if vendorCount > 0}}<div style="margin-bottom: 20px;" class="vendor-alloc-checkbox-wrapper"><label style="margin: 0 auto;"><input type="checkbox" name="overrideVendors" value="true" style="vertical-align: middle;"><span style="font-size: 14px;margin-left: 5px;">Re-allocate vendors to trips that already have vendors allocated.</span></label></div>{{/if}}{{if vendorCount > 0}}<div style="margin-bottom: 20px;font-size: 14px;" class="vendor-alloc-info"><img src="assets/img/ic-action-info-24.svg" alt="">There are ${vendorCount} trips that already have vendors allocated. These trips will not be impacted unless you choose the option below</div>{{/if}}{{if b2bCount > 0}}<div style="margin-bottom: 20px;font-size: 14px;" class="vendor-alloc-info"><img src="assets/img/ic-action-info-24.svg" alt="">There are ${b2bCount} Back-to-Back trips. Some Back-to-Back pairs may break.</div>{{/if}}<div style="margin-bottom: 20px;" class="past-alloc-wrapper"><label style="margin: 0 auto;"><span style="font-size: 14px;margin-left: 5px;">Past allocation influence</span><label class="switch"><input type="checkbox" name="showPastSelection" style="vertical-align: middle;"><span class="slider round" style="position:unset !important"></span></label></label></div><div class="pastVendorAllocationInfluence modernpastVendorAllocationInfluence" style="margin-bottom:20px;"></div>{{if isFleetMixEnabled == true}}<div style="margin-bottom: 20px;" class="past-alloc-wrapper" ><label style="margin: 0 auto;"><span style="font-size: 14px;margin-left: 5px;">Vendor vehicle type allocation</span><label class="switch"><input type="checkbox" name="showFleetMix" value="true" style="vertical-align: middle;"><span class="slider round" style="position:unset !important"></span></label></label></div><div class="vendorCabTypeAllocation" style="margin-bottom: 20px;"></div>{{/if}}{{if isFleetMixEnabled == false}}<div style="color:red" class="warning-wrapper">*Choose only 1 shift if you want to specify number of vehicles</div>{{/if}}<div style="text-align: center; width: 100%;"><input name="updateVendor" class=" wis-btn-md" type="button" value="Continue" style="float:right"></div></div></script><script id="vendorCabTypeAllocationTemplate" type="text/x-jquery-tmpl"><div style="width: 600px;" class="vendor-cab-table2"><form name="vendorCabTypeForm"><table style="width: 100%;"><tr><th>Vendor</th>{{each(capacity, count) allCabTypes}}<th>${capacity} Seaters</th>{{/each}}</tr>{{each(k, vendor) allVendors}}<tr><td>${vendor.name}</td>{{each(capacity, count) allCabTypes}}<td><input type="text" name="cabNum.${capacity}.${vendor.id}" class="vendorCabCount" value="0"></td>{{/each}}</tr>{{/each}}<tr><td>Total Required</td>{{each(capacity, count) allCabTypes}}<td>${count}</td>{{/each}}</tr><tr><td>Total Allocated</td>{{each(capacity, count) allCabTypes}}<td class="total_${capacity}">0</td>{{/each}}</tr></table></form></div></script><script id="pastVendorAllocationInfluenceTemplate" type="text/x-jquery-tmpl"><div style="width: 600px;vertical-align: middle;" class="vendor-alloc-radio-wrapper"><form name="pastAllocation"><div class="vendor-alloc-radio"><input type="radio" name="pastDataOption" value="1" checked > <span>Past 24 Hours</span></div><div class="vendor-alloc-select" ><div class="vendor-alloc-radio"><input type="radio" name="pastDataOption" value="2" > <span>Select Day Start shift</span></div>{{html shiftManager.getAllShiftOptions(shift)}}</div></form></div></script><script id="vendorCabTypeAllocationTemplate" type="text/x-jquery-tmpl"><div style="width: 600px;" class="vendor-cab-table"><form name="vendorCabTypeForm"><table style="width: 100%;"><tr>https://qa.moveinsync.com/Test6/master.jsp#RouteManagement<th>Vendor</th>{{each(capacity, count) allCabTypes}}<th>${capacity} Seaters</th>{{/each}}</tr>{{each(k, vendor) allVendors}}<tr><td>${vendor.name}</td>{{each(capacity, count) allCabTypes}}<td><input type="text" name="cabNum.${capacity}.${vendor.id}" class="vendorCabCount" value="0"></td>{{/each}}</tr>{{/each}}<tr><td>Total Required</td>{{each(capacity, count) allCabTypes}}<td>${count}</td>{{/each}}</tr><tr><td>Total Allocated</td>{{each(capacity, count) allCabTypes}}<td class="total_${capacity}">0</td>{{/each}}</tr></table></form></div></script><script id="tripsheetsPhysicalIdAssociation" type="text/x-jquery=temp"><div style="width:600px;"><div style="text-align:center; width:100%" class="physicalid-table-top"><table style="text-align:center; width:100%"><tr><td class="sort"><div><input type="checkbox" id="sortByDistance"><span>Sort by Distance</span></div><select id="sortByDistanceDropdown"><option value="1">Long to Short</option><option value="2">Short to Long</option></select></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td class="sort modern-chosen-div physical-id-select"><span>Select Ofiice</span><select id="physicalIdOffices" multiple style="width:100%;" class="phyId-office-select">{{each(k, office) officeList}}<option value="${id}">${address}</option>{{/each}}</select></td></tr></table></div><div class="custom_tab modern-tab"><button class="tablinks active" id = "sequentialPhysicalIdTab" data-type = "1">Sequential</button><button class="tablinks" id = "vehicleTypePhysicalIdTab" data-type = "2">Vehicle Type</button><button class="tablinks" id = "vendorPhysicalIdTab" data-type = "3">Vendor</button></div><div id="physicalIdContentBody"><div id="sequentialTabContent" class = "showCustomTabContent sequentialtab-table"><span>    Range : </span><div class="sequentialtab-body"><input class="inputnumber" id="sequentialRangeStart" type="number" placeholder="Start"> to <input id="sequentialRangeEnd" class="inputnumber" type="number" placeholder="End" disabled></div></div><div  id="vehicleTypeTabContent" class = "hideCustomTabContent"><table class="vehicletab-table"><tr><td></td><td>Prefix</td><td>Start</td><td></td><td>End</td></tr>{{each(count, cab) cabTypes}}<tr id="vehicleTypePidRow${cab.type}" name = "vehiclTypePidRowName"><td>${cab.name}</td><td><input id = "vehicleTypePidPrefix${cab.type}" type="text" class="inputnumber inputprefix" data-type=${cab.type}></td><td><input id="vehicleTypePidStart${cab.type}" type="number" placeholder="Start" class="inputnumber inputstart" data-type=${cab.type} ></td><td> to </td><td><input id="vehicleTypePidEnd${cab.type}" type="number" placeholder="End" class="inputnumber" disabled></td></tr>{{/each}}</table><br><br></div><div  id="vendorTabContent" class = "hideCustomTabContent"><table class="vendorTab-table"><tr><td></td><td>Prefix</td><td>Start</td><td></td><td>End</td></tr>{{each(count, ven) vendors}}<tr id="vendorPidRow${ven.id}" name = "vendorPidRowName"><td>${ven.name}</td><td><input id = "vendorPidPrefix${ven.id}" type="text" class="inputnumber inputprefix" data-type=${ven.id} value=${ven.vendorId}></td><td><input id="vendorPidStart${ven.id}" type="number" placeholder="Start" class="inputnumber vendorinputstart" data-type=${ven.id}></td><td> to </td><td><input id="vendorPidEnd${ven.id}" type="number" placeholder="End" class="inputnumber" disabled></td></tr>{{/each}}</table><br><br></div></div><div  style="text-align:center; width:100%;" class="assignPhysical-btn-wrapper"><span id="physicalIdAssignmentError"></span><br><button class="buttonstyle1 wis-btn-md" id="assignPhysicalIdButton"> Assign </button><br><br></div></div></script><script id="RouteFilesDownload-tmpl" type="text/x-jquery-tmpl"><div id="route-files-download-links"><table class="insidewidget formtable dowload-route-data-table" style="margin-top:0px;width:400px"><thead><tr><th colspan=2><span style="font-weight: bold;">Route Reports</span></th></tr></thead><tbody>{{if STW.Cache.isBulkRouteEditEnabled()}}<tr><td><a class="downloadRoutes modern-link">Download Routes</a></td></tr>{{/if}}{{if STW.Cache.isBulkRouteUploadEnabled()}}<tr><td><a class="routeUploadHistory modern-link">Route Upload History</a></td></tr>{{/if}}<tr><td><a class="routesAnalysis modern-link">Download Routes Analysis</a></td></tr>{{if STW.Cache.isBulkUploadCabsOnRoutesEnabled()}}<tr><td><a class="routesCabDeployment modern-link">Vehicle Deployment</td></tr>{{/if}}</tbody></table></div></script><script type="text/x-jquery-tmpl" id="deviceHealthTable"><tr index=${i}><td>${dateMngr.getDateAndTimeWithMilliSec(health.recordedTime)}</td><td>${health.appType == 1 ? "Platform" : "Business"}</td><td>${getLogTypeText(health.logType)}</td><td><input type="checkbox" value="true" name="showmore"/></td><td><div><span class="healthSpan" style="word-wrap: break-word;">${health.event}</span></div><div class="moreinfo" style="display:none;text-align:left"><span>Pending requests: ${healthArray[0]}</span><br><span>Battery Level: ${healthArray[1]}</span><br><span>Battery Temperature: ${healthArray[2]}</span><br><span>IsPowerConnected: ${healthArray[3] == STW.Constants.TRUE ? true : false}</span><br><span>IsSleepModeOn: ${healthArray[4] == STW.Constants.TRUE ? true : false}</span><br><span>gprsState:${healthArray[5]}</span><br><span>IsAeroPlaneModeOn: ${healthArray[6] == STW.Constants.TRUE ? true : false}</span><br><span>IsGPSOn: ${healthArray[7] == STW.Constants.TRUE ? true : false}</span><br><span>IsDutyInProgress: ${healthArray[8] == STW.Constants.TRUE ? true : false}</span><br><span>GPSLocation-Geocordinate: ${healthArray[9]}</span><br><span>GPSLocation -Time: ${dateMngr.getDateAndTimeWithMilliSec(parseInt(healthArray[10]))}</span><br><span>NetworkLocation-GeoCoordinate: ${healthArray[11]}</span><br><span>NetworkLocation-Time: ${dateMngr.getDateAndTimeWithMilliSec(parseInt(healthArray[12]))}</span><br><span>LastPollingTime: ${dateMngr.getDateAndTimeWithMilliSec(parseInt(healthArray[13]))}</span><br><span>LastSuccessFullPollingTime: ${dateMngr.getDateAndTimeWithMilliSec(parseInt(healthArray[14]))}</span></div></td></tr></script><script type="text/x-jquery-tmpl" id="monitorDeviceHealth"><div style="width:1400px"><div class="d-flex" style="padding: 10px 5px;border-bottom: 1px solid;"><div id="dateSelector" style="flex: 4"><form id ="getDateForTracking"><table class="dateTable modern-table"><tbody><tr><td><label class="modern-label p-0">Device ID:</label><div id="deviceId" style="height: 40px;"></div></td><td><label class="modern-label p-0" for="amount">Time range:</label><input type="text" id="amount" readonly class="modern-input"></td><td colspan="2"><label class="modern-label p-0">Date:</label><div class="modern-date-container" style="position: inherit;	float: inherit; left: 0"><input class="datePicker modern-date-picker" name="getDate" type=text value="" title="Date format: dd/MM/yyyy"/><input type="submit" class="primary-btn" style="margin-left: 30px;" value="Get Health" name="getDeviceHealth"/></div></td></tr></tbody></table><div style="margin-left:10px; margin-top: 10px; width: 80%;"><div id="slider-range" style="height:10px;"></div></div></form></div><div style="margin-top: 45px; flex: 1"><label class="modern-label p-0">Select Type: </label><select name="healthType" class="modern-select" style="width: auto;"><option value="-1">All</option><option value="1">Sms</option><option value="2">Call</option><option value="3">Internet</option><option value="4">Power Management</option><option value="5">Duty</option><option value="6">Geofence</option><option value="7">Gps</option><option value="8">Crash</option></select></div></div><div style="width: 100%; height: 600px; overflow: auto;"><table class="deviceHealthTable modern-table"><thead><tr><th>Time</th><th>App</th><th>Log Type</th><th></th><th>Health Logs</th></tr></thead><tbody></tbody></table></div><div class="moreHealthLink"><a class="showMoreHealth">See More Health</a></div></div></script><script type="text/x-jquery-tmpl" id="notify-email"><div class="addressChangeRequest"><form><div style="text-align: center;"><textarea id="emp-address" rows="4" cols="50"style="margin: 10px 0; height: 75px; width: 475px;"></textarea></div><div style="text-align: center;"><input class="buttonstyle1" type="submit"></div></form></div></script><script type="text/x-jquery-tmpl" id="address-landmark-nodal-change-request"><div class="addressChangeRequest" style="width: 450px;"><form><table><tr><td style="vertical-align: middle;">Pickup/Drop</td><td style="width: 350px;"><textarea id="emp-address" rows="4" cols="50"style="margin: 10px 0; height: 75px;" mandatory=true ></textarea></td></tr><tr><td style="vertical-align: middle;">Locality</td><td><textarea id="emp-landmark" rows="3" cols="50"style="margin: 10px 0; height: 50px;" mandatory=true ></textarea></td></tr><tr><td>Nodal</td><td><select id="emp-nodal" style="width: 100%;"><option value="None">None</option>{{each(k, nodal) STW.Cache.getAllNodalPoints()}}<option value="${nodal.id}">${nodal.address}</option>{{/each}}</select></td></tr><tr><td colspan="2" style="text-align: center;"><input class="buttonstyle1" type="submit"></td></tr></table></form></div></script><script id="adhocRequestTemplate" type="text/x-jquery-tmpl"><div class="adhocTripsheet insidewidget" style="width: 700px; margin: auto"><form class="adhocTripsheetForm" id="createTripsheetForm"><table style="margin: 0 auto; width: 90%" class="formtable"><tbody><tr><td style="width: 25%;"><label>Select Date and Time</label></td><td colspan="3" class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="tripDate" type="text" value="" title="Date format: dd/MM/yyyy"/><select class="modern-select" name="hours" style="width: 20%; margin-left: 10px;">{{html dateMngr.getHourOptionsWithNextHour(dateMngr.getHours(currentTime), dateMngr.getMinutes(currentTime), 5)}}</select><select class="modern-select" name="minutes" style="width: 20%; margin-left: 5px;">{{html dateMngr.getMinuteOptionsWithInterval(dateMngr.getMinutes(currentTime), 5)}}</select></td></tr><tr><td><label>From</label></td><td><select name="selectFromVenue" class="fromVenue" class="modern-select">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}<option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td><td class="fromOtherAddress" style="display: none;" ><input class="modern-input" type="text" name="FromOtherAddress" placeholder="Provide Address" /></td></tr><tr><td><label>To</label></td><td><select name="selectToVenue" class="toVenue" class="modern-select">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}<option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td><td class="toOtherAddress" style="display: none;" ><input type="text" class="modern-input" name="ToOtherAddress" placeholder="Provide Address" /></td></tr></tbody></table><div style="text-align:center;margin:10px" class="selectedTable"><input type="button" class="secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" name="submit" value="Submit" /></div></form></div></script><script type="text/x-jquery-tmpl" id="edit-trip-details-tmpl"><div id="edit-trip-details" class="insidewidget" style="width:100%; margin:auto"><form><div class="summary"><table class="summary-table formtable" style="width:60%"><col class="name-clmn"><col class="value-clmn"><thead><tr><th colspan="2" class="rightrad leftrad"> <span> Summary </span></th></tr></thead><tbody><tr><td> <span> Vehicle No. </span></td><td> <span> ${tripSheet.cab.displayCabId} (${tripSheet.cab.identification})<span> </td></tr><tr><td><span> Start Date </span></td><td><input class="datePicker" name="startTime" type="text" value="" title="Date format: dd-MM-yyyy" /><select name="startHours" style="margin-left:5px;"> {{html dateMngr.getHourOptions()}} </select><select name="startMins" style="margin-left:5px;"> {{html dateMngr.getMinuteOptions()}} </select></tr><tr><td><span> End Date </span></td><td><input class="datePicker" name="endTime" type="text" value="" title="Date format: dd-MM-yyyy" /><select name="endHours" style="margin-left:5px;"> {{html dateMngr.getHourOptions()}} </select><select name="endMins" style="margin-left:5px;"> {{html dateMngr.getMinuteOptions()}} </select></td></tr><tr><td> <span> Shift Type-Time </span></td><td>{{if tripSheet.type==3}}Adhoc - ${tripSheet.dir=="IN"?"Login" : "Logout"}{{else tripSheet.employeeList.length != 0}}${tripSheet.dir=="IN"?"Login" : "Logout"} ${dateMngr.getTimeIn24Hours(tripSheet.employeeList[0].pickupTime)} - ${dateMngr.getTimeIn24Hours(tripSheet.employeeList[0].dropTime)}{{else}}${tripSheet.dir=="IN"?"Login" : "Logout"} ${dateMngr.getTimeIn24Hours(startTime)} - ${dateMngr.getTimeIn24Hours(endTime)}{{/if}}</td></tr><tr><td> <span> Contract Type </span></td><td> <span> ${packageName} </span> </td></tr>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<tr><td> <span> Billing Zone </span></td><td><select name="billingZoneId" style="margin-left: 5px;"><option value="-1">Select Zone</option>{{each(i, billingZone) STW.Cache.getBillingZones()}}<option value="${billingZone.id}">${billingZone.zoneName}</option>{{/each}}</select></td></tr>{{/if}}<tr><td> <span> Number of KM </span></td><td>{{if STW.Cache.isOneTripPerDuty() == true}}${utils.decimalRound(tripDistance)}<input type="hidden" name="tripDistance" value="${utils.decimalRound(tripDistance)}" />{{else}}<input type="text" name="tripDistance" mandatory="true" value="${utils.decimalRound(tripDistance)}" />{{/if}}</td></tr>{{if STW.Cache.isNewBillingDashboardEnabled() == true}}<tr><td> <span> Contract </span></td><td><select name="contractUUID" style="padding:0 20px;"><option value="">Select Contract</option>{{each(i, contractName) contractList}}<option value="${uuid}">${contractName}</option>{{/each}}</select><input type="hidden" name="contractName" value="${contractName}" /></td></tr>{{/if}}{{if STW.Cache.isBilledCabAssociationEnabled() == true}}<tr><td> <span> Billed cab Reg No. </span></td><td><input type="text" name="BILLED_CAB_REGD" value="${BILLED_CAB_REGD}" /></td></tr>{{/if}}<tr><td> <span> Trip Id </span></td><td>${tripSheet.id}</td></tr></tbody></table></div><div class="trip-details"><table class="trip-details-table tablestyle1" style="width:100%" cellspacing="0px"><thead><tr><td colspan="8"><div style="font-weight: bold;font-size: 16px;padding: 5px;">Travelled employees</div></td></tr><tr><th><span>Emp Id</span></th><th><span>Emp Name </span></th><th><span>Pickup/Drop point</span></th><th><span>Landmark</span></th>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<th><span>Billing Zone</span></th>{{/if}}<th style="width: 200px;"><span>Picked</span></th><th style="width: 200px;"><span>Dropped</span></th>{{if tripSheet.type!=STW.Constants.TYPE_ADHOC}}<th><span>No Show</span></th>{{/if}}<th><span>Actions</span></th></tr></thead><tfoot></tfoot><tbody>{{each(i, emp) employeePickupPoints}}{{if getEmployeeNoShowStatus(tripSheet.employeeList, emp.stwId)==false && isEmployeeTravelledInAnotherTrip(tripSheet.employeeList, emp.stwId)==false}}${setIndex(emp, getEmployeeId, "getEmployeeId")}${setIndex(emp, dateMngr, "dateMngr")}${setIndex(emp, tripSheet, "tripSheet")}${setIndex(emp, getEmployeeAddress, "getEmployeeAddress")}${setIndex(emp, getEmployeeLandmark, "getEmployeeLandmark")}${setIndex(emp, getBillingZoneName, "getBillingZoneName")}${setIndex(emp, getEmployeeNoShowStatus, "getEmployeeNoShowStatus")}{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}${setIndex(emp, getBillingZoneDropdown, "getBillingZoneDropdown")}{{/if}}{{tmpl(emp) "#add-employee-in-a-trip"}}{{/if}}{{/each}}<tr><td colspan="8"><a class="add-a-employee">Add Employee</a></td></tr><tr><td colspan="8"><a class="addTripComment" style="float: left;">Comment</a><a class="tripHistory" style="float: right;">History</a></td></tr><tr class="tripCommentBox" style="display: none; width:99%"><td colspan="8"><textarea rows="3" name="tripComment" style="height:60px; width:98%;"></textarea></td></tr><tr class="tripHistoryBox" style="display: none;"><td colspan="8"></td></tr>{{if isAnyEmpNoShow == true}}<tr><td colspan="8"><div style="font-weight: bold;font-size: 16px;padding: 5px;">No show employees</div></td></tr><tr><th><span>Emp Id</span></th><th><span>Emp Name </span></th><th><span>Pickup/Drop point</span></th><th><span>Landmark</span></th>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<th><span>Billing Zone</span></th>{{/if}}<th style="width: 200px;"><span>Picked</span></th><th style="width: 200px;"><span>Dropped</span></th>{{if tripSheet.type!=STW.Constants.TYPE_ADHOC}}<th><span>No Show</span></th>{{/if}}<th><span>Actions</span></th></tr>{{each(i, emp) tripSheet.employeeList}}{{if emp.noShow == true || emp.noShow == "true"}}<tr><td>{{if getEmployeeId(tripSheet, emp) == true}}<img src="img/adhoc.svg"  title="specialNeedType" class="adhoc" style="margin-left: 10px;float:left;" alt="">&nbsp;&nbsp;{{/if}}<span>${emp.eid}</span></td><td>${emp.name}</td><td>${getEmployeeAddress(tripSheet, emp)}</td><td>${getEmployeeLandmark(tripSheet, emp)}</td>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<td>${getBillingZoneName(emp)}</td>{{/if}}<td><input class="datePicker" name="employees.${stwId}.startDate" type="text" value="" style="width: 65px;" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId}.startHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(pickupTime))}}</select><select name="employees.${stwId}.startMin" style="margin-top: 5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(pickupTime))}}</select></td><td><input class="datePicker" name="employees.${stwId}.endDate" type="text" value="" style="width: 65px;" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId}.endHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(dropTime))}}</select><select name="employees.${stwId}.endMin" style="margin-top:5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(dropTime))}}</select></td><td style="text-align: center;"><input class="noShowCheckBox" name="employees.${stwId}.noShow" stwId=${stwId} type="checkbox" value="true" checked="checked" /></td><td></td></tr>{{/if}}{{/each}}{{/if}}{{if isAnyEmpTravelledInAnotherTrip == true}}<tr><td colspan="8"><div style="font-weight: bold;font-size: 16px;padding: 5px;">Employees travelled in another trip</div></td></tr><tr><th><span>Emp Id</span></th><th><span>Emp Name </span></th><th><span>Pickup/Drop point</span></th><th><span>Landmark</span></th>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<th><span>Billing Zone</span></th>{{/if}}<th style="width: 200px;"><span>Picked</span></th><th style="width: 200px;"><span>Dropped</span></th>{{if tripSheet.type!=STW.Constants.TYPE_ADHOC}}<th><span>No Show</span></th>{{/if}}<th><span>Actions</span></th></tr>{{each(i, emp) tripSheet.employeeList}}{{if emp.employee_status == 5}}<tr><td>{{if getEmployeeId(tripSheet, emp) == true}}<img src="img/adhoc.svg"  title="specialNeedType" class="adhoc" style=" float:left; margin-left: 10px;" alt="">&nbsp;&nbsp;{{/if}}<span>${emp.eid}</span></td><td>${emp.name}</td><td>${getEmployeeAddress(tripSheet, emp)}</td><td>${getEmployeeLandmark(tripSheet, emp)}</td>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<td></td>{{/if}}<td><input class="datePicker" name="employees.${stwId}.startDate" type="text" value="" style="width: 65px;" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId}.startHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(pickupTime))}}</select><select name="employees.${stwId}.startMin" style="margin-top: 5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(pickupTime))}}</select></td><td><input class="datePicker" name="employees.${stwId}.endDate" type="text" value="" style="width: 65px;" title="Date format: dd-MM-yyyy" /><select name="employees.${stwId}.endHour" style="margin-top: 5px; margin-left: 5px;">{{html dateMngr.getHourOptions( dateMngr.getHours(dropTime))}}</select><select name="employees.${stwId}.endMin" style="margin-top:5px;">{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(dropTime))}}</select></td><td style="text-align: center;"></td><td><a class="retravelled-employee roleBasedAccess" functionalities="add_emp_to_tripsheet" stwId="${stwId == 0 ? actualTextEntered : stwId}"> Travelled </a></td></tr>{{/if}}{{/each}}{{/if}}</tbody></table></div><div class="form-submit-cont" style="text-align:center;margin-top:20px"><input class="buttonstyle1" type="submit" value="Done"/><input class="buttonstyle1" type="button" name="cancel" value="Cancel" /></div></form></div></script><script type="text/x-jquery-tmpl" id="move-emp-confirmation-tmpl"><div style="padding: 10px;"><div class="displayAlignCenter"><input type="radio" id="removeEmployeeFromTrip" checked="checked"/><span style="margin: 0px 5px;"> Delete Employee </span></div><div class="displayAlignCenter" id="employeeTravelledInTrip"><input type="radio"/><span style="margin: 0px 5px;"> Mark Employee as travelled in another trip: </span><select width="100px;"><option value="" disabled selected> Select Trip </option>{{each(k, tripId) possibleTripIds}}<option value="${tripId}" id="${tripId}">${tripId}</option>{{/each}}</select></div><div><input class="buttonstyle1" style="width: 100px;" id="saveEmployeeMoveOption" type="button" value="Save"/></div></div></script><script type="x-jquery-tmpl" id="uncapturedTripsheetsTemplate"><div><form style="width:400px"><div><table><tr class="roleBasedAccess" functionalities="add_adhoc_trip"><td style="width:150px;"><label><input type="radio" name="addTripSheetType" value="selectTripsheet" checked="checked"><span style="margin:0 10px;">Select tripsheets</span></label></td><td class="selectTripsheet"><select name="selectTripsheet">{{each(index, tripsheet) tripsheetList}}{{if type==3}}<option value="${index}">Adhoc - ${dir=="IN"?"Login" : "Logout"}</option>{{else}}<option value="${index}">${dir=="IN"?"Login" : "Logout"} ${dateMngr.getTimeIn24Hours(employeeList[0].pickupTime)} - ${dateMngr.getTimeIn24Hours(employeeList[0].dropTime)}</option>{{/if}}{{/each}}</select></td></tr><tr class="roleBasedAccess" functionalities="add_adhoc_trip"><td colspan="2" style="text-align:center;"><span style="font-size: 16">OR</span></td></tr><tr><td><label><input type="radio" name="addTripSheetType" value="searchTripsheet"><span style="margin:0 10px;">Search Trip Id</span></label></td><td class="searchTripsheet" style="display:none;"><input type="text" name="searchTripBox" class="searchTripBox" style="float: left;" autocomplete="off"><input type="button" name="searchTripButton" class="searchTripButton buttonstyle1" value="Go" style="float: left;min-height: 20px;min-width: 30px;margin: 0;"></td></tr><tr><td colspan="2" style="text-align:center;"><span class=tripAvailabilityCheck style="float: left; clear: both; width: 100%;" ></span></td></tr></table></div><div style="text-align: center; margin-bottom: 5px;"><input class="buttonstyle1" type="submit" value="Proceed" /><input class="buttonstyle1" type="reset" value="Cancel" name="cancel" /></div></form></div></script><script id="dashboard-cab-search-table" type="text/x-jquery-tmpl"><tr><td class=first-column style="width:30%"> ${cab.identification}</td><td class=track-cab> <span style="margin-right:10px">${cab.displayCabId} (${STW.Cache.getContractName(cab.contractId)})</span>{{if (cab.actionDate==undefined || !dateMngr.isDateFromFuture(cab.actionDate)) && cab.status==STW.Constants.CAB_INACTIVE}}<span style="margin-right:10px">(<b>Inactive</b>)</span>{{/if}}{{if cab.device || cab.externalDeviceIMEI}}(<a class=trackCab id=${cab.id}>Track</a>){{else}}<span title="No device IMEI is assigned to this cab due to which the TRACK option is disabled against the cab">Track</span>{{/if}}</td></tr><tr><td class=first-column> Driver Name </td><td class="cab-driver access-based-matrix" pii_id="DRIVER_NAME"> ${ cab.driverName } <br> ${cab.dashboardDriverNames}</td></tr><tr><td >Mobile</td><td class="access-based-matrix" pii_id="DRIVER_MOB">${cab.driverContactNo?cab.driverContactNo:"NA"}</td></tr>{{if cab.description}}<tr><td >Details</td><td>${cab.description}</td></tr>{{/if}}<tr><td class=first-column> Date </td><td class="selected-date modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name=startDate type=text value= title=Date format: dd/MM/yyyy/></td></tr>{{each( index, trip) allTripsheets}}<tr><td class=assigned-cab>{{if trip.tripSheet.type == STW.Constants.TYPE_ADHOC}}<span>Adhoc Trip</span><br>{{else}}<a class=showTripsheet tripId=${trip.tripSheet.id}>Tripsheet</a><br>{{/if}}<span><b>Distance :</b>${getTripDistance(index)}</span><br>{{if trip.tripSheet.shift}}<span><b>Shift: </b>${trip.tripSheet.shift.type == 0 ? "Login" : "Logout"} <span>${trip.tripSheet.shift.hour}</span>:<span>${trip.tripSheet.shift.minutes == 0 ? "00" : trip.tripSheet.shift.minutes}</span></span>{{/if}}</td><td><span><b>Duration :</b>{{if trip.isBilling && trip.billingTrip.state == STW.Constants.STATE_STARTED}}${dateMngr.getTimeIn24Hours(trip.startTime)} - Present{{else}}${dateMngr.getTimeIn24Hours(trip.startTime)} - ${dateMngr.getTimeIn24Hours(trip.endTime)}{{/if}}</span><br><span style="margin-right:10px"><b>Trip Status :</b>${getTripStatus(index)}</span>{{if trip.isBilling==true}}<a class="track-route" index=${index}>{{if trip.billingTrip.state == STW.Constants.STATE_STARTED}}(Track){{else}}View Route{{/if}}</a>{{if trip.reason == true}}<div class="tooltip"><img src="img/Information-icon.png" style="width: 15px;margin-left: 10px;margin-top:1px;"><span class="tooltiptext">Employee Sign-off is not received. please check with the driver, if the trip is closed on the driver’s device or make sure, there is no Pending Data on Device.</span></div>{{/if}}{{/if}}{{if trip.tripSheet.type != STW.Constants.TYPE_ADHOC}}<br><span title="${getStartLocation(index)}"><b>Start Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getStartLocation(index))}</span></span><br><span title="${getEndLocation(index)}"><b>End Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getEndLocation(index))}</span></span>{{/if}}{{if trip.tripSheet.comment && isNaN(trip.tripSheet.comment) && utils.isParseable(trip.tripSheet.comment)}}<div><span><b>Comment :</b>SPOT TRIPSHEET</span></div>{{else trip.tripSheet.comment}}<div><span><b>Comment :</b>${trip.tripSheet.comment}</span></div>{{/if}}</td></tr>{{/each}}{{if cab.externalDeviceIMEI != undefined && STW.Cache.fixedDeviceEnabled() == true}}<tr><td colspan="2"><div><a class="findFixedLocations" style="margin-bottom:10px;">Find Fixed Vehicle Locations</a></div><div class="fixedLocationDetails" style="display: none;"><form name="fixedLocationForm"><table border="0"><tr><div><td align="bottom"><span style="margin-right:10px;">Start Time</span></td><td class="modern-date-container" style="position: inherit; float: inherit;"><input class="datePicker modern-date-picker" name="startDate" type="text" value="" title="Date format: dd-MM-yyyy" /></td><td><select class="modern-select" name="startHours" style="margin-left: 10px;"> {{html dateMngr.getHourOptions()}}</select></td><td><select class="modern-select" name="startMins" style="margin-left: 5px;">{{html dateMngr.getMinuteOptions()}}</select></td></div></tr><tr><div><td align="bottom"><span style="margin-right:10px;">End Time</span></td><td class="modern-date-container" style="position: inherit; float: inherit;"><input class="datePicker modern-date-picker" name="endDate" type="text" value="" title="Date format: dd-MM-yyyy" /></td><td><select class="modern-select" name="endHours" style="margin-left: 10px;"> {{html dateMngr.getHourOptions()}}</select></td><td><select class="modern-select" name="endMins" style="margin-left: 5px;">{{html dateMngr.getMinuteOptions()}}</select></td></div></tr><tr><td colspan="4"><div style="margin:10px auto;text-align:center;" ><input name="findLocations" class="primary-btn" type="submit" value="Find"></div></td></tr></table></form></div></td></tr>{{/if}}</script><script id="dashboard-trip-search-table" type="text/x-jquery-tmpl">{{each( index, trip) allTripsheets}}<tr><td class=assigned-cab style="width:30%">{{if trip.tripSheet.type == STW.Constants.TYPE_ADHOC}}<span>Adhoc Trip</span><br>{{else}}<a class=showTripsheet tripId=${trip.tripSheet.id}>Tripsheet</a><br>{{/if}}<span><b>Distance: </b>${getTripDistance(index)}</span><br><span><b>Audited: </b>${trip.isAudited ? "Yes" : "No"}</span><br>{{if trip.tripSheet.shift}}<span><b>Shift: </b>${trip.tripSheet.shift.type == 0 ? "Login" : "Logout"} <span>${trip.tripSheet.shift.hour}</span>:<span>${trip.tripSheet.shift.minutes == 0 ? "00" : trip.tripSheet.shift.minutes}</span></span>{{/if}}</td><td><span><b>Date :</b>${dateMngr.getDateOnly(trip.startTime)}</span><br><span><b>Vehicle :</b>${trip.tripSheet.cab ? trip.tripSheet.cab.displayCabId + " (" +trip.tripSheet.cab.identification+")" : "No Vehicle Assigned"}</span><br><span><b>Duration :</b>{{if trip.isBilling && trip.billingTrip.state == STW.Constants.STATE_STARTED}}${dateMngr.getTimeIn24Hours(trip.startTime)} - Present{{else}}${dateMngr.getTimeIn24Hours(trip.startTime)} - ${dateMngr.getTimeIn24Hours(trip.endTime)}{{/if}}</span><br><span style="margin-right:10px"><b>Trip Status :</b>${getTripStatus(index)}</span>{{if trip.isBilling==true}}<a class="track-route" index=${index}>{{if trip.billingTrip.state == STW.Constants.STATE_STARTED}}(Track){{else}}View Route{{/if}}</a>{{if trip.reason == true}}<div class="tooltip"><img src="img/Information-icon.png" style="width: 15px;margin-left: 10px;margin-top:1px;"><span class="tooltiptext">Employee Sign-off is not received. please check with the driver, if the trip is closed on the driver’s device or make sure, there is no Pending Data on Device.</span></div>{{/if}}{{/if}}{{if trip.tripSheet.type != STW.Constants.TYPE_ADHOC}}<br><span title="${getStartLocation(index)}"><b>Start Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getStartLocation(index))}</span></span><br><span title="${getEndLocation(index)}"><b>End Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getEndLocation(index))}</span></span>{{/if}}{{if trip.lastUpdatedTime}}<br><span><b>Last Updated Time :</b><span>${trip.lastUpdatedTime}</span></span>{{/if}}{{if trip.tripSheet.comment && isNaN(trip.tripSheet.comment) && utils.isParseable(trip.tripSheet.comment)}}<div><span><b>Comment :</b>SPOT TRIPSHEET</span></div>{{else trip.tripSheet.comment}}<div><span><b>Comment :</b>${trip.tripSheet.comment}</span></div>{{/if}}</td></tr>{{/each}}</script><script id="panic-tracking-page-tmpl" type="text/x-jquery-tmpl"><table class="formtable" style="width: 100%;"><tr><th colspan="2">Panic Details</th></tr><tr><td style="width: 100px">Vehicle</td><td>${panicSession.cab.displayCabId} (${panicSession.cab.identification})</td></tr><tr><td>Driver</td><td>${panicSession.cab.driverName} (${panicSession.cab.driverContactNo})</td></tr><tr><td>Panic Start</td><td>${dateMngr.getDateTimeIn24HoursFormat(panicSession.startTime)}</td></tr><tr><td>Panic Disarm</td><td>${dateMngr.getDateTimeIn24HoursFormat(panicSession.disarmTime)}</td></tr>{{if panicSession.endTime}}<tr><td>Panic End</td><td>${dateMngr.getDateTimeIn24HoursFormat(panicSession.endTime)}</td></tr>{{/if}}</table>{{if panicSession.billingTrip}}<table class="formtable" style="width: 100%; border: 1px solid rgb(204, 204, 204);"><tr><th style="width: 30%;">Name</th><th>Sign In</th><th>Sign Out</th><th>Phone No.</th></tr>{{each(i, employee) panicSession.billingTrip.employeePickupPoints}}<tr><td>${name}</td><td>${dateMngr.getTimeIn24Hours(pickUpTime)}</td>{{if isSignedOff}}<td>${dateMngr.getTimeIn24Hours(signOffTime)}</td>{{else}}<td>Not Done</td>{{/if}}<td>${phone}</td></tr>{{/each}}</table>{{/if}}<div style="padding-left:10px;"><textarea id="actiontxt" style="height: 40px; width:95%;">${panicSession.action}</textarea></div><div class="panicAction" style="text-align: center;"><button id="save_button" class="buttonstyle1">Save</button><button id="disarm_button" class="buttonstyle1" style="display: none">Disarm</button><button id="end_button" class="buttonstyle1" style="display: none">Force End</button></div>{{if panicSession.id}}<div style="padding-left:10px;"><a class="panicHistory" style="float: right;">History</a></div>{{/if}}</script><script id="panic-widget-template" type="text/x-jquery-tmpl">{{each(i, session) panicSessions}}<div class="eventnotification" style="border:2px solid black;"><div class="panicpopheader">SOS Alert <img id="panic_warning_img" src="img/warning.png"style="padding-left: 10px"></div><div class="panicbody"><div class="panicElement" style="${getPanicSessionStyle(state)}" sessionId="${id}">{{if panicSource == "MOBILE"}}Panic raised by <b>${raisedBy.name} (${raisedBy.eid})</b><br>Employee phone : <b>${raisedBy.phone}</b><br>{{else}}Panic raised in <b>${cab.displayCabId} (${cab.identification})</b><br>Driver phone : <b>${cab.driverContactNo}</b><br>{{/if}}Status : <b>${getPanicStateMsg(state)}</b></div></div></div>{{/each}}</script><script type="text/x-jquery-tmpl" id="add-adjustment-template"><div class=add-adjustment><form><table id=adjustment-table style="position:relative;margin-top:0px" class="formtable"><thead></thead><tbody><tr><td>Date</td><td class=tripDate></td><td class=editDate style="display:none"><input class="datePicker" readonly name="date" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /></td></tr>{{if method=="addAdjustment"}}<tr><td><label><input class="modern-checkbox" type=radio name=source value=${STW.Constants.ADJUSTMENT_VENDOR} > Vendor</label></td><td class="vendor-box" style="display:none"><select name="vendorId">{{html getVendorOptions}}</select></td></tr><tr><td><label><input class="modern-checkbox" type=radio name=source value=${STW.Constants.ADJUSTMENT_CAB}> Vehicle ID</label></td><td class=cab-box style="display:none"><div id="searchCabsAdjustmentComboCont"></div></td></tr><tr><td><label><input class="modern-checkbox" type=radio name=source value=${STW.Constants.ADJUSTMENT_TRIP} checked=checked> Trip ID</label></td><td class=trip-box style="display:none"><div id="searchTripIdAdjustmentComboCont"></div></td></tr>{{else adjustment.source==STW.Constants.ADJUSTMENT_CAB}}<tr><td>Vehicle ID</td><td class=cab-id>${adjustment.cab.displayCabId}</td></tr><tr><td>Vehicle License Plate</td><td class=cab-license>${adjustment.cab.identification}</td></tr>{{else adjustment.source==STW.Constants.ADJUSTMENT_VENDOR}}<tr><td>Vendor</td><td class=vendor-id>${adjustment.vendor.name}</td></tr>{{else adjustment.source==STW.Constants.ADJUSTMENT_TRIP}}<tr><td>Trip Id</td><td class=trip-id>${adjustment.tripId}</td></tr>{{/if}}<tr class="functionalities" functionalities="bill_view"><td>Adjustment Type</td><td class=adjustment-type><select class="modern-select" name="adjustmentId" style="width:200px;">{{html getAdjustmentCombo()}}</select></td></tr><tr><td>Adjustment Amount</td><td class=adjustment-amount>{{if (method=="editAdjustment" && adjustment.adjustmentType)}}${adjustment.adjustmentType.amount}{{/if}}</td></tr><tr><td colspan="2"><a class="addAdjustmentComment" style="float: left;">Comment</a>{{if method=="editAdjustment"}}<a class="adjustmentHistory" style="float: right;">History</a>{{/if}}</td></tr><tr class="adjustmentCommentBox" style="display: none; width:99%"><td colspan="2"><textarea rows="3" id="adjusmentComment" name="comment" style="height:60px; width:98%;"></textarea></td></tr><tr><td colspan="2"  class="adjustmentHistoryBox" style="display: none;"></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="reset" class="secondary-btn" name="cancel" value ="Cancel"/><input type="submit" class="primary-btn" value ="Save"/></td></tr></tbody></table></form></div></script><script type="text/j-query-tmpl" id="addEditContract"><div class="addEditContract" style="width:100%"><div class="reportTable"><form><table class="contract_table formtable modern-table modern-table-inverse" style="width:570px"><tr><td><label>Contract Name<span class="mandatory">*</span></label></td><td><input id="contractName" class="modern-input" type="text" name="contractName" mandatory="true" maxlength="50" title="1 to 50 characters" /><span style="float:left;clear:both;width:180px" /></span></td></tr><tr><td><label>Auto Correct</label></td><td><select name="autoCorrectType" class="modern-select"><option value="DISABLED">Disabled</option><option value="MANUAL">Manual</option><option value="AUTOMATIC">Automatic</option></select></td></tr><tr><td><label>Contract Type</label></td><td id="contractType"><label></label></td></tr><tr><td><label>Auto audit</label></td><td><input type="checkbox" class="modern-checkbox" name="autoAudit" value="true" /></td></tr><tr><td><label>Garage Calculation</label></td><td><div><input class="modern-checkbox" type="checkbox" name="garageCalculationEnabled" value="true" /><select class="modern-select" name="garageType" style="display:none; margine-left:10px;"><option value="-1">Select</option><option value="FIXED">Fixed</option><option value="OFFICE_TO_OFFICE">Office to Office</option><option value="AUTO_GARAGE">Auto garage calculation</option></select></div><div><span class="garageTypeError" style="display:none;color:red">Please select a garage type</span></div></td></tr>{{each(index, field) listofFields}}<tr class="${field.variableName}"><td class="td_name"><label>${displayName} <span class="mandatory">*</span></label></td><td>{{html getFormField(field, contract)}}</td></tr>{{/each}}<tr><td colspan=2><span><label>Diesel Price Window</label></span></td></tr><tr class="fuelPriceWindows"><td colspan=2><a class="addMoreWindow">Add More Window</a></td></tr><tr class="contractSlab" style="display:none;"><td><a id="slab">Contract Slab</a></td></tr><tr><td colspan="2"><a class="addContractComment"style="float: left;">Comment</a><a class="contractHistory"style="float: right;">History</a></td></tr><tr class="contractCommentBox" style="display: none;"><td colspan="2"><textarea rows="3" name="contractComment"style="width: 99%"></textarea></td></tr><tr class="contractHistoryBox" style="display: none;"><td colspan="2"></td></tr><tr><td colspan="2" style="text-align: center">{{if contract==undefined || contract.id != STW.Constants.STANDBY_CONTRACTID}}<input class="addContract primary-btn" type="submit" value="Add" /><input type="reset" class="secondary-btn" name="cancel" value="Cancel" />{{/if}}</td></tr></table></form></div></div></script><script type="text/j-query-tmpl" id="addEditContractIssues"><div class="editContractIssues insidewidget" style="width:100%"><div class="reportTable"><form><table class="contract_issues_table formtable" style="width:570px"><tr><td colspan="4" style="text-align:center;><span style="font-size:14px;">${contract.contractName}</span></td></tr><tr><td class="td_name"><label>Trip KM</label></td><td><input type="checkbox" name="tripKMIssueEnabled" value="true" ${contractIssue.tripKMIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="minkm" mandatory=true value="${contractIssue.minkm}"></td><td><span>Max</span><input type="text" name="maxkm" mandatory=true value="${contractIssue.maxkm}"></td></tr><tr><td class="td_name"><label>Dead KM Percentage</label></td><td><input type="checkbox" name="deadKMIssueEnabled" value="true" ${contractIssue.deadKMIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="mindead" mandatory=true value="${contractIssue.mindead}"></td><td><span>Max</span><input type="text" name="maxdead" mandatory=true value="${contractIssue.maxdead}"></td></tr><tr><td class="td_name"><label>Duty KM</label></td><td><input type="checkbox" name="dutyKMIssueEnabled" value="true" ${contractIssue.dutyKMIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="mindutykm" mandatory=true value="${contractIssue.mindutykm}"></td><td><span>Max</span><input type="text" name="maxdutykm" mandatory=true value="${contractIssue.maxdutykm}"></td></tr><tr><td class="td_name"><label>Duty Trip Count</label></td><td><input type="checkbox" name="dutyTripCountIssueEnabled" value="true" ${contractIssue.dutyTripCountIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="mintrips" mandatory=true value="${contractIssue.mintrips}"></td><td><span>Max</span><input type="text" name="maxtrips" mandatory=true value="${contractIssue.maxtrips}"></td></tr><tr><td class="td_name"><label>Duty Seconds</label></td><td><input type="checkbox" name="dutyHoursIssueEnabled" value="true" ${contractIssue.dutyHoursIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="mindutyseconds" mandatory=true value="${contractIssue.mindutyseconds}"></td><td><span>Max</span><input type="text" name="maxdutyseconds" mandatory=true value="${contractIssue.maxdutyseconds}"></td></tr><tr><td class="td_name"><label>Duty Count</label></td><td><input type="checkbox" name="improperDutiesIssueEnabled" value="true" ${contractIssue.improperDutiesIssueEnabled ? "checked=checked":""}></td><td><span>Min</span><input type="text" name="minduties" mandatory=true value="${contractIssue.minduties}"></td><td><span>Max</span><input type="text" name="maxduties" mandatory=true value="${contractIssue.maxduties}"></td></tr><tr><td class="td_name"><label>Improper report on/off KM</label></td><td><input type="checkbox" name="reportOnReportOffIssueEnabled" value="true" ${contractIssue.reportOnReportOffIssueEnabled ? "checked=checked":""}></td><td></td><td><span>Max</span><input type="text" name="improperreportoff" mandatory=true value="${contractIssue.improperreportoff}"></td></tr><tr><td class="td_name"><label>Employee Count</label></td><td><input type="checkbox" name="tripEmployeeCountIssueEnabled" value="true" ${contractIssue.tripEmployeeCountIssueEnabled ? "checked=checked":""}></td><td></td><td><span>Max</span><input type="text" name="employeecount" mandatory=true value="${contractIssue.employeecount}"></td></tr><tr><td class="td_name"><label>NoShow Employee in Trip</label></td><td><input type="checkbox" name="noshowIssueEnabled" value="true" ${contractIssue.noshowIssueEnabled ? "checked=checked":""}></td><td></td><td></td></tr><tr><td class="td_name"><label>First Employee NoShow in Trip</label></td><td><input type="checkbox" name="firstEmployeeNoshowIssueEnabled" value="true" ${contractIssue.firstEmployeeNoshowIssueEnabled ? "checked=checked":""}></td><td></td><td></td></tr>{{if STW.Cache.isOneTripPerDuty() == true}}<tr><td class="td_name"><label>Round Trip KM</label></td><td><input type="checkbox" name="roundTripIssueEnabled" value="true" ${contractIssue.roundTripIssueEnabled ? "checked=checked":""}></td><td></td><td><span>Geofence Mts</span><input type="text" name="roundTripGeofence" mandatory=true value="${contractIssue.roundTripGeofence}"></td></tr><tr><td class="td_name"><label>Trip Tolerance</label></td><td><input type="checkbox" name="tripToleranceIssueEnabled" value="true" ${contractIssue.tripToleranceIssueEnabled ? "checked=checked":""}></td><td><span>Round Trip</span><input type="checkbox" name="isRoundTrip" value="true" ${contractIssue.isRoundTrip ? "checked=checked":""}"></td><td><span>Tolerance Lower Threshold%</span><input type="text" name="tripToleranceLowerThreshold" mandatory=true value="${contractIssue.tripToleranceLowerThreshold}"><br><span>Tolerance Upper Threshold%</span><input type="text" name="tripToleranceUpperThreshold" mandatory=true value="${contractIssue.tripToleranceUpperThreshold}"></td></tr>{{/if}}{{if STW.Cache.isBackToBackEnabledForBillingTrips() == true}}<tr><td class="td_name"><label>Planned B2B not executed</label></td><td><input type="checkbox" name="backToBackIssueEnabled" value="true" ${contractIssue.backToBackIssueEnabled ? "checked=checked":""}></td><td></td><td></td></tr>{{/if}}{{if STW.Cache.isBillingZoneFeatureEnabled() == true}}<tr><td class="td_name"><label>Ignore Escorts for Zone based billing</label></td><td><input type="checkbox" name="ignoreEscortZone" value="true" ${contractIssue.ignoreEscortZone ? "checked=checked":""}></td><td></td><td></td></tr>{{/if}}<tr><td colspan="4"><a class="addContractIssueComment" style="float: left;">Comment</a><a class="contractIssueHistory" style="float: right;">History</a></td></tr><tr class="contractIssueCommentBox" style="display: none;"><td colspan="4"><textarea rows="3" name="comment" style="width: 99%"></textarea></td></tr><tr class="contractIssueHistoryBox" style="display: none;"><td colspan="4"></td></tr><tr><td colspan="4" style="text-align: center">{{if contract && contract.id != STW.Constants.STANDBY_CONTRACTID}}<input class="addContract buttonstyle1" type="submit" value="Save" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" />{{/if}}</td></tr></table></form></div></div></script><script type="text/j-query-tmpl" id="contractSlabs"><div><table style="position: relative;" class="insidewidget tablestyle1><thead><th>Start Km</th><th>End Km</th><th>Package Cost</th>{{if contract.contractType != STW.Constants.TRIP}}<th>Extra Km Cost</th>{{/if}}</thead><tbody>{{each(index, slab) contract.slabs}}<tr><td>${slab.startKm}</td><td>${slab.endKm}</td><td>${slab.slabPackage}</td>{{if contract.contractType != STW.Constants.TRIP}}<td>${slab.cost}</td>{{/if}}</tr>{{/each}}</tbody></table></div></script><script type="text/x-jquery-tmpl" id="contractTableTemplate"><table style="position: relative; width: 70%;"class="modern-table" cellspacing="0px"><thead><tr><th><span>S No.</span></th><th><span>Name</span></th><th><span>Vehicle Type</span></th><th class="actions roleBasedAccess" functionalities="contract_edit"><span>Actions</span></th></tr></thead><tbody>{{each(index, contract) activeContractList}}<tr indx=${index}><td>${index+1}</td><td>${contract.contractName}</td><td><span>${STW.Cache.getCabInfo(contract.cabType).name}</td><td class="roleBasedAccess" functionalities="contract_edit" style="width: 329px;">{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<a class="edit" index=${index}>Edit</a>{{else}}<a class="edit" index=${index}>View</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<!-- <a class="delete" index=${index}>Delete</a> --><a class="delete" index=${index}>Disable</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<a class="editIssue" index=${index}>Edit Issues</a>{{else}}<a class="editIssue" index=${index}>View Issues</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}{{if contract.contractType == "TRIP"}}<a class="uploadFuelTripPrice" index=${index} style="padding-left: 14px;">Upload Fuel-Trip Price</a>{{/if}}{{/if}}</td></tr>{{/each}}{{if STW.Cache.getSyncContractStatusInContractService() == true}}<tr><td><a class="inactive-contract-link"><b>Inactive Contracts</b></a></td></tr>{{each(index, contract) inactiveContractList}}<tr indx=${activeContractList.length + index} class="inactive-contract" style="display:none"><td>${index+1}</td><td>${contract.contractName}</td><td><span>${STW.Cache.getCabInfo(contract.cabType).name}</td><td class="roleBasedAccess" functionalities="contract_edit" style="width: 329px;">{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<a class="edit" index=${activeContractList.length + index}>Edit</a>{{else}}<a class="edit" index=${activeContractList.length + index}>View</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<a class="_active" index=${activeContractList.length + index}>Activate</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}<a class="editIssue" index=${activeContractList.length + index}>Edit Issues</a>{{else}}<a class="editIssue" index=${activeContractList.length + index}>View Issues</a>{{/if}}{{if contract.id != STW.Constants.STANDBY_CONTRACTID}}{{if contract.contractType == "TRIP"}}<a class="uploadFuelTripPrice" index=${activeContractList.length + index} style="padding-left: 14px;">Upload Fuel-Trip Price</a>{{/if}}{{/if}}</td></tr>{{/each}}{{/if}}</tbody></table></script><script type="text/x-jquery-tmpl" id="mark-prorate-template"><div class="mark-prorate insidewidget"><form><table class="mark-prorate-table formtable" style="position:relative"><thead></thead><tbody><tr><td>Start Date</td><td>{{if method=="getProrate"}}${prorate.startDate.split(" ")[0]}{{else}}<input class="datePicker" name="startDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" />{{/if}}</td></tr><tr><td>End Date</td><td>{{if method=="getProrate"}}${prorate.endDate.split(" ")[0]}{{else}}<input class="datePicker" name="endDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" />{{/if}}</td></tr><tr><td style="width:40%">Vehicle ID</td><td class=cab-id>${prorate.cab.displayCabId}</td></tr><tr><td>Vehicle License Plate</td><td class=cab-license>${prorate.cab.identification}</td></tr><tr><td>Number of duties</td><td>{{if method=="getProrate"}}${prorate.numDuties}{{else}}<input name="numDuties" type="text" value=${prorate.numDuties} />{{/if}}</td></tr>{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR}}<tr><td>Package Amount</td><td><span class=package-amount>${utils.decimalRound(prorate.costPerMonth)}</span></td></tr>{{/if}}<tr><td>Package KM</td><td><span class=package-km>${prorate.minKmPerMonth}</span></td></tr></tbody><tfoot><tr><td colspan="2">{{if method!="getProrate"}}<a class="addProrateComment" style="float: left;">Comment</a>{{/if}}{{if method!="addProrate"}}<a class="prorateHistory" style="float: right;">History</a>{{/if}}</td></tr><tr class="prorateCommentBox" style="display: none; width:99%"><td colspan="2"><textarea rows="3" name="comment" style="height:60px; width:98%;"></textarea></td></tr><tr><td colspan="2" class="prorateHistoryBox" style="display: none;"></td></tr></tfoot></table>{{if method=="getProrate"}}<div style="text-align:center"><input type="reset" class="buttonstyle1" name="cancel" value ="OK" /></div>{{else}}<div style="text-align:center;margin-bottom:5px"><input type="submit" class="buttonstyle1" value ="Save" /><input type="reset" class="buttonstyle1" name="cancel" value ="Cancel" /></div>{{/if}}</form></div></script><script type="text/x-jquery-tmpl" id="add-prorate-template"><div class="mark-prorate insidewidget"><form><table class="add-prorate-table formtable" style="position:relative"><thead></thead><tbody><tr><td>Start Date</td><td><input class="datePicker" readonly name="startDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /></td></tr><tr><td>End Date</td><td><input class="datePicker" readonly name="endDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /></td></tr><tr><td style="width:40%">Vehicle ID</td><td class=cab-id><div id="searchCabsProrateComboCont"></div></td></tr><tr><td>Vehicle License Plate</td><td class=cab-license></td></tr></tbody></table><div style="text-align:center;margin-bottom:5px"><input type="submit" class="buttonstyle1" value ="OK" /><input type="reset" class="buttonstyle1" name="cancel" value ="Cancel" /></div></form></div></script><script type="text/x-jquery-tmpl" id="restore-duties-template"><div class="restoreDuties"><div><table style="position:relative;width:300px;" class="insidewidget formtable" ><tbody>{{if STW.Cache.isBillingDashboardOfficeFilterEnabled()}}<tr><td style="width:35%">Office:</span></td><td><select class="selectedOffice" style="display:none;height: 25px;"></select></td></tr>{{/if}}<tr><td style="width:35%">Start Date</td><td><input class="datePicker" name="startDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /></td></tr><tr><td>End Date</td><td><input class="datePicker" name="endDate" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /></td></tr><tr><td>Vehicle Id</td><td><div id="searchCabsForDutyRestoreComboCont"></div></td></tr><tr><td>Trip Id</td><td><div id="searchTripsForDutyManage"></div></td></tr></tbody></table></div><div style="height:20px;"><div class="addTrip roleBasedAccess" functionalities="bill_edit" style="float:left;"></div><div class="roleBasedAccess" functionalities="bill_edit" style="float:right;">{{if STW.Cache.splitEmptyLegsEnabled() == true}}<input type="button" name="bulkProcessDuties" class="roleBasedAccess buttonstyle1" functionalities="bill_audit" value="Bulk Process Duty" style="width:120px"/>{{/if}}<input type=button class="mergeDuties buttonstyle1 roleBasedAccess" functionalities="bill_edit" value="Merge Duties" style="width: 100px;"/></div></div><div id="cab-duties-table"></div></div></script><script type="text/x-jquery-tmpl" id="trip-info-tmpl"><div class="empListTable"><table id="cabInfoList" style="width:350px; margin:0 auto" class="popup-table" ><thead><tr><th colspan = 2><span style="text-align:center;display:block;">Trip Information</span></th></tr></thead><tbody><tr><td><span>Trip ID: </span></td><td><span>${billingTrip.tripSheet.id}</span></td></tr><tr><td><span>Vehicle ID: </span></td><td><span>${billingTrip.tripSheet.cab.cabId}</span></td></tr><tr><td><span>Registration Number: </span></td><td><span>${billingTrip.tripSheet.cab.identification}</span></td></tr><tr><td><span>Vehicle Type: </span></td><td><span>${billingTrip.tripSheet.cab.cabType.name}</span></td></tr><tr><td><span>Driver Name: </span></td><td class="access-based-matrix" pii_id="DRIVER_NAME"><span>${universalFun.checkAvailability(billingTrip.tripSheet.cab.driverName)}</span></td></tr><tr><td><span>Driver Phone Number: </span></td><td class="access-based-matrix" pii_id="DRIVER_MOB"><span>${universalFun.checkAvailability(billingTrip.tripSheet.cab.driverContactNo)}</span></td></tr>{{if billingTrip.tripSheet.type == STW.Constants.TYPE_REGULAR || billingTrip.tripSheet.type == STW.Constants.TYPE_IRREGULAR}}<tr><td><span>Shift Time: </span></td><td><span>${dateMngr.getDateTimeIn24HoursFormat(billingTrip.tripSheet.shiftDate)}</span></td></tr>{{/if}}<tr><td><span>Direction: </span></td><td><span>${billingTrip.type} LOG${billingTrip.tripSheet.dir}</span></td></tr><tr><td><span>Trip Type: </span></td><td><span>{{if billingTrip.tripSheet.type == STW.Constants.TYPE_ADHOC}}Adhoc{{else}}Planned{{/if}}</span></td></tr><tr><td><span>Escort Required: </span></td><td><span>{{if billingTrip.tripSheet.marshallRequired == true}}Yes{{else}}No{{/if}}</span></td></tr></tbody></table><table id="employeeInfoList" class="centerAlign popup-table" style="width:900px; margin:0 auto"><thead><tr>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM)}}<th><span>Id</span></th>{{/if}}<th><span>Name</span></th><th><span>Gender</span></th><th><span>Planned Pickup/Drop Address</span></th><th><span>Landmark</span></th><th><span>Sign In<span style="float: right; width: 10px;"><img class=sortBySignInTimeUp title="Sort all employees by Sign In" alt="Not Found" src="img/up-arrow.png" style="cursor: pointer;"><img class=sortBySignInTimeDown title="Sort all employees by Sign In" alt="Not Found" src="img/down-arrow.png" style="cursor: pointer;"></span></span></th><th><span>Sign Out<span style="float: right; width: 10px;"><img class=sortBySignOutTimeUp title="Sort all employees by Sign Out" alt="Not Found" src="img/up-arrow.png" style="cursor: pointer;"><img class=sortBySignOutTimeDown title="Sort all employees by Sign Out" alt="Not Found" src="img/down-arrow.png" style="cursor: pointer;"></span></span></th><th><span>Report Time*</span></th><th><span>Distance**</span></th>{{if STW.Cache.isMovingEmployeeToDifferentTripEnabled()}}<th><span>Status***</span></th>{{/if}}<th><span>Phone</span></th></tr></thead><tbody>{{each(i, employee) employeeList}}<tr class="centerAlign" style="background-color:${isEmployeeInactive(employee, billingTrip.tripSheet)?"Orange":"White"};">{{if ((STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR) &&(STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td ><span>${universalFun.checkAvailability(employee.eid)}</span>{{if employee.isSpecialNeed == true}}<img src="img/adhoc.svg"  title="${employee.specialNeedType}" class="adhoc"  style="margin-left: 10px;" alt="">{{/if}}</td>{{else}}{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR ||STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{/if}}{{/if}}{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR ||STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_NAME"><span>${getEmployeeName(employee,billingTrip.tripSheet.employeeList)}{{/if}}{{each(i, role) employee.employeeRoles}}{{if role.roleId==STW.Constants.ROLE_ESCORT}}<img class="marshalIcon" src="img/marshal.png" />{{/if}}{{/each}}</span></td><td class="access-based-matrix" pii_id="EMP_GEN"><span>${employee.gender==STW.Constants.FEMALE ? "Female" : employee.gender==STW.Constants.MALE ? "Male" : employee.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral": "NA"}{{if employee.gender==STW.Constants.FEMALE }}<img class="genderIcon" src="img/female.png" />{{else employee.gender==STW.Constants.MALE}}<img class="genderIcon" src="img/male.jpg" />{{/if}}</span></td>{{if (((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM) && (STW.Cache.isHideEmpAddressEnabled() == true)) ||(STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_ADDR"><span>${getEmployeeAddress(employee,billingTrip.tripSheet)}</span></td>{{/if}}<td class="access-based-matrix" pii_id="EMP_NODAL"><span>${getEmployeeLandmark(employee,billingTrip.tripSheet)}</span></td><td><span>${getTimeOfSignIn(employee)}</span></td><td><span>${getTimeOfSignOff(employee)}</span></td><td><span>${dateMngr.getTimeIn24Hours(employee.driverReportingTime)}</span></td>{{if employee.noShow }}<td><span title="${employee.noshowMarker}">${getDistanceTravelled(billingTrip, employee)}</span></td>{{else}}<td><span>${getDistanceTravelled(billingTrip, employee)}</span></td>{{/if}}{{if STW.Cache.isMovingEmployeeToDifferentTripEnabled()}}<td><span>${getEmployeeTravelStatus(employee, billingTrip)}</span></td>{{/if}}{{if ((universalFun.hideEmployeePhoneNum(employee)== true) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR) ||(STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_MOB"><span>${universalFun.checkAvailability(employee.phone)}</span></td>{{/if}}</tr>{{/each}}{{if isAdhocEmployee(billingTrip) }}<tr><td colspan=7><span># Adhoc Employee</span></td></tr>{{/if}}<tr><td colspan=10>* Time when driver reported at employee's pickup place.This is updated on trip completion.<br>** Distance traveled by employee from the start point</td></tr>{{if STW.Cache.isMovingEmployeeToDifferentTripEnabled()}}<tr><td colspan=10>*** In case the employee did not board the vehicle or if the employee did not travel for the significant distance/duration, decision on their status will be available 6 hours after trip ends.</td></tr>{{/if}}</tbody></table>+</div></script><script id="employeeTimeTemplate" type="text/x-jquery-tmpl"><tr><th></th><th>Employees</th><th>Gender</th><th>Pickup/Drop point</th><th>Landmark</th><th>Office</th>{{if fromRoute==true}}<th style="width: 125px">Time</th>{{else}}<th style="width: 100px">Time</th>{{/if}}<th>KM</th>{{if fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<th style="width: 60px"></th>{{/if}}</tr>{{if route.dir == "OUT"}}{{each( k, office ) officeList}}<tr><td></td><td colspan="2">Pickup</td><td colspan="2">${office.address}</td><td>{{if fromRoute != true}}<a class=editAllOffice style="float:right; margin-right: 5px;margin-top: 10px;" title="click to change pickup address of all employees"><img src="img/ic-action-edit-24.svg" /></a>{{/if}}</td><td class="edit-route-index">{{if route.shift != undefined && STW.Cache.disableTripsheetOfficeTime()}}<select class="modern-select" style="height: 22px;width:48px"  name="start.${office.id}.hour" disabled="disabled">  {{html dateMngr.getHourOptions( dateMngr.getHours(office.time)) }}</select><input type=hidden name="start.${office.id}.hour" value="${dateMngr.getHours(office.time)}" ><select class="modern-select" style="height: 22px;width:48px" name="start.${office.id}.min" disabled="disabled"> {{html dateMngr.getMinuteOptions( dateMngr.getMinutes(office.time)) }}</select><input type=hidden name="start.${office.id}.min" value="${dateMngr.getMinutes(office.time)}" >{{else}}<select class="modern-select" style="height: 22px;width:48px" name="start.${office.id}.hour" > {{html dateMngr.getHourOptions( dateMngr.getHours(office.time)) }}</select><select class="modern-select" style="height: 22px;width:48px" name="start.${office.id}.min" > {{html dateMngr.getMinuteOptions( dateMngr.getMinutes(office.time)) }}</select>{{/if}}</td><td></td>{{if fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<td></td>{{/if}}</tr>{{/each}}{{if fromRoute == true && firstOrLastEmployeeRemoved() == true}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{/if}}{{/if}}{{each( k, emp ) employeeList}}{{if (emp == "missing") || (emp == null && route.isReviewed != "true")}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{else emp != null}}<tr style="background-color:${getEmployeeRowColor(emp)};">{{if emp.routeAssignmentMechanism == "ADJUSTED"}}<td  style="background-color:red;" title="Adjusted employee"> ${emp.index+1}{{else}}<td class="edit-route-index">${emp.index+1}{{/if}}{{if fromRoute == true}}<input type="checkbox" name="selectEmp" empIndex=${emp.index} value="true" style="height: 14px;"/>{{/if}}{{if emp.isSpecialNeed == true}}<img src="img/adhoc.svg"  title="${emp.specialNeedType}" class=" access-based-matrix" pii_id="EMP_SPECIAL" style="margin-left: 10px;" alt="">{{/if}}{{if STW.Cache.isBusPassIdentifierEnabled() == true && emp.busPass == true}}<img src="img/busPass.svg" title="Bus Pass" style="width: 20px; margin-left: 4px;" />{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NAME" style=${(emp.isSpecialNeed!= undefined && emp.isSpecialNeed == true) ?"font-color:red":""}> ${emp.name} </td><td class="access-based-matrix" pii_id="EMP_GEN" style="width: 30px"><span> ${emp.gender==STW.Constants.FEMALE ? "Female" : emp.gender==STW.Constants.MALE ? "Male" : emp.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral" : "NA"} </span></td><td class="access-based-matrix" pii_id="EMP_ADDR">{{if route.dir == "IN"}}<span title="${emp.pickupLoc.address}">${emp.pickupLoc?utils.getTruncatedAddress(emp.pickupLoc.address):""}</span>{{else}}<span title="${emp.dropLoc.address}">${emp.dropLoc?utils.getTruncatedAddress(emp.dropLoc.address):""}</span>{{/if}}{{if fromRoute != true}}<a class=editAddress empIndex=${emp.index} style="float:right; margin-right: 5px;margin-top: 5px;" title="click to edit address"><img src="img/ic-action-edit-24.svg" /></a>{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">{{if route.dir == "IN"}}${emp.pickupLoc.landmark == undefined?"":emp.pickupLoc.landmark}{{else}}${emp.dropLoc.landmark == undefined?"":emp.dropLoc.landmark}{{/if}}</td><td>{{if route.dir == "IN"}}${emp.dropLoc.address == undefined?"":emp.dropLoc.address}{{else}}${emp.pickupLoc.address == undefined?"":emp.pickupLoc.address}{{/if}}{{if fromRoute != true}}<a class=editOffice empIndex=${emp.index} style="float:right; margin-right: 5px;margin-top: 5px;" title="click to edit address"><img src="img/ic-action-edit-24.svg" /></a>{{/if}}</td><td class="edit-route-index" style="display:flex;align-items:center;gap:2px">{{if route.dir == "IN"}}<select class="modern-select"  style="height: 22px;width:48px" name="emp.${emp.index}.hour" ${emp.employee_status==STW.Constants.STATUS_ACTIVE?"":"disabled=disabled"}>{{html dateMngr.getHourOptions( dateMngr.getHours(emp.pickupTime))}}</select><select class="modern-select" style="height: 22px;width:48px" name="emp.${emp.index}.min" ${emp.employee_status==STW.Constants.STATUS_ACTIVE?"":"disabled=disabled"}>{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(emp.pickupTime))}}</select>{{else}}<select class="modern-select" style="height: 22px;width:48px" name="emp.${emp.index}.hour" ${emp.employee_status==STW.Constants.STATUS_ACTIVE?"":"disabled=disabled"}>{{html dateMngr.getHourOptions( dateMngr.getHours(emp.dropTime))}}</select><select class="modern-select" style="height: 22px;width:48px" name="emp.${emp.index}.min" ${emp.employee_status==STW.Constants.STATUS_ACTIVE?"":"disabled=disabled"}>{{html dateMngr.getMinuteOptions( dateMngr.getMinutes(emp.dropTime))}}</select>{{/if}}{{if fromRoute==true && route.shuttleRouteId == undefined}}{{if k<(employeeList.length-1)}}<a class="moveEmployeeDown" empIndex=${emp.index} title="Move employee below"><img class="moveDownImage" src="img/down.svg" style="width: 16px;" /></a>{{/if}}{{if emp.index!= 0}}<a class="moveEmployeeUp" empIndex=${emp.index} title="Move employee above" style="float: right;"><img class="moveUpImage" src="img/up.svg" style="width: 16px;"/></a>{{/if}}{{/if}}</td><td>${utils.decimalRound(emp.onBoardDistance)}</td>{{if fromRoute==true || route.tripStatus == STW.Constants.STATE_ENDED}}{{else emp.employee_status==STW.Constants.STATUS_ACTIVE && emp.noShow == false}}<td style="text-align:center; display: flex;"><a class=addEmployee empIndex=${emp.index} id=addEmplooyee${emp.index} title="Add an employee above this"><img class="addEmpImage roleBasedAccess" functionalities="add_emp_to_tripsheet" src="img/add-blue.svg" /></a><a class=removeEmployee empIndex=${emp.index} id=removeEmplooyee${emp.index} title="Remove this employee"><img class="removeEmpImage" src="img/recycle-red.svg" style="margin-left:10px" /></a></td>{{else}}<td class="roleBasedAccess" functionalities="add_emp_to_tripsheet" style="text-align:center;"><a class=reAddEmployee id=reAddEmployee${emp.index} empIndex=${emp.index} style="color:FireBrick;" title="Add this deleted employee again">Re-add</a></td>{{/if}}</tr>{{/if}}{{/each}}{{if route.dir == "IN"}}{{if fromRoute == true && firstOrLastEmployeeRemoved() == true}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{/if}}{{each( k, office ) officeList}}<tr><td></td><td colspan="2">Drop</td><td colspan="2">${office.address}</td><td>{{if fromRoute != true}}<a class=editAllOffice style="float:right; margin-right: 5px;margin-top: 10px;" title="click to change drop address of all employees"><img src="img/ic-action-edit-24.svg" /></a>{{/if}}</td><td style="display: flex;">{{if route.shift != undefined && STW.Cache.disableTripsheetOfficeTime()}}<select class="modern-select" style="height: 22px;width:48px"  name="end.${office.id}.hour" disabled="disabled"> {{html dateMngr.getHourOptions( dateMngr.getHours(office.time)) }}</select><input type=hidden name="end.${office.id}.hour" value="${dateMngr.getHours(office.time)}" ><select class="modern-select"  style="height: 22px;width:48px" name="end.${office.id}.min" disabled="disabled"> {{html dateMngr.getMinuteOptions( dateMngr.getMinutes(office.time)) }}</select><input type=hidden name="end.${office.id}.min" value="${dateMngr.getMinutes(office.time)}" >{{else}}<select class="modern-select" style="height: 22px;width:48px"  name="end.${office.id}.hour" > {{html dateMngr.getHourOptions( dateMngr.getHours(office.time)) }}</select><select class="modern-select" style="height: 22px;width:48px" name="end.${office.id}.min" > {{html dateMngr.getMinuteOptions( dateMngr.getMinutes(office.time)) }}</select>{{/if}}</td><td></td>{{if k==0 && fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<td class="roleBasedAccess" functionalities="add_emp_to_tripsheet"><a class=addEmployee empIndex=${route.employeeList.length} id=addEmployee${route.employeeList.length}title="Add an employee in the last" style="margin-left: 5px;"><img src="img/add.svg" /></a></td>{{/if}}</tr>{{/each}}{{else fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<tr><td colspan="6"></td><td></td><td class="roleBasedAccess" functionalities="add_emp_to_tripsheet"><a class=addEmployee empIndex=${route.employeeList.length} id=addEmployee${route.employeeList.length} title="Add an employee in the last" style="margin-left: 5px;"><img src="img/add.svg" /></a></td></tr>{{/if}}<tr style="height:40px"><td colspan="10" style="text-align:center; padding-top: 10px;">{{if fromRoute == true}}<a class="splitRoute split-route-btn wis-outline-btn-md" title="Move selected employees to a new Route" style="float: left;">Make New Route</a>{{if STW.Cache.showAffinityInfo()}}<a class="showAffinityInfo" title="Show Affinity Information" style="float: left;"><img src="img/info.svg" style="width: 44px;margin-left: 10px"></a>{{/if}}{{/if}}{{if fromRoute && route.isReviewed == false}}<label><input type="checkbox" name="isReviewed" value="true" checked="checked" /><span style="margin-left: 5px;">Changes Reviewed</span></label>{{/if}}{{if STW.Cache.isMultiDriverEnabled()}}<input id="showDrivers" type="button" class="primary-btn" name="listDrivers" value="Change Driver" />{{/if}}<input type="button" style="width: auto;" class="secondary-btn roleBasedAccess" functionalities="assign_cab" name="listCabs" value="Refresh Vehicles" /><input type="button" class="secondary-btn" name="cancel" value="Cancel" /><input type="button" class="primary-btn" name="save" value="Save" />{{if fromRoute == false}}{{if route.type == STW.Constants.TYPE_IRREGULAR && route.routeStatus != 3}}<label style="margin-left: 10px;"><select name="femaleConstraint" class="modern-select"><option value="DISABLED">DISABLED</option><option value="FIRST">FIRST</option><option value="SECOND">SECOND</option><option value="ANY">ANY</option></select><!--	<input type="checkbox" name="femaleConstraint" value="true" style="height: 12px;" ${route.femaleConstraint ? "checked=checked" : ""}> --><!-- <span>Female Constraint</span> --></label>{{/if}}{{/if}}{{if STW.Cache.isPhysicalIdEnabled()}}<span style="margin-left: 10px;"> Physical Id : <input name="physicalId" class="modern-input" style="width: 76px;" value="${route.physicalId}" maxlength="20" title="0 to 20 characters"></input></span>{{/if}}{{if fromRoute == false}}<a class="tripEditComent modern-link" style="margin-left: 10px;font-weight: bold;">Comment</a>{{/if}}{{if STW.Cache.checkFunctionality("hide_tripsheet_history_view") == false}}<a class="seeMoreHistory modern-link" style="margin-left: 10px;font-weight: bold;">History</a>{{/if}}{{if route.deviceId != "0"}}<a class="getDeviceHealth roleBasedAccess modern-link" functionalities="device_health_logs" style="margin-left: 10px; margin-right: 10px;font-weight: bold;">Device Health</a>{{/if}}{{if route.cancelCode}}{{if STW.Cache.isForceEndCodeAndReportingEnabled()}}<span style="margin-left: 10px;"><input type="button" class="buttonstyle1 wis-btn-md" id="cancel-code-button" value="View Cancel/Trip End Code" /><span id="trip-cancel-code-span" style="display:none">Cancel Code : ${route.cancelCode}</span> </span>{{else}}<span style="margin-left: 10px;"><span id="trip-cancel-code-span">Cancel Code : ${route.cancelCode}</span>{{/if}}{{/if}}{{if route.isReviewed == false}}<div style="float: right; width: 100px;"><div style="background-color: orange;">Removed</div><div style="background-color: skyblue">Added</div></div>{{/if}}<a class="showHideTripInfo modern-link" style="margin-left: 10px;font-weight: bold;">Show Trips</a></td></tr><tr class="tripEditCommentBox" style="display: none;  width:99%; border: none;"><td colspan="8"><textarea rows="2" name="tripComment" style="width:98%;" maxlength="500" title="Max 500 characters allowed."></textarea></td></tr></script><script id="virtualCabDetails" type="text/x-jquery-tmpl"><div class="p-3"><table class="modern-table modern-table-inverse"><tbody><tr><td class="modern-label"> Driver Name </td><td> <input name="driverName" class="modern-input" value="${driverName}" type="text"/> </td></tr><tr><td class="modern-label"> Driver Phone Number </td><td> <input name="driverPhoneNumber" class="modern-input" value="${driverPhoneNumber}" type="text"/> </td></tr><tr><td class="modern-label"> Vehicle Registration </td><td> <input name="cabRegistration" class="modern-input" value="${cabRegistration}" type="text"/> </td></tr><tr><td colSpan="2" style="color:red;"> *All fields are mandatory </td></tr><tr><td> </td><td style="float:right;"> <input class="primary-btn" type="button" name="save" value="Save"/>  </td></tr></tbody></table></div></script><script id="vendorAssignCabTemplate" type="text/x-jquery-tmpl"><tr><th></th><th>Employees</th><th>Pickup/Drop Point</th><th>Landmark</th><th>Office</th>{{if fromRoute==true}}<th style="width: 125px">Time</th>{{else}}<th style="width: 100px">Time</th>{{/if}}<th>KM</th></tr>{{if route.dir == "OUT"}}{{each( k, office ) officeList}}<tr><td></td><td>Pickup</td><td colspan="2">${office.address}</td><td></td><td><span name="startTime"> ${dateMngr.getTimeIn24Hours(shiftDate)}</span></td><td> 0.0</td><td></td>{{if fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<td></td>{{/if}}</tr>{{/each}}{{if fromRoute == true && firstOrLastEmployeeRemoved() == true}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{/if}}{{/if}}{{each( k, emp ) employeeList}}{{if (emp == "missing") || (emp == null && route.isReviewed != "true")}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{else emp != null}}<tr style="background-color:${getEmployeeRowColor(emp)};"><td> ${emp.index+1} </td><td class="access-based-matrix" pii_id="EMP_NAME"> ${emp.name} </td><td class="access-based-matrix" pii_id="EMP_ADDR">{{if route.dir == "IN"}}<span title="${emp.pickupLoc.address}">${emp.pickupLoc?utils.getTruncatedAddress(emp.pickupLoc.address):""}</span>{{else}}<span title="${emp.dropLoc.address}">${emp.dropLoc?utils.getTruncatedAddress(emp.dropLoc.address):""}</span>{{/if}}{{if fromRoute != true}}{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">{{if route.dir == "IN"}}${emp.pickupLoc.landmark == undefined?"":emp.pickupLoc.landmark}{{else}}${emp.dropLoc.landmark == undefined?"":emp.dropLoc.landmark}{{/if}}</td><td>{{if route.dir == "IN"}}${emp.dropLoc.address == undefined?"":emp.dropLoc.address}{{else}}${emp.pickupLoc.address == undefined?"":emp.pickupLoc.address}{{/if}}{{if fromRoute != true}}{{/if}}</td><td>{{if route.dir == "IN"}}<span name="emp.${k}.hour" ${emp.employee_status==1?"":"disabled=disabled"}>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</span>{{else}}<span name="emp.${k}.hour" ${emp.employee_status==1?"":"disabled=disabled"}>${dateMngr.getTimeIn24Hours(emp.dropTime)}</span>{{/if}}{{if fromRoute==true}}{{/if}}</td><td>${utils.decimalRound(emp.onBoardDistance)}</td></tr>{{/if}}{{/each}}{{if route.dir == "IN"}}{{if fromRoute == true && firstOrLastEmployeeRemoved() == true}}<tr style="background-color:orange;"><td colspan="8"></td></tr>{{/if}}{{each( k, office ) officeList}}<tr><td></td><td>Drop</td><td colspan="2">${office.address}</td><td></td><td><span name="endTime">${dateMngr.getTimeIn24Hours(shiftDate)}</span></td>{{if k==0 && fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<td></td>{{/if}}</tr>{{/each}}{{else fromRoute == false && route.tripStatus != STW.Constants.STATE_ENDED}}<tr><td colspan="6"></td><td></td></tr>{{/if}}<tr style="height:40px"><td colspan="8" style="text-align:center">{{if fromRoute && route.isReviewed == false}}<label><input type="checkbox" name="isReviewed" value="true" checked="checked" /><span style="margin-left: 5px;">Changes Reviewed</span></label>{{/if}}{{if STW.Cache.isVendorAssignCabPropertyEnabled()}}<input type="button" class="buttonstyle1" name="listCabs" value="Refresh Cabs" /><input type="button" class="buttonstyle1" name="save" value="Save" />{{/if}}<input type="button" class="buttonstyle1" name="cancel" value="Cancel" />{{if STW.Cache.isVendorAssignCabPropertyEnabled() && fromRoute == false}}{{if route.type == STW.Constants.TYPE_IRREGULAR }}{{/if}}{{if STW.Cache.isPhysicalIdEnabled()}}<span style="margin-left: 10px;"> Physical Id : </span>{{if RoleUtils.isVendorManagerRole() == false}}<input name="physicalId" style="width: 50px" value="${route.physicalId}" maxlength="20" title="0 to 20 characters"></input>{{else}}${route.physicalId}{{/if}}{{/if}}{{if RoleUtils.isVendorManagerRole() == false}}<a class="tripEditComent" style="margin-left: 10px;">Comment</a>{{/if}}{{/if}}{{if STW.Cache.checkFunctionality("hide_tripsheet_history_view") == false}}<a class="seeMoreHistory" style="margin-left: 10px;">History</a>{{/if}}{{if route.isReviewed == false}}<div style="float: right; width: 100px;"><div style="background-color: orange;">Removed</div><div style="background-color: skyblue">Added</div></div>{{/if}}</td></tr><tr class="tripEditCommentBox" style="display: none;  width:99%; border: none;"><td colspan="8"><textarea rows="2" name="tripComment" style="width:98%;" maxlength="500" title="Max 500 characters allowed."></textarea></td></tr></script><script id="editHistoryTable" type="text/x-jquery-tmpl"><div style="height: 500px;overflow: auto;"><table class="modern-table"><tr><th>Created on</th><th>Created by</th><th>Field change</th><th>Reason</th></tr>{{each( k, history ) historyList}}<tr><td>${history.auditDate}</td><td>${history.loginUser}</td><td>${history.fieldChange}</td><td>${history.comment}</td></tr>{{/each}}</table></div></script><script id="incomplete-cab-data" type="text/x-jquery-tmpl"><div><form><table class="incompleteCabDataTable insidewidget tablestyle1" style="position:relative;width:70%;" cellspacing="0px"><thead><tr><th class="leftrad">S.No.</th><th>Vehicle Id</th><th>Duty Id</th><th>Start Time</th><th>End Time</th><th>KM</th><th>Milestones received(%)</th><th class="rightrad">Action</th></tr></thead><tbody>{{each(i, duty) dutyList}}<tr><td>${i+1}</td><td>${duty.cabId}</td><td>${duty.dutyId}</td><td>${dateMngr.getDateTimeIn24HoursFormat(duty.startTime)}</td><td>${duty.duty_status=="2"?dateMngr.getDateTimeIn24HoursFormat(duty.endTime):"Not Done"}</td><td>${universalFun.decimalRound(duty.km)}</td><td>${duty.duty_status=="2"?duty.percentageMilestones:"Duty in Progress"}</td><td><a href='javascript:{"method":"viewDutyOnMap","dutyId":"${duty.dutyId}","cabId":"${duty.cabId}"}'>View Map</a></td></tr>{{/each}}</tbody></table></form></div></script><script id="duty-processing-template" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><table class="duty-processing-table insidewidget tablestyle1" style="position:relative;width:100%" cellspacing="0px"><thead class="cab-thead"><tr><td colspan="11"><span style="float: left; margin:10px;">Date: ${date.split(" ")[0]}</span><input type="button" name="bulkProcessDuties" class="roleBasedAccess buttonstyle1" functionalities="bill_audit" value="Bulk Process Duty" style="width:120px;float:right;"/></td></tr><tr><th class="checkAll leftrad roleBasedAccess" functionalities="bill_audit"><input  type="checkbox" name="selectAll" class="selectAllDuties" value="true"/></th><th class="cab-sn" style="width: 5%;">S. No.</th><th class="cab-cabid" style="width:12%">Vehicle Id (Contract)</th><th class="cab-type">Vehicle Type</th><th class="cab-cabid" style="width:12%">License Plate</th><th class="startTime">Start Time</th><th class="endTime">End Time</th><th class="totalPickUpDrops">Picks/Drops</th><th class="totalKMandHours">KM</th><th class="totalKMandHours">Time</th><th class="cab-issues-details rightrad roleBasedAccess" functionalities="bill_audit, vendor_billing_manager_view">Action</th></tr></thead><tbody></tbody></table></div></div></script><script id="duty-processing-row-template" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_audit" style="text-align:center"><input name="selectDuty" value="true" type="checkbox" class="selectDuty" dutyId="${duty.dutyId}" /></td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${templateHelper.getCabDisplayAndShortCode()}</td><td class="cab-type">${templateHelper.getCabType()}</td><td class="cab-cabid">${templateHelper.getCabIdentification()}</td><td class="startTime">${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td><td class="endTime">${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}</td><td class="pickUpDrops">${templateHelper.getPickupDrops()}</td><td class="totalKMHrs">${utils.decimalRound(duty.dutyDistance)}</td><td class="totalKMHrs">${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}</td><td class="cab-audit-details roleBasedAccess" functionalities="bill_audit"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Process Duties","context":"process-duty","method":"viewDutyOnMap","cabId":"${duty.cab.id}","dutyId":"${duty.dutyId}","date":"${date}"}' >Process Duty</a></td></tr></script><script id="dutyProcessingFilterTemplate" type="text/x-jquery-tmpl"><div class="vendorCombo" style="text-align:center; margin-bottom: 10px;"><input class="datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:100px;"><span class="vendorCombo" style="text-align:center;margin-left:10px;margin-bottom:10px;"><select name="vendor.id"></select></span></div><div class="dutyProcessingTable"></div></script><script id="autoResolutionFilterTemplate" type="text/x-jquery-tmpl"><div class="vendorCombo" style="text-align:center; margin-bottom: 10px;"><input class="datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:100px;"><span class="vendorCombo" style="text-align:center;margin-left:10px;margin-bottom:10px;"><select name="vendor.id"></select></span></div><div class="autoResolutionTable"></div></script><script id="auto-resolution-row-template" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_edit" style="text-align:center"><input name="selectDuty" value="true" type="checkbox" class="selectDuty" dutyId="${duty.dutyId}" /></td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${templateHelper.getCabDisplayAndShortCode()}</td><td class="cab-type">${templateHelper.getCabType()}</td><td class="cab-cabid">${templateHelper.getCabIdentification()}</td><td class="startTime">${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td><td class="endTime">${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}</td><td class="pickUpDrops">${templateHelper.getPickupDrops()}</td><td class="totalKMHrs">${utils.decimalRound(duty.dutyDistance)}</td><td class="totalKMHrs">${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}</td><td class="cab-audit-details roleBasedAccess" functionalities="bill_edit"><a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Auto Resolve","context":"auto-resolve","method":"viewDutyOnMap","cabId":"${duty.cab.id}","dutyId":"${duty.dutyId}","date":"${date}"}' >Auto Resolve</a></td></tr></script><script id="auto-resolution-template" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><table class="auto-resolution-table insidewidget tablestyle1" style="position:relative;width:100%" cellspacing="0px"><thead class="cab-thead"><tr><td colspan="11"><span style="float: left; margin:10px;">Date: ${date.split(" ")[0]}</span><input type="button" name="bulkAutoResolution" class="roleBasedAccess buttonstyle1" functionalities="bill_edit" value="Bulk Issue Resolution" style="width:120px;float:right;"/></td></tr><tr><th class="checkAll leftrad roleBasedAccess" functionalities="bill_edit"><input  type="checkbox" name="selectAll" class="selectAllDuties" value="true"/></th><th class="cab-sn" style="width: 5%;">S. No.</th><th class="cab-cabid" style="width:12%">Vehicle Id (Contract)</th><th class="cab-type">Vehicle Type</th><th class="cab-cabid" style="width:12%">License Plate</th><th class="startTime">Start Time</th><th class="endTime">End Time</th><th class="totalPickUpDrops">Picks/Drops</th><th class="totalKMandHours">KM</th><th class="totalKMandHours">Time</th><th class="cab-issues-details rightrad roleBasedAccess" functionalities="bill_edit, vendor_billing_manager_view">Action</th></tr></thead><tbody></tbody></table></div></div></script><script type="text/x-jquery-tmpl" id="cancelTripsTemplate"><div><form id="cancelTripForm"><table style="margin:auto;position:relative" id="addeditdevice" class="insidewidget formtable"><thead></thead><tbody><tr><td colspan="2"><label>The employee will be removed from the tripsheet. Please confirm.</label></td></tr><tr><td style="width:20px"><label><input type="checkbox" value=true name=markNoShow /></label></td><td><label>Mark employee as no show</label></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="reset" class="cancel secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" value="Confirm" /></td></tr></tbody></table></form></div></script><script id="createTripsheetTemplate" type="text/x-jquery-tmpl"><div class="createTripsheet"style="width: 700px; margin: auto"><form class="createTripsheetForm" id="createTripsheetForm"><table style="margin: 0 auto; width: 100%"><tbody><tr><td colspan=2 style="padding: 15px 0;"><label style="font-size: 14px;"><input class="modern-checkbox" type=radio name=direction value="OUT" id="startLoc" style="margin-right: 10px;vertical-align: sub;" />Start Location Fixed</label><label style="font-size: 14px;"><input class="modern-checkbox" type=radio name=direction value="IN" checked=checked id="endLoc" style="margin-right: 10px;vertical-align: sub;" />End Location Fixed</label></td></tr><tr><td style="padding: 15px 0;"><label class="locText">Location</label></td><td style="padding: 15px 0;"><select name="location" class="modern-select" style="width: 250px">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}<option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td></tr><tr class="otherAddress" style="display:none;"><td style="padding: 15px 0;"><label>Pick/Drop point</label></td><td style="padding: 15px 0;"><input type="text" name="otherAddress" class="modern-input" /><br><span id="otherAddress-error" style="color:red;"></span></td></tr><tr><td style="padding: 15px 0;"><label class="fixedTimeText">Time</label></td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="date" type="text" value="" style="width: 48%;" title="Date format: dd-MM-yyyy" /><select class="modern-select" name="hours" style="width: 24%; margin-left: 20px; font-size: 16px">{{html dateMngr.getHourOptions(dateMngr.getHours(currentTime))}}</select><select class="modern-select" name="mins" style="width: 24%; margin-left: 10px; font-size: 16px">{{html dateMngr.getMinuteOptions(dateMngr.getMinutes(currentTime))}}</select></td></tr></tbody></table><div style="text-align: right; margin: 10px; border-top: 1px solid #E0E0E0;	padding: 10px;" class="selectedTable"><input type="button" class="secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" name="create" value="Create" /></div></form></div></script><script type="text/x-jquery-tmpl" id="update-tripsheet-template"><div class=update-tripsheet><form><table class="update-tripsheet-wrapper"><thead></thead><tbody>{{if routeTripSheet.length != 0}}<tr class="update-tripsheet-title"><td><span class="title">{{if routeTripSheet.length != 0 }}Following tripsheets will be deleted:{{/if}}</span></td><td>{{if routeTripSheet.length != 0 }}<span class="tripsheet-title">Tripsheets</span><div>{{each(i, deleted) routeTripSheet}}<span class="trips">${deleted}</span>{{/each}}</div>{{/if}}</td></tr>{{/if}}<tr class="tripsheet-update-checkbox"><td><div><input type="checkbox" value="true"	name="copyCabs"/><label> Copy Cabs</label></div></td></tr><tr class="update-tripsheet-info"><td><div><img src="assets/img/ic-action-info-24.svg" alt=""><span >Copying cabs from routes will override all cabs assigned to the tripsheets.<br>Please choose this option only if your cab allocation happens directly in the route editor</span></div></td></tr><tr class="tripsheet-update-btn"><td><input type="submit" class="buttonstyle1 wis-btn-md" value ="Update"/></td></tr></tbody></table></form></div></script><script type="text/x-jquery-tmpl" id="update-tripsheet-success-template"><div class=updatetripsheetpopup style="width: 700px; margin: auto; max-height:500px; overflow-y:scroll; padding:5px; ">{{if deletedTripSheets.length == 0 && createdTripSheets.length == 0 && updatedTripSheets.length == 0 }}<br> There are no changes in the routes since the last trip sheet update.{{/if}}{{if deletedTripSheets.length != 0 }}<br>Following tripsheets are deleted:{{each(i, deleted) deletedTripSheets}}<br>${deleted}{{/each}}{{/if}}{{if createdTripSheets.length != 0 }}<br>Following tripsheets are added:{{each(i, created) createdTripSheets}}<br>${created}{{/each}}{{/if}}{{if updatedTripSheets.length != 0 }}<br>Following tripsheets are updated:{{/if}}</div></script><script type="text/x-jquery-tmpl" id="mark-absent-template"><div class="mark-absent insidewidget"><form><table class="mark-absent-table formtable"><thead><tr><td class="tablehead rightrad leftrad" colspan="2">Driver Absent</td></tr></thead><tbody><tr><td style="width:40%"><label>Vehicle Id</label></td><td><label>${getCabDisplayAndLicense()}</label></td></tr><tr><td><label><input name="reason" type="radio" value=${STW.Constants.REASON_ACCEPTABLE_OFF} ${(!markAbsent || markAbsent.reason==STW.Constants.REASON_ACCEPTABLE_OFF)?"checked=checked":""} /></label></td><td><label>Acceptable Off</label></td></tr><tr><td><label><input name="reason" type="radio" value=${STW.Constants.REASON_ADJUSTMENT} ${(markAbsent && markAbsent.reason==STW.Constants.REASON_ADJUSTMENT)?"checked=checked":""} /></label></td><td><label>Add Penalty</label></td></tr><tr><td><label>Adjustment</label></td><td><label><select name="adjustment.adjustmentType.id" ${markAbsent.reason==STW.Constants.REASON_ADJUSTMENT?"":"disabled=disabled"}>{{html getAdjustmentCombo()}}</select></label></td></tr><tr class="adjustmentAmount"><td><label>Amount</label></td><td>{{if markAbsent.reason==STW.Constants.REASON_ADJUSTMENT}}{{if markAbsent.adjustment.adjustmentType.id==1}}<input type="text" name="adjustmentAmount" maxlength="6" value="${markAbsent.adjustment.adjustmentType.amount}" />{{else}}${markAbsent.adjustment.adjustmentType.amount}{{/if}}{{/if}}</td></tr></tbody><tfoot><tr><td colspan="6">{{if method!="getMarkAbsent"}}<a class="markAbsentComment" style="float: left;">Comment</a>{{/if}}{{if method!="markAbsent"}}<a class="markAbsentHistory" style="float: right;">History</a>{{/if}}</td></tr><tr class="absentCommentBox" style="display: none; width:99%"><td colspan="6"><textarea rows="3" name="comment" style="height:60px; width:98%;"></textarea></td></tr><tr><td colspan="2" class="absentHistoryBox" style="display: none;"></td></tr></tfoot></table>{{if method=="getMarkAbsent"}}<div style="text-align:center"><input type="reset" class="buttonstyle1" name="cancel" value ="OK"/></div>{{else}}<div style="text-align:center; margin-bottom:5px;"><input class="buttonstyle1" type="submit" value ="Save" /><input class="buttonstyle1" type="reset" value ="Cancel" name="cancel"/></div>{{/if}}</form></div></script><script type="text/x-jquery-tmpl" id="mark-all-absent-template"><div class="mark-absent insidewidget"><form><table class="mark-absent-table formtable"><thead><tr><td class="tablehead rightrad leftrad" colspan="2">Driver Absent</td></tr></thead><tbody><tr><td style="width:40%"><label>Vehicle Id</label></td><td><label>Will apply to all selected Cabs</label></td></tr><tr><td><label><input name="reason" type="radio" value=${STW.Constants.REASON_ACCEPTABLE_OFF} checked="checked" /></label></td><td><label>Acceptable Off</label></td></tr><tr><td><label><input name="reason" type="radio" value=${STW.Constants.REASON_ADJUSTMENT} /></label></td><td><label>Add Penalty</label></td></tr><tr><td><label>Adjustment</label></td><td><label><select name="adjustment.adjustmentType.id" disabled>{{html getAdjustmentCombo()}}</select></label></td></tr><tr class="adjustmentAmount" style="display:none;"><td><label>Amount</label></td><td><label><input type="text" name="adjustmentAmount" maxlength="6" value=0 /></label></td></tr></tbody><tfoot><tr><td colspan="6"><a class="markAbsentComment" style="float: left;">Comment</a></td></tr><tr class="absentCommentBox" style="display: none; width:99%"><td colspan="6"><textarea rows="3" name="comment" style="height:60px; width:98%;"></textarea></td></tr></tfoot></table><div style="text-align:center; margin-bottom:5px;"><input class="buttonstyle1" type="submit" value ="Save" /><input class="buttonstyle1" type="reset" value ="Cancel" name="cancel"/></div></form></div></script><script type="text/x-jquery-tmpl" id="filesListTemplate"><table style="min-width:200px"><tr><th colspan="3">Download Files</th></tr>{{each(index, file) fileList}}<tr><td style="padding:10px;">${file}</td><td style="padding:10px;"><a class="downloadFile" href="Device_Servlet?method=downloadFile&fileName=${file}&CSRF_NONCE=${STW.Cache.getNonce()}" target="_blank" title="Download this file"><img src="img/download.png" /></a></td><td style="padding:10px;"><a class="deleteFile" index=${index} title="Delete this file"><img src="img/delete.png" /></a></td></tr>{{/each}}</table></script><script type="text/x-jquery-tmpl" id="routeTemplatesList"><table style="min-width:200px"><tr><th colspan="3">Download Files</th></tr>{{each(index, file) fileList}}<tr><td style="padding:10px;">${file}</td><td style="padding:10px;"><a class="downloadFile" href="Admin_Servlet?method=downloadRouteTemplateFile&fileName=${file}&CSRF_NONCE=${STW.Cache.getNonce()}" target="_blank" title="Download this file"><img src="img/download.png" /></a></td>{{if file != "DefaultRouteTemplate.xml"}}<td style="padding:10px;"><a class="deleteFile" index=${index} title="Delete this file"><img src="img/delete.png" /></a></td>{{/if}}</tr>{{/each}}</table></script><script type="text/x-jquery-tmpl" id="fuelRateTemplatesList"><table style="min-width:200px"><tr><th colspan="3">Download Files</th></tr>{{each(index, file) fileList}}<tr>{{if file != undefined}}<td style="padding:10px;">${file}</td><td style="padding:10px;"><a class="downloadFile" href="Admin_Servlet?method=downloadFuelRateTemplateFile&fileName=${file}&CSRF_NONCE=${STW.Cache.getNonce()}" target="_blank" title="Download this file"><img src="img/download.png" /></a></td>{{/if}}</tr>{{/each}}</table></script><script type="text/x-jquery-tmpl" id="upload-files-tmpl"><div><form enctype="multipart/form-data" method="POST"><table class="uploader" style="margin:0 auto; margin-top: 30px;"><tbody><tr><td style="width: 25%">Locate File</td><td><input type="file" name="fileName" value = "Browse" accept=".csv"/></td></tr></tbody></table><div class="submitButton" style="margin: 30px auto; text-align: center;"><input type="submit" class="buttonstyle1" value="Upload" /></div></form></div><div id="serverResponse" style="margin: 10px auto; width: 700px;"></div><div><table style="width: 100%"><tr><td style="vertical-align: sub;"><div><div style="margin-top: 20px;"><a class="suPermissionRevoked" style="font-size: 14px;">Devices with SU permission revoked  -  ${list.suPermissionRevoked} </a></div><div style="margin-top: 20px;"><input type="button" name="clearCache" class="buttonstyle1" value="Clear Cache" /></div><div style="margin-top: 20px;"><input type="button" name="reloadProps" class="buttonstyle1" value="Reload Properties" /></div><div style="margin-top: 20px;"><span style="margin-right:10px;">Duty UUID</span><textarea class="uuidList" name="uuidList" rows="4" cols=""></textarea></div><div style="margin-top: 20px;"><input type="button" name="replayDuties" class="buttonstyle1" value="Replay Duties" /></div><div style="margin-top: 20px;"><span style="margin-right:10px;">Device ID</span><textarea name="dutyID" rows="2" cols=""></textarea></div><div style="margin-top: 20px;"><span style="margin-right:10px;">Duty UUID</span><textarea name="dutyUUID" rows="2" cols=""></textarea></div><div style="margin-top: 20px;"><input type="button" name="replayDuty" class="buttonstyle1" value="Replay Duty" /></div></div></td><td><div class="fileDownloadTable" style="margin: 10px auto; float: right;"></div></td></tr></table></div></script><script type="text/x-jquery-tmpl" id="birtTemplatesList"><table style="min-width:200px"><tr><th colspan="3">Download Files</th></tr>{{each(index, file) fileList}}<tr><td style="padding:10px;">${file}</td><td style="padding:10px;"><a class="downloadFile" href="Admin_Servlet?method=downloadBirtReportTemplateFile&fileName=${file}&CSRF_NONCE=${STW.Cache.getNonce()}" target="_blank" title="Download this file"><img src="img/download.png" /></a></td><td style="padding:10px;"><a class="deleteFile" index=${index} title="Delete this file"><img src="img/delete.png" /></a></td></tr>{{/each}}</table></script><script type="text/x-jquery-tmpl" id="upload-tripsheet-tmpl"><div><form enctype="multipart/form-data" method="post"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input type="text" name="textBox" /></td><td><input type="hidden" name="dutyId" value="${dutyId}" /></td><td><input type="file" name="tripsheet" value="Browse" /></td></tr></table><div class="submitButton" style="margin: 0 auto; width: 100px;"><input type="submit" value="Upload" class="primary-btn" /></div><div style="padding: 20px;"><h5 style="color:red;margin-bottom: 0px;"> *Points to Note</h5><ol><li>File size should be less than 1MB</li><li>File extension should be .jpeg / .png / .pdf </li></ol></div></form><div id="serverResponse" style="margin: 10px auto; width: 700px;"></div></div></script><script type="text/x-jquery-tmpl" id="upload-parking-tmpl"><div><form enctype="multipart/form-data" method="post"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input type="text" name="textBox" mandatory=true /></td><td><input type="hidden" name="cabId" value="${cabId}" /></td><td><input type="hidden" name="date" value="${date}" /></td><td><input type="hidden" name="parkingId" value="${parkingId}" /></td><td><input type="file" name="parking" value="Browse" /></td></tr></table><div class="submitButton" style="margin: 0 auto; width: 100px;"><input type="submit" value="Upload" class="primary-btn" /></div></form><div id="serverResponse" style="margin: 10px auto; width: 700px;"></div></div></script><script type="text/x-jquery-tmpl" id="upload-smsfile-tmpl"><div><form enctype="multipart/form-data" method="post" ><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td style="text-align: center;"><input id = "smsid" type="file" class="modernInput" name="sms" value="Browse" accept=".xls" onchange = "smsfile()"/></td></tr><tr><td style="font-weight: bold;text-align: center;">Total file size should not exceed 20 MB.</td></tr><tr class="termsBox" style="margin: 10px auto; width: 550px; display: none;"><td><label><input type="checkbox" name="sendAsSMS" checked /><input type="hidden" name="sendSMS" value="true" /><span style="font-weight: bold; margin-left: 10px;">Send SMS</span></label></td></tr><tr class="termsBox" style="margin: 10px auto; width: 550px; display: none;"><td><label><input type="checkbox" name="sendAsMobileNotification" checked /><input type="hidden" name="sendMobileNotification" value="true" /><span style="font-weight: bold; margin-left: 10px;">Send Mobile App Notification</span></label></td></tr><tr class="termsBox" style="margin: 10px auto; width: 550px; display: none;"><td><label><input type="checkbox" name="agreeTerms" /><span style="font-weight: bold; margin-left: 10px;">I understand terms and conditions of sending SMS communication to employees</span></label></td></tr></table><div class="submitButton" style="margin: 0 auto; width: 100px; display: none;"><input type="submit" value="Upload" class="primary-btn" /></div></form><div id="serverResponse" style="margin: 10px auto; width: 90%; text-align: center;"></div></div></script><script type="text/x-jquery-tmpl" id="upload-pathik-tmpl"><div><form enctype="multipart/form-data" method="POST"><table class="uploader" style="margin:0 auto; margin-top: 30px;"><tbody><tr><td style="width: 25%">Locate File</td><td><input type="file" name="fileName" value = "Browse" /></td></tr></tbody></table><div style="margin: 30px auto; text-align: center;"><input type="submit" value="Upload" class="primary-btn"/></div></form><div id="serverResponse" style="margin: 10px auto; width: 700px;"></div></div></script><script type="text/x-jquery-tmpl" id="upload-route-tmpl"><div><form enctype="multipart/form-data" method="POST"><table class="uploader" style="margin:0 auto; margin-top: 30px; width: 80%;"><tbody><tr><th colspan="2">Route Template Files Upload</th><span>Please upload the route Pickup/Drop template XML files, only in the format &nbsp;<b>Pickup</b>-*.xml or <b>Drop</b>-*.xml where the data in bold is mandatory.&nbsp;For example, to enter pickup template, enter Pickup.xml. If both pickup and drop &nbsp;files are same enter the same file in both file uploads with proper name.</span></tr><tr><td style="width: 25%">Pickup XML Template</td><td><input type="file" name="pickupTemplate" value = "Browse" /></td></tr><tr><td style="width: 25%">Drop XML Template</td><td><input type="file" name="dropTemplate" value = "Browse" /></td></tr><tr><td colspan="2" ><textarea name="propertiesComment" placeholder="Please Enter Reason" mandatory="true"style="width:100%; height:100px;"></textarea></td></tr></tbody></table><div style="margin: 30px auto; text-align: center;"><input type="submit" value="Upload" class="primary-btn"/></div></form><div id="serverResponse" style="margin: 10px auto;"></div></div></script><script type="text/j-query-tmpl" id="updateFuelTripPriceTmp"><div id="updateFuelTripPrice"><form enctype="multipart/form-data" method="POST"><table class="uploader" style="margin:0 auto; width: 80%;"><tbody><tr><td colspan="4" style="text-align:center; font-weight: bold;"><span id="spanId" style="font-size:14px;">${contractName}</span></td></tr><tr><td colspan="4" style="text-align:center;"><span>Please upload the fuel rate template csv files, only in the format <b>${formttdConName}</b>_*.csv .</span></td></tr><tr><th colspan="4" style="margin:0 auto; border-top-width: 10px; border-bottom-width: 10px;">Fuel-Trip Rate Data Upload</th></tr><tr><td>Activation Date</td><td><input class=datePicker name=date type=text value=title=Date format: dd/MM/yyyy /></td><td><input type="file" name="fuelTripPriceTemplate" value="Browse"></td><td style="margin: 30px auto; text-align: center;"><input type="submit" value="Upload" class="primary-btn"></td></tr></tbody></table></form><div id="serverResponse" style="margin: 10px auto;"></div><div class="fuelRateTemplatesDownloadTable"></div><div style="margin-top: 10px; padding-left: 20px; padding-top: 10px;"><a class="templateUploadHistory">Template Upload History</a></div></div></script><script type="text/x-jquery-tmpl" id="upload-routefile-tmpl"><div class="routeFileData"><table style="width: 80%;" class="upload-vechicle-table"><tr class="upload-vechicle-top"><th colspan="2">Route Upload</th></tr><tr><td colspan="3" class="upload-vechicle-info"><span>Please upload the daily route data as XLS/CSV only in the format &nbsp;<b>DD-MM-YYYY-Login-Routes_File</b>-*.xls/csv or <b>DD-MM-YYYY-Logout-Routes_File</b>-*.xls/csv &nbsp;where the data in bold is mandatory. For example, to enter data for 21st March for Login, &nbsp;enter 21-03-2013-Login-Routes_File.xls/csv</span><div style="margin: 10px 0;" ><a class="showHideExample modern-link">Example</a></div><div class="example upload-vechicle-exampledata" style="display: none;" ><span><b>Data Format:</b><br><span style="background-color: #bfdeff"><b>Trip Id</b>,Vendor Id,Cab Id${STW.Cache.isPhysicalIdEnabled()?", Physical Id":""},Cab Type,Cab Reg,Cab Cotract,Shift,Num Employees,Start Time, End Time,Shift,Landmark,From,To,Approx. Km,Driver,Driver Contact,Marshall</span><br>123456,4W,30${STW.Cache.isPhysicalIdEnabled()?",121":""},INDICA,AP13TV1234,Single Shift Indica,10:23,11:00,Logout 10:15,Landmark 2741,Address 123,Address 1,16.9208068848,xyz,1234567890,No</span></div></td></tr><tr ><td  width=20% colspan="2"><span style="font-size:14px">Date</span></td><td class="modern-date-container" style="position:unset;width:82%"><input class="datePicker modern-input" style="height:35px !important" name=routeFileDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadRouteDataFile"><table class="uploader" style="margin: 0;width:100%"><tr class="upload-vechicle-input"><td><input id="docs-upload" type="file" name="routeDataFile" value="Browse" accept = ".xls,.csv" onchange = "routeDataFile()"/></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn wis-btn-md buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn wis-btn-md uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-manage-shift-tmpl"><div class="manageShiftData"><form enctype="multipart/form-data" method="post" name="uploadManageShift"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input id="shift-docs-upload" type="file" name="file" value="Browse" accept = ".xls,.csv" onchange = "manageShiftFile()"/></td></tr><tr class="submitButton"><td style="text-align:center;"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-cabfile-tmpl"><div class="cabDepData"><table style="width: 80%;" class="upload-vechicle-table"><tr class="upload-vechicle-top"><th colspan="2">Vehicle Deployment</th></tr><tr><td colspan="3" class="upload-vechicle-info"><span>Please upload the daily route data asCSV only in the format SiteName-<b>DD-MM-YYYY-Cab-Deployment</b>-*.csvwhere the data in bold is mandatory. For example, to enter datafor 21st March for Kolkata, enterKol-21-03-2013-Cab-Deployment-v01.csv</span><div style="margin: 10px 0;" ><a class="showHideExample modern-link">Example</a></div><div class="example upload-vechicle-exampledata" style="display: none;"><span><b>Data Format:</b><br><span style="background-color: #bfdeff"><b>Trip Id</b>,Vendor Id,Cab Id${STW.Cache.isPhysicalIdEnabled()?", Physical Id":""},Cab Type,Cab Reg,Cab Cotract,Planned Employees,Cancelled Employees,Start Time, End Time,Shift,Landmark,From,To,Approx. Km,Driver,Driver Contact,Marshall${STW.Cache.isBillingZoneFeatureEnabled()?", Billing Zone":""},Comment</span><br><span>123456,4W,30${STW.Cache.isPhysicalIdEnabled()?",121":""},INDICA,AP13TV1234,Single Shift Indica,4,1,10:23,11:00,Logout 10:15,Landmark 2741,Address 123,Address 1,16.9,xyz,1234567890,No${STW.Cache.isBillingZoneFeatureEnabled()?",Noida":""},comment</span></span></div></td></tr><tr ><td style="width:20%" colspan="2"><span>Date</span></td><td class="modern-date-container" style="position:unset;width:330px" ><input class="datePicker modern-input" style="height:35px !important" name=cabDepDate type=text value=title=Date format: dd/MM/yyyy /></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadCabDepData"><table class="uploader" style="margin: 0;width:100%"><tr class="upload-vechicle-input"><td><input id = "cabDeployment" type="file" name="cabDeployment" value="Browse" accept = ".csv" /></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><input type= "hidden" name="copy-noncompliant-cabs"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn wis-btn-md buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn wis-btn-md uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr>{{if STW.Cache.isComplianceDataServerEnabled()}}<tr id="trCount"  style="display:none;"><td><a id="non-compliant"></a></td></tr><tr id="trCheck" style="display:none;"><td><input type="checkbox" name="ncCabsCb" checked><label>Copy Non-Compliant Cabs</label></td></tr>{{/if}}</table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><div id="non-compliant-count" style="display: none; margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a><div id="non-compliant-cabs"></div></div></script><script type="text/x-jquery-tmpl" id="upload-schedule-tmpl"><div><div><table style="width: 90%;"><tr><th colspan="2">Bulk Upload</th></tr><tr><td></td></tr><tr><td><span class="modern-label"> Select what to Upload</span><select class="modern-select" style="width: 50%"><option value="rosterfile"> Employee Schedule</option><option value="ETM">Employee Team mapping</option><option value="TSM">Team SPOC mapping</option><option value="teamNoShowApprovalMapping">Team No Show Approval Mapping</option></select></td></tr></table><div><div class="upload-tmpl-container"></div></div></script><script type="text/x-jquery-tmpl" id="upload-teamNoShowApprovalMapping-tmpl"><div class="teamNoShowApprovalData"><table style="width: 90%;"><tr><td colspan="3"><span><span>Upload the data in csv format <br><br><a href='empexp/noShowRestore/noShowApprover/get-sample-csv'>Download Template</a></span></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadteamNoShowApprovalData"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input id="teamNoShowApprovalData" class="fileupload modern-input" type="file" name="teamNoShowApprovalUpload" value="Browse" accept = ".csv" onchange = "uploadTeamNoShowApprovalChange()"/></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton  buttonstyle1">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-rosterfile-tmpl"><div class="cabRosterData"><table style="width: 90%;"><tr><td colspan="3"><span><span>Upload the data in csv format <br><br><a href='CSVReport_Servlet?rptName=Roster_Template&format=csv&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Template</a></span></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadRosterData"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input id = "rosterData" class="fileupload modern-input" type="file" name="rosterUpload" value="Browse" accept = ".csv" onchange = "rosterData()"/></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton  buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-ETM-tmpl"><div class="ETMData"><table style="width: 90%;"><tr><td colspan="3"><span>Upload the data in csv format . Following is the order of fields. :<br><b>Employee ID, Project name,~<b><br><a href='CSVReport_Servlet?rptName=ETM_Template&format=csv&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Template</a></span></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadETMData"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input id = "ETMData" class="fileupload" type="file" name="ETMUpload" value="Browse" accept = ".csv" onchange = "ETMData()"/></td></tr><tr><td><div class="showheaderselect" style="display:none;" ><label>First row of this file is header</label> <input type="checkbox" name="is_first_row_header" value="true" checked="checked" ></div></td></tr><tr><input type="hidden" value="true" name="first_row_header_present" /></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-TSM-tmpl"><div class="TSMData"><table style="width: 90%;"><tr><td colspan="3"><span>Upload the data in csv format . Following is the order of fields. :<br><b>Project Name,List of POC,POC who recieve schedule change notification,~<b><br><a href='CSVReport_Servlet?rptName=TSM_Template&format=csv&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Template</a></span></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadTSMData"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td><input id = "TSMData" class="fileupload" type="file" name="TSMUpload" value="Browse" accept = ".csv" onchange = "TSMData()"/></td></tr><tr><td><div class="showheaderselect" style="display:none;" ><label>First row of this file is header <input type="checkbox" name="is_first_row_header" value="true" checked="checked" ></label></div></td></tr><tr><input type="hidden" value="true" name="first_row_header_present" /></tr><tr class="submitButton"><td style="text-align:center;"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn validateButton buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-vca-tmpl"><div class="vendorCabAllocation"><form enctype="multipart/form-data" method="post" name="uploadVcaTmpl"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr><td style="padding-bottom: 20px;"><span>Select the file to upload below</span></td></tr><tr><td style="text-align: center; padding-bottom: 20px;"><input id = "vcaid" type="file" name="vca" value="Browse" accept=".csv" onchange = "vcafile()"/></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date"><button type="submit" name="uploadType" value="1" class="primary-btn buttonstyle1">Validate and upload</button><button type="submit" name="uploadType" value="2" class="primary-btn uploadButton  buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 90%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-parking-toll-tmpl"><div class="parkingTollData"><table style="width: 60%;"><tr><th>Parking/Toll Bulk Upload</th></tr></table><form enctype="multipart/form-data" method="post" name="uploadParkingToll"><table><tr><td style="text-align: center; padding-bottom: 20px;"><input id = "parkingId" type="file" name="parkingUpload" class="ets-button-style" value="Browse" accept=".csv" onchange = "parkingFile()"/></td><tr><td style="text-align:center"><br><a href='CSVReport_Servlet?rptName=Parking_Toll_Template&format=csv&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Template</a><td><br></tr><tr><td><b>Please select a file and click upload button</b></td></tr><tr class="submitButton"><td style="text-align:center;"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn validateButton buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ">Show Details</a></div></script><script type="text/x-jquery-tmpl" id="upload-adjustment-tmpl"><div class="adjustmentData"><table style="width: 60%;"><tr><th>Adjustment Bulk Upload</th></tr></table><form enctype="multipart/form-data" method="post" name="uploadAdjustment"><table><tr><td style="text-align: center; padding-bottom: 20px;"><input id = "adjustmentId" type="file" name="adjustmentUpload" class="ets-button-style" value="Browse" accept=".xls" onchange = "adjustmentFile()"/></td><tr><td style="text-align:center"><br><a href='ExcelReport_Servlet?rptName=Adjustment_Template&displayName=Adjustment Template&format=xls&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Template</a><td><br></tr><tr><td><b>Please select a file and click upload button</b></td></tr><tr class="submitButton"><td style="text-align:center;"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn validateButton buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr></table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ">Show Details</a></div><p style="text-align: center; margin:10%; color:red;">Note:- Amount Column is applicable only if Adjustment Type is Misc. Otherwise it takes predefined amount of Adjustment Type.</p></script><script type="text/x-jquery-tmpl" id="upload-birt-tmpl"><form enctype="multipart/form-data" method="POST"><table class="uploader" style="margin:0 auto; margin-top: 30px; width: 80%;"><tbody><tr><th colspan="2">Birt Template Files Upload</th><span>Please uplaod Custom_Tripsheet_Report.rptdesign or Custom_Vendor_TripSheet_Report.rptdesign extension should be .rptdesign</span></tr><tr><td style="width: 25%">Custom TripSheet Report</td><td><input type="file" name="customTripsheet" value = "Browse" accept=".rptdesign" /></td></tr><tr><td style="width: 25%">Custom Vendor TrackSheet Report</td><td><input type="file" name="customVendorTripsheet" value = "Browse" accept=".rptdesign" /></td></tr><tr><td colspan="2" ><textarea name="propertiesComment" placeholder="Please Enter Reason" mandatory="true"style="width:100%; height:100px;"></textarea></td></tr></tbody></table><div style="margin: 30px auto; text-align: center;"><input type="submit" value="Upload" class="primary-btn"/></div></form><div id="serverResponse" style="margin: 10px auto;"></div></script><script type="text/x-jquery-tmpl" id="upload-billing-zone-mapping-tmpl"><div class="billingZoneMappingData"><table style="width: 60%;"><tr><th>Billing Zone Mapping Upload</th></tr></table><form enctype="multipart/form-data" method="POST" name="billingZoneMappingForm"><table class="uploader" style="margin:0 auto; margin-top: 30px; width: 80%;"><tbody><tr><td>Billing Zone Mapping: </td><td><input type="file" name="billingZoneMappingUpload" value = "Browse" accept=".csv" /></td></tr><tr><td colspan="2" ><textarea name="propertiesComment" placeholder="Please Enter Reason" mandatory="true"style="width:100%; height:100px;"></textarea></td></tr></tbody></table><div class="submitButton" style="margin: 30px auto; text-align: center;"><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn validateButton buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn uploadButton buttonstyle1" style="display: none;">Upload</button></div></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ">Show Details</a></div></script><script id="billingZoneMappingHistory" type="text/x-jquery-tmpl"><div><form><table style="width: 600px; margin-top:0px" class="formtable" cellspacing=0px><tr><th>Timestamp</th><th>User</th><th>Office</th><th>Nodal</th><th>Message</th></tr>{{each(k, audit) audits}}<tr><td>${dateMngr.getDateTimeWithSeconds(auditDate)}</td><td>${user}</td><td>${officeName}</td><td>${nodalPoint}</td><td>{{html message}}</td></tr>{{/each}}</table></form></div></script><script type="text/x-jquery-tmpl" id="upload-route-cabfile-tmpl"><div class="routeCabDepData  modern-vechicle-upload"><table style="width: 100%;" class="modern-vechicle-upload"><tr class="td-date"><td ><span>Date</span></td><td class="modern-date-container" style="position:unset"><input class="datePicker modern-input" name=routeCabDepDate type=text value=title=Date format: dd/MM/yyyy /></td></tr><tr><td colspan="3" class="example-td"><div class="example modern-example-data" ><img src="img/sample-download.png" alt=""><span>Download sample template to upload your data correctly.</span><pre id="textToDownload"  style="display: none;">Trip Id</b>,Vendor Id,Cab Id${STW.Cache.isPhysicalIdEnabled()?", Physical Id":""},Cab Type,Cab Reg,Cab Cotract,Planned Employees,Cancelled Employees,Start Time, End Time,Shift,Landmark,From,To,Approx. Km,Driver,Driver Contact,Marshall${STW.Cache.isBillingZoneFeatureEnabled()?", Billing Zone":""},Comment123456,4W,30${STW.Cache.isPhysicalIdEnabled()?",121":""},INDICA,AP13TV1234,Single Shift Indica,4,1,10:23,11:00,Logout 10:15,Landmark 2741,Address 123,Address 1,16.9,xyz,1234567890,No${STW.Cache.isBillingZoneFeatureEnabled()?",Noida":""},comment</pre><button id="downloadButton" class="wis-outline-btn-md ">Download</button></div></td></tr></table><form enctype="multipart/form-data" method="post" name="uploadRouteCabDepData"><table class="uploader" style="margin: 0 auto; margin-top: 20px;"><tr class="upload-vechicle"><td><div class="upload-vechicle-div" id="dropArea"><img src="img/uploads.svg" alt=""><span class="drag-text">Drag & drop the file you want to uploadChoose File</span><span class="upload-text">Please upload the daily route data asCSV only in the format SiteName-DD-MM-YYYY-Cab-Deployment-*.csv</span><label for="routeCabDeployment" >Choose File</label><input id = "routeCabDeployment" class="upload-vechicle-inpul" type="file" name="routeCabDeployment" value="Browse" accept = ".csv" /></div></td></tr><tr class="submitButton"><td style="text-align:center;"><input type="hidden" name="date" /><input type= "hidden" name="copy-noncompliant-cabs"><button id="reset-input" class="reset">Reset</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_VALIDATE}" class="primary-btn wis-btn-md buttonstyle1">Validate</button><button type="submit" name="uploadType" value="${STW.Constants.ACTION_UPLOAD}" class="primary-btn wis-btn-md uploadButton buttonstyle1" style="display: none;">Upload</button></td></tr>{{if STW.Cache.isComplianceDataServerEnabled()}}<tr id="trCount"  style="display:none;"><td><a id="non-compliant"></a></td></tr><tr id="trCheck" style="display:none;"><td><input type="checkbox" name="ncCabsCb" checked><label>Copy Non-Compliant Cabs</label></td></tr>{{/if}}</table></form><div id="serverResponse" style="margin: 10px auto; width: 70%; text-align: center;"></div><div id="non-compliant-count" style="display: none; margin: 10px auto; width: 70%; text-align: center;"></div><a id="failed-detail" style="display:none; margin:40% ;">Show Details</a><div id="non-compliant-cabs"></div></div></script><div class="TC"><script id="cab-list-with-audit-pending-table" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><table class="cab-issues-table insidewidget tablestyle1" style="position:relative;width:100%" cellspacing="0px"><thead class="cab-thead"><tr><td colspan="11"><span style="float: left; margin:10px;">Date: ${date.split(" ")[0]}</span><input type="button" name="audit" class="roleBasedAccess buttonstyle1" functionalities="bill_audit" value="Audit" style="width:100px;float:right;"/></td></tr><tr><th class="checkAll leftrad roleBasedAccess" functionalities="bill_audit"><input  type="checkbox" name="selectAll" class="selectAllCabs" value="true"/></th><th class="cab-sn" style="width: 5%;">S. No.</th><th class="cab-cabid" style="width:12%">Vehicle Id (Contract)</th>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<th class="cab-type">Vehicle Type</th>{{/if}}<th class="cab-cabid" style="width:12%">License Plate</th><th class="startTime">Start Time</th><th class="endTime">End Time</th><th class="totalPickUpDrops">Picks/Drops</th><th class="totalKMandHours">KM(Time)</th><th class="cab-issues-details">Action</th><th class="office rightrad">Office</th></tr></thead><tbody></tbody></table></div></div></script></div><div class="TC"><script id="cab-list-with-audit-pending-row" type="text/x-jquery-tmpl">{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<tr><td class="roleBasedAccess" functionalities="bill_audit" style="text-align:center">{{each(i, dutyIssue) cabAudit.dutyIssues}}<input name="selectCab" value="true" type="checkbox" class="selectcab" dutyId="${duty.dutyId}" />{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${cabAudit.getCabDisplayAndShortCode()}</td><td class="cab-type">${cabAudit.getCabType()}</td><td class="cab-cabid">${cabAudit.getCabIdentification()}</td><td class="startTime">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="endTime">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="pickUpDrops">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dutyIssue.loginTrips}/${dutyIssue.logoutTrips}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="totalKMHrs">{{each(i, dutyIssue) cabAudit.dutyIssues}}${utils.decimalRound(duty.distance)}(${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}){{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="cab-audit-details" id="${cabAudit.getCabId()}">{{each(i, dutyIssue) cabAudit.dutyIssues}}<a class="cab-audit-details roleBasedAccess" functionalities="bill_edit" href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicle Audit Details","context":"audit-pending","method":"editDuty","cabId":"${cabAudit.getCabId()}","dutyId":"${duty.dutyId}","date":"${date}"}' > Audit </a><a class="cab-audit-details roleBasedAccess" functionalities="bill_audit" style="margin-left:20px;" href='javascript:{"rptName":"BillingDashboard_Servlet","dutyId":"${duty.dutyId}","cabId":"${cabAudit.getCabId()}","method":"viewIncompleteDuty","date":"${dateMngr.getDateOnly(date)}"}'>View on Map</a>{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="office">{{each(i, dutyIssue) cabAudit.dutyIssues}}${cabAudit.getDutyLevelOfficeName(dutyIssue)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td></tr>{{else}}<tr><td class="roleBasedAccess" functionalities="bill_audit">{{each(i, dutyIssue) cabAudit.dutyIssues}}<input name="selectCab" value="true" type="checkbox" class="selectcab" dutyId="${duty.dutyId}" />{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${cabAudit.getCabDisplayAndShortCode()}</td><td class="cab-cabid">${cabAudit.getCabIdentification()}</td><td class="startTime">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="endTime">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="pickUpDrops">{{each(i, dutyIssue) cabAudit.dutyIssues}}${dutyIssue.loginTrips}/${dutyIssue.logoutTrips}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="totalKMHrs">{{each(i, dutyIssue) cabAudit.dutyIssues}}${utils.decimalRound(duty.distance)}(${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}){{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="cab-audit-details roleBasedAccess" functionalities="vendor_billing_manager_view" id="${cabAudit.getCabId()}">{{each(i, dutyIssue) cabAudit.dutyIssues}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","displayName":"Vehicle Audit Details","context":"audit-pending","method":"editDuty","cabId":"${cabAudit.getCabId()}","dutyId":"${duty.dutyId}","date":"${date}"}' > View </a>{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td><td class="office">{{each(i, dutyIssue) cabAudit.dutyIssues}}${cabAudit.getDutyLevelOfficeName(dutyIssue)}{{if i!=cabAudit.dutyIssues.length-1}}<br>{{/if}}{{/each}}</td></tr>{{/if}}</script></div><div class="TC"><script id="auditPendingTemplate" type="text/x-jquery-tmpl"><div class="vendorCombo" style="text-align:center; margin-bottom: 10px;">{{if STW.Cache.isBillingDashboardOfficeFilterEnabled()}}<span>Office:</span><select class="selectedOffice" style="display:none;height: 25px;margin: 0px 15px 0 5px;"></select>{{/if}}<input class="datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:100px;"><span class="vendorCombo" style="text-align:center; margin-left:10px; margin-bottom:10px; width:25px;"><select name="vendor.id"></select></span></div><div class="auditPendingTable"></div></script></div><div class="TC"><script id="cab-list-with-data-issues-table" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><div style="margin: 0 auto;text-align: right;width: 70%;"><input type="button" class="bulkFixGPSLoss buttonstyle1 roleBasedAccess" functionalities="bill_edit" name="fixGPSLoss" value="Resolve Issues" /></div><table class="cab-issues-table insidewidget tablestyle1"  style="width:70%;margin-top: 5px;" cellspacing="0px"><thead class="cab-thead"><tr><th class="roleBasedAccess" functionalities="bill_edit"><input type="checkbox" class="selectAllGPSLoss" /></th><th class="event-sn">S. No.</th><th class="event-cabid">Vehicle Number</th><th class="event-tripid">Trip Id</th><th class="event-measure-km">Measured KM</th><th class="event-updated-km">Updated KM</th><th class="event-resolution-type">Resolution Type</th><th class="event-status">Status</th><th class="event-action rightrad roleBasedAccess" functionalities="bill_edit">Action</th></tr></thead><tbody></tbody></table></div></div></script></div><div class="TC"><script id="cab-list-with-data-issues-row" type="text/x-jquery-tmpl"><tr><td class="roleBasedAccess" functionalities="bill_edit"><input type="checkbox" class="selectGPSLoss" value=${gpsLossCab.tripsheet.cab.id} tripId=${gpsLossCab.tripsheet.id} /><td class="event-sn">${rowIndex+1}</td><td class="event-cabid">${gpsLossCab.tripsheet.cab.identification}</td><td class="event-tripid">${gpsLossCab.tripsheet.id}</td><td class="event-measured-km">${measuredKm}</td><td class="event-updated-km">${updatedKm}</td><td class="event-resolution-type">${gpsLossCab.resolutionType}</td><td class="event-status">${gpsLossCab.status}</td><td class="event-action roleBasedAccess" functionalities="bill_edit" id="${gpsLossCab.getTripsheet().getId()}"><a href='javascript:{"displayName":"Vehicles with data issue","method":"getGPSLossEventForTripId","tripId":"${gpsLossCab.tripsheet.id}","index":"${rowIndex}"}' >Fix</a></td></tr></script></div><div class="TC"><script id="cab-with-data-issue-row" type="text/x-jquery-tmpl"><tr><td class="event-cabid">${gpsLossCab.tripsheet.cab.identification}</td><td class="event-tripid">${gpsLossCab.tripsheet.id}</td><td class="event-measured-km">${gpsLossCab.trip.tripDistance.toFixed(1)}</td><td class="event-updated-km"><div><label>{{if gpsLossCab.resolutionType == STW.Constants.GPS_BACKFILL_KM }}<input type="radio" name="resolution_type" value=${STW.Constants.GPS_BACKFILL_KM} style="margin-right:10px;" checked=checked>{{else}}<input type="radio" name="resolution_type" value=${STW.Constants.GPS_BACKFILL_KM} style="margin-right:10px;" >{{/if}}${gpsLossCab.gpsBackFillKm.toFixed(1)} (GPS Back fill)</label></div><div><label>{{if gpsLossCab.resolutionType == STW.Constants.PLANNED_KM }}<input type="radio" name="resolution_type" value=${STW.Constants.PLANNED_KM} style="margin-right:10px;" checked=checked>{{else}}<input type="radio" name="resolution_type" value=${STW.Constants.PLANNED_KM} style="margin-right:10px;">{{/if}}${gpsLossCab.plannedKm.toFixed(1)} (Planned KM)</label></div><div><label>{{if gpsLossCab.resolutionType == STW.Constants.MAP_KM }}<input type="radio" name="resolution_type" value=${STW.Constants.MAP_KM} style="margin-right:10px;" checked=checked>{{else}}<input type="radio" name="resolution_type" value=${STW.Constants.MAP_KM} style="margin-right:10px;">{{/if}}${gpsLossCab.mapKm.toFixed(1)} (Map KM)</label></div><div><label>{{if gpsLossCab.resolutionType == STW.Constants.MANUAL_UPDATE_KM }}<input type="radio" name="resolution_type" value=${STW.Constants.MANUAL_UPDATE_KM} style="margin-right:10px;"	placeholder="manual km" checked=checked>{{else}}<input type="radio" name="resolution_type" value=${STW.Constants.MANUAL_UPDATE_KM} style="margin-right:10px;"	placeholder="manual km">{{/if}}<input name="manual_km" type="text" maxlength="5" placeholder="manual update" disabled="disabled"></label></div></td><td class="roleBasedAccess" functionalities="bill_edit"><div><textarea name="comment" placeholder="Enter comment here..." style="width: 100%;">${gpsLossCab.comment}</textarea></div></td><td class="event-action roleBasedAccess" functionalities="bill_edit" style="text-align:center;"><button class="updateGPSLossKmToTrip buttonstyle1" >Resolve Issues</button></td></tr></script></div><div class="TC"><script id="bulk-gps-loss-fix-template" type="text/x-jquery-tmpl"><div style="width: 300px;"><form name="bulkUpdateGPSLossForm"><table><tbody><tr><td class="event-updated-km"><div><label><input type="radio" name="resolution_type" value=${STW.Constants.GPS_BACKFILL_KM} style="margin-right:10px;" ><span>GPS Back fill</span></label></div><div><label><input type="radio" name="resolution_type" value=${STW.Constants.PLANNED_KM} style="margin-right:10px;"><span>Planned KM</span></label></div><div><label><input type="radio" name="resolution_type" value=${STW.Constants.MAP_KM} style="margin-right:10px;"><span>Map KM</span></label></div></td><td class="roleBasedAccess" functionalities="bill_edit"><div><textarea name="comment" placeholder="Enter comment here..." style="width: 100%;"></textarea></div></td></tr><tr><td colspan=2 class="event-action roleBasedAccess" functionalities="bill_edit" style="text-align:center;"><input type="button" class="bulkUpdateGPSLoss buttonstyle1 roleBasedAccess" functionalities="bill_edit"  value="Resolve Issues" /><input type="button" class="buttonstyle1" name="cancel" value="Cancel"/></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="dashboard-employee-search-table" type="text/x-jquery-tmpl"><div><table class="formtable" style="width: 100%"><tr><td class=first-column style="width: 30%">Name</td><td class="emp-name access-based-matrix" pii_id ="EMP_NAME">{{if emp.status == STW.Constants.STATUS_INACTIVE}}${emp.name} [INACTIVE]{{else RoleUtils.isVendorRole() == true}}${emp.name}{{else}}<a class="editEmployeeDetails access-based-matrix" pii_id ="EMP_NAME"">${emp.name}</a><a class="showSpecialRequest" style="float: right; display: none">Special Request</a>{{/if}}</td></tr><tr class="requestBox" style="display: none"></tr><tr><td class=first-column>Phone Number</td>{{if utils.hideEmployeePhoneNum(emp)== true}}<td class=cab-driver>${STW.Cache.hiddenInfoText()}</td>{{else}}<td class="cab-driver access-based-matrix" pii_id ="EMP_MOB">${emp.phone}</td>{{/if}}</tr><tr><td class=first-column>Pickup/Drop point</td>{{if ((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM) && (STW.Cache.isHideEmpAddressEnabled() == true))}}<td class=emp-address>${STW.Cache.hiddenInfoText()}</td>{{else}}<td class="emp-address access-based-matrix" pii_id ="EMP_ADDR" title="${emp.home?emp.home.address:"Unavailable"}">${utils.getTruncatedAddress(emp.home?emp.home.address:"Unavailable")}</td>{{/if}}</tr><tr><td class=first-column>Date</td><td class="selected-date modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" readonly name=startDate type=text value=title=Date format: dd/MM/yyyy /></td></tr>{{if STW.Cache.isNonShiftTripCreationDisabled() == false && emp.status == STW.Constants.STATUS_ACTIVE}}<tr class="roleBasedAccess" functionalities="tripsheet_manage"><td class=first-column></td><td class=emp-action><a class=assign-cab>Assign New Vehicle</a></td></tr>{{/if}}<tr><td class=first-column>Schedule</td><td class=emp-action><span> Login: ${shiftManager.FormatTime("login", scheduleRecord[0].login.id)}</span><span> Logout: ${shiftManager.FormatTime("logout", scheduleRecord[0].logout.id)}</span></td></tr><tr>{{if STW.Cache.isAdditionalRequestEnabled() && scheduleRecord[1] != undefined}}<td class=first-column>Schedule</td><td class=emp-action><span> Login: ${shiftManager.FormatTime("login", scheduleRecord[1].login.id)}</span><span> Logout: ${shiftManager.FormatTime("logout", scheduleRecord[1].logout.id)}</span></td>{{/if}}</tr>{{if STW.Cache.isReportingManagerEnabled()}}<tr><td class=first-column>Reporting Manager</td><td class=emp-action><span>${reportingManager.name}</span></td></tr>{{/if}}{{if STW.Cache.isReportingManagerEnabled()}}<tr><td class=first-column>Reporting Manager Phone</td><td class=emp-action><span>${reportingManager.phone}</span></td></tr>{{/if}}{{each( index, trip) allTripsheets}}<tr><td class=assigned-cab>{{if trip.tripSheet.type == STW.Constants.TYPE_ADHOC}}${getAssignedCab(index)}<br>Adhoc Trip{{else}}<a class=showTripsheet tripId=${trip.tripSheet.id}>${getAssignedCab(index)}</a>{{/if}}<br><span><b>Distance :</b>${getTripDistance(index)}</span><br>{{if trip.tripSheet.shift}}<span><b>Shift: </b>${trip.tripSheet.shift.type == 0 ? "Login" : "Logout"} <span>${trip.tripSheet.shift.hour}</span>:<span>${trip.tripSheet.shift.minutes == 0 ? "00" : trip.tripSheet.shift.minutes}</span></span>{{/if}}</td><td><div><span><b>Duration :</b>{{if trip.isBilling && trip.billingTrip.state == STW.Constants.STATE_STARTED}}${dateMngr.getTimeIn24Hours(trip.startTime)} - Present{{else}}${dateMngr.getTimeIn24Hours(trip.startTime)} - ${dateMngr.getTimeIn24Hours(trip.endTime)}{{/if}}</span></div><div><span style="margin-right: 10px"><b>Trip Status :</b>${getTripStatus(index)}</span>{{if trip.isBilling == true}}<a class="track-employee" index=${index}>{{if trip.billingTrip.state == STW.Constants.STATE_STARTED}}(Track){{else}}View Route{{/if}}</a>{{if trip.reason == true}}<div class="tooltip"><img src="img/Information-icon.png" style="width: 15px;margin-left: 10px;margin-top:1px;"><span class="tooltiptext">Employee Sign-off is not received. please check with the driver, if the trip is closed on the driver’s device or make sure, there is no Pending Data on Device.</span></div>{{/if}}{{/if}}</div><div><span><b>Employee :</b>${getEmployeeStatus(index)}</span><span style="float: left;">${getEmployeeSmsSentTime(index)}</span></div>{{if trip.tripSheet.comment && isNaN(trip.tripSheet.comment) && utils.isParseable(trip.tripSheet.comment)}}<div><span><b>Comment :</b>SPOT TRIPSHEET</span></div>{{else trip.tripSheet.comment}}<div><span><b>Comment :</b>${trip.tripSheet.comment}</span></div>{{/if}}</td></tr>{{/each}}</table></div></script></div><div class="TC"><script id="employee-trip-status-template" type="text/x-jquery-tmpl"><div style="width:300px;"><table class="formtable" style="width: 100%">{{each( index, trip) allTripsheets}}<tr><td style="width: 30%;padding:5px;">{{if trip.tripSheet.dir == "IN"}}Login{{else}}Logout{{/if}}</td><td style="padding:5px;"><div><span style="margin-right:5px;">Vehicle ID:</span><span>${trip.tripSheet.cab ? trip.tripSheet.cab.displayCabId : "Vehicle not assigned"}</span></div>{{if trip.tripSheet.cab}}<div><span style="margin-right:5px;">Reg No:</span><span>${trip.tripSheet.cab.identification}</span></div>{{/if}}<div><span style="margin-right:5px;">Route No:</span><span>${trip.tripSheet.physicalId}</span></div><div><span style="margin-right:5px;">Pickup Time:</span><span>${getEmployeePickupTime(index)}</span></div>{{if STW.Cache.isEnableOtpBasedSignIn() && STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP}}{{if STW.Cache.enableEmployeeSignInSignOutOtp()}}<div><span style="margin-right:5px;">Sign In OTP:</span><span>${getEmployeeOTP(index, "signIn")}</span></div><div><span style="margin-right:5px;">Sign Out OTP:</span><span>${getEmployeeOTP(index, "signOut")}</span></div>{{else STW.Cache.showOtpOnWeb()}}<div><span style="margin-right:5px;">OTP:</span><span>${getEmployeeOTP(index, "otp")}</span></div>{{/if}}{{/if}}</td></tr>{{/each}}</table></div></script></div><div class="TC"><script id="token-generation-template" type="text/x-jquery-tmpl"><div class="generateToken insidewidget" style="width: 400px;"><form id="generateTokenForm" style="padding: 20px;"><div><span>Employee: ${employee.name} (${employee.eid})</span><span style="float: right;">Vendor: ${vendor?vendor.name:"NA"}</span></div><table style="margin-top: 20px;width: 100%;"><tr><td>Reason</td><td><select name="reason"><option value="-1">Select a reason</option>{{each(index, reason) REASON}}<option value="${index}">${reason}</option>{{/each}}</select></td></tr><tr><td>Comment</td><td><textarea name="comment" rows="3" style="width: 100%;" mandatory="true" ></textarea></td></tr><tr style="height: 30px;"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1" value="Create" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></table></form></div></script></div><div class="TC"><script id="token-status-template" type="text/x-jquery-tmpl"><div class="tokenStatus insidewidget" style="width: 1200px; background-color: lightgray;"><form id="tokenStatusForm"><div id="wrapper"><div id="tabs"><ul style="margin: 0; padding: 5px 0 0 5px;"><li><a href="#tabs-1" title="">Pending</a></li><li><a href="#tabs-2" title="">Actioned</a></li></ul><div id="tabs_container"><div id="tabs-1"><table cellspacing=0; style="width: 100%;"><tr><th>Token Number</th><th>Date</th><th>Reason</th><th>Staus</th><th>Amount Applied</th><th>Amount Approved</th><th>Bill Avl</th><th colspan="2">Reimburse</th></tr>{{each( index, token) tokenList}}{{if token.status == "GENERATED"}}<tr><td>${token.tokenId}</td><td>${dateMngr.getDateAndTime(token.created)}</td><td>${self.getReasonText(token.reason)}</td><td>${self.getStatusText(token.status)}</td><td><input name="amountClaimed" type="text" value="${token.amountClaimed?token.amountClaimed:""}" placeholder="Claimed Amount" style="min-height:20px;"></td><td style="padding-left: 10px; text-align: left;">${token.amountApproved}</td><td><label><input type="radio" name="billAvlaible.${index}" value="true"><span>yes</span></label><label><input type="radio" name="billAvlaible.${index}" value="false" checked="checked"><span>no</span></label></td><td><select name="travelMode"><option value="0">Select mode</option>{{each(modeIndex, mode) TRAVELMODE}}<option value="${modeIndex}">${mode}</option>{{/each}}</select></td><td>{{if dateMngr.checkIfExpired(token.created, STW.Constants.TOKEN_APPLY_EXPIRY_DAYS) == false}}<input class="applyToken buttonstyle1" type="button" tokenId=${token.tokenId} value="Apply" style="min-height:20px;">{{else}}<span>Expired</span>{{/if}}</td></tr>{{/if}}{{/each}}</table></div><div id="tabs-2"><table cellspacing=0; style="width: 100%;"><tr><th>Token Number</th><th>Date</th><th>Reason</th><th>Staus</th><th>Bill Avl</th><th>Amount Applied</th><th>Amount Approved</th></tr>{{each( index, token) tokenList}}{{if token.status != "GENERATED"}}<tr><td>${token.tokenId}</td><td>${dateMngr.getDateAndTime(token.created)}</td><td>${self.getReasonText(token.reason)}</td><td>${self.getStatusText(token.status)}</td><td>${token.billAvailable ? "yes" : "no"}</td><td>${token.amountClaimed}</td><td style="padding-left: 10px; text-align: left;"><div style="float: left; width: 35px;">${token.amountApproved}</div><img class="tokenNotes" src="img/notes.png" tokenId=${token.tokenId} style="width: 16px;" title="${token.comment}"></td></tr>{{/if}}{{/each}}</table></div></div></div></div></form></div></script></div><div class="TC"><script id="token-approval-template" type="text/x-jquery-tmpl"><div class="tokenApproval insidewidget" style="width: 1300px;background-color: lightgray;"><form id="tokenApprovalForm"><div id="wrapper"><div id="tabs"><ul style="margin: 0; padding: 5px 0 0 5px;"><li><a href="#tabs-1" title="">Pending</a></li><li><a href="#tabs-2" title="">Actioned</a></li></ul><div id="tabs_container"><div id="tabs-1"><table cellspacing=0; style="width: 100%;"><tr><th>Token Number</th><th>Date</th><th>Reason</th><th>Name & Emp Id</th><th>Amount Claimed</th><th>Staus</th><th>Mode</th><th>Planned KM</th><th>Approved Amount</th><th colspan="3">Action</th></tr>{{each( index, token) tokenList}}{{if token.status == "APPLIED"}}<tr><td>${token.tokenId}</td><td>${dateMngr.getDateAndTime(token.created)}</td><td>${self.getReasonText(token.reason)}</td><td>${token.employee.name + " (" + token.employee.eid + ")"}</td><td>${token.amountClaimed}</td><td>${self.getStatusText(token.status)}</td><td>${self.getTravelModeText(token.travelMode)}</td><td>${self.getPlannedKM(token)}</td><td><input name="amountApproved" type="text" value="${token.amountApproved?token.amountApproved:""}" placeholder="Approved Amount" style="min-height:20px;"></td><td style="width: 205px;"><a><img class="tokenNotes" src="img/notes.png" tokenId=${token.tokenId} style="margin-left:5px; width: 16px;" title=""></a>{{if dateMngr.checkIfExpired(token.created, STW.Constants.TOKEN_APPROVAL_EXPIRY_DAYS) == false}}<input class="approveToken buttonstyle1" type="button" tokenId=${token.tokenId} value="Approve" style="min-height:20px;"><input class="rejectToken buttonstyle1" type="button" tokenId=${token.tokenId} value="Reject" style="min-height:20px;">{{else}}<span>Expired</span>{{/if}}</td></tr>{{/if}}{{/each}}</table></div><div id="tabs-2"><table cellspacing=0; style="width: 100%;"><tr><th>Token Number</th><th>Date</th><th>Reason</th><th>Name & Emp Id</th><th>Amount Claimed</th><th>Staus</th><th>Mode</th><th>Planned KM</th><th>Approved Amount</th><th colspan="3">Action</th></tr>{{each( index, token) tokenList}}{{if token.status == "APPROVED" || token.status == "REJECTED" || token.status == "EXPIRED"}}<tr><td>${token.tokenId}</td><td>${dateMngr.getDateAndTime(token.created)}</td><td>${self.getReasonText(token.reason)}</td><td>${token.employee.name + " (" + token.employee.eid + ")"}</td><td>${token.amountClaimed}</td><td>${self.getStatusText(token.status)}</td><td>${self.getTravelModeText(token.travelMode)}</td><td>${self.getPlannedKM(token)}</td><td>${token.amountApproved}</td><td style="width: 205px;"><a><img class="tokenNotes" src="img/notes.png" tokenId=${token.tokenId} style="margin-left:5px; width: 16px;" title="${token.comment}"></a>{{if dateMngr.checkIfExpired(token.created, STW.Constants.TOKEN_APPROVAL_EXPIRY_DAYS) == false}}<input class="updateToken buttonstyle1" type="button" tokenId=${token.tokenId} value="Update" style="min-height:20px;">{{else}}<span>Frozen</span>{{/if}}</td></tr>{{/if}}{{/each}}</table></div></div></div></div></form></div></script></div><div class="TC"><script id="token-comment-template" type="text/x-jquery-tmpl"><div class="tokenComment" style="width: 400px;"><table style="width:100%;"><tr class="approvedAmountRow"><td style="width:30%;">Approved amount: </td><td><input name="amountApproved" class="amountApproved" type="text" value="${token.amountApproved?token.amountApproved:""}" placeholder="Approved Amount" style="min-height:20px;"></td></tr><tr><td>Comment: </td><td><textarea rows="4" class="tokenComment" style="width:90%;">${token.comment}</textarea></td></tr><tr style="height: 30px;"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="button" class="saveComment buttonstyle1" value="Save" /><input type="button" class="cancel buttonstyle1" name="cancel" value="Cancel" /></td></tr></table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="shuttleUploadTemplate"><div ><div class="dataOnboardingOptions onboard-wrapper" style="margin-left: 5%;"><div class="bulkwrapper"><div class="onboarding"><div>Data Type</div><div><select name="selectOnboardingType" style="width: auto;" class="modernInput bulkSelect"><option value="">Select Data Type</option><option value="SHUTTLE_STOP">Shuttle Stop</option><option value="SHUTTLE_ROUTE">Shuttle Route</option><option value="EMPLOYEE_SHUTTLE_STOP">Employee ShuttleStop</option><option value="SHUTTLE_STOP_UPDATE">Update Shuttle Stop</option><option value="SHUTTLE_ROUTE_UPDATE">Update Shuttle Route</option><option value="SHUTTLE_ROUTE_VEHICLE">Update Shuttle Route-Vehicle</option><option value="SHUTTLE_ROUTE_VEHICLE_DRIVER">Update Shuttle Route-Vehicle Driver</option></select></div></div><div class="onboarding"><div>Action Type</div><div><select name="selectActionType" style="width: auto;" class="modernInput"><option value="">Select Action Type</option><option value="VALIDATE">Validate</option><option value="VALIDATE_AND_ENTER">Validate Enter</option></select></div></div><form action="OnBoarding_Servlet" enctype="multipart/form-data" method="POST" id="UploadForm"><div class="uploader" style="margin-left: 5%;"><div><div class="upload-vechicle-div" id="shuttledropArea" style="width:612px"><img src="img/uploads.svg" alt=""><span class="drag-text">Drag & drop the file you want to uploadChoose File</span><label for="shuttleUpload" >Choose File</label><input type="hidden" name="selectOnboardingType" value="" /><input type="hidden" name="selectActionType" value="" /><input type="hidden" name="attributesList" value="" /><input id = "shuttleUpload" type="file" name="fileName" value="Browse" style="height: 25px;"  accept = ".csv" class="upload-vechicle-inpul"/></div><div><div colspan="2" style="text-align: center;" class="upload-btn-wrapper"><button id="reset-shuttle-input" class="reset">Reset</button><input type="submit" value="Upload" class="submitButton wis-btn-md" /></div></div></div></div></form><div id="error-model-popup" style="display:none;"></div></div><div colspan="2"><div class="inputOrderDetails" style="color: red; margin: 10px 0;"></div><div class="orderDetails" style="color: red;"></div><input type="button" value="Download Template" class="downloadTemplate wis-outline-btn-md template-btn" /></div></div></div><div style="float: left; width: 40%; margin-top: 80px;" class="download-wrapper"><form action="OnBoarding_Servlet" method="GET" name="DownloadForm"id="downloadForm"><div class="Downloader download-select" style="margin: 0; margin-top: 10px;"><div class="wrap"><div>Download Option</div><div><select name="OnboardingType" class="modern-input" style="width: auto;"><option value="">Select Data Type</option><option value="SHUTTLE_STOP">Shuttle Stop</option><option value="SHUTTLE_ROUTE">Shuttle Route</option><option value="EMPLOYEE_SHUTTLE_STOP">Employee Shuttle Stop</option><option value="SHUTTLE_ROUTE_VEHICLE">Shuttle Route-Vehicle</option><option value="SHUTTLE_ROUTE_VEHICLE_DRIVER">Shuttle Route-Vehicle Driver</option></select></div></div><div colspan="2" id="download" style="text-align: center;padding-top: 10px;"><input type="submit" value="Download" class="submitButton wis-btn-sm" /></div></div></form></div><div id="serverResponse"></div></script></div><div class="TC"><script id="updateShiftDetail" type="text/x-jquery-tmpl"><div class="updateShiftDetail formtable" style="padding-top: 12px; width: 800px;"><form method="post"><div class="row m-0"><div class="col-md-6"><div class="form-group modern-date-container" style="position: inherit;	float: inherit; left: 0"><label class="modern-label" for="startDate">Start Date</label><input style="width: 100%;" class="datePicker modern-date-picker" name="startDate" type="text" value=""title="Date format: dd/MM/yyyy" readonly /></div></div><div class="col-md-6"><div class="form-group modern-date-container" style="position: inherit;	float: inherit; left: 0"><label class="modern-label" for="endDate">End Date</label><input style="width: 100%;" class="datePicker modern-date-picker" name="endDate" type="text" value=""title="Date format: dd/MM/yyyy" readonly /></div></div></div><div class="row m-1"><div class="col p-0"><label for="selectLoginVenue" class="modern-label-bold">Login</label></div></div><div class="row m-0"  ${STW.Cache.doesLoginShiftExist() ? "" : "style=display:none" }><div class="col"><select name="selectLoginVenue" class="loginVenue modern-select"></select></div>{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<div class="login modern-select-container col">{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, true, "bulk")}}</div>{{else}}<div class="login modern-select-container col">{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, false, "bulk")}}</div>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<select name="loginAddressSet" class="modern-select col"></select>{{/if}}<div class="col optin"><div id="login-container"><div class="inner-container" id="toggle-container-login"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div><div class="inner-container" id="toggle-container"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div></div></div></div><div class="row m-0" style="padding: 10px"><div class="col-md-6 p-0"><div class="form-group"><label for="shiftDays" style="padding-top: 10px; padding-left: 0" class="modern-label-bold pl-0">Logout starts from</label><select name="shiftDays" class="shiftDay modern-select"><option value="sameDay">Same Day</option><option value="nextDay">Next Day</option></select></div></div></div><div class="row m-1"><div class="col p-0"><label for="selectLogoutVenue" class="modern-label-bold">Logout</label></div></div><div class="row m-0"  ${STW.Cache.doesLogoutShiftExist() ? "" : "style=display:none" }><div class="col"><select name="selectLogoutVenue" class="logoutVenue modern-select"></select></div>{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<div class="logout modern-select-container col">{{html shiftManager.getHtmlOfShifts("logout", availableShifts, selectedShift, true, "bulk")}}</div>{{else}}<div class="logout modern-select-container col">{{html shiftManager.getHtmlOfShifts("logout", availableShifts, selectedShift, false, "bulk")}}</div>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<select name="logoutAddressSet" class="modern-select col"></select>{{/if}}<div class="optin-logout col"><div id="logout-container"><div class="inner-container" id="toggle-container-logout"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div><div class="inner-container" id="logout-toggle-container"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div></div></div></div>{{if ((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) && (STW.Cache.isAskForProjectEnabled() == true))}}<div class="row"><div class="col-md-6"><div class="form-group"><label for="tempProject">Project <span class="mandatory">*</span>:</label><input name="tempProject" type="text" required /></div></div><div class="col-md-6"><div class="form-group"><label for="notification">Reporting managers email ID <span class="mandatory">*</span>:</label><input name="notification" type="text" required value=${reportingManager}></div></div></div>{{/if}}{{if loginRouteServiceTime>0 || logoutRouteServiceTime}}<div class="row mt-3 m-0"><div class="col-md-12 info-message-bg"><img src="img/ic-action-shift time-24.svg"> Your login arrival is ${loginRouteServiceTime} minutes before shift time and logout departure is ${logoutRouteServiceTime} minutes after the shift time</div></div>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<div class="row m-0"><div class="col-md-12 info-message-bg"><img src="img/ic-ui-home-24.svg"> To Change your address, please first cancel and then create the schedule again.</div></div>{{/if}}<div class="row m-0"  style="display:none;" class="updateShiftCustomMessage"><div class="col-md-12 info-message-bg"><img src="img/ic-action-info-24.svg"></div></div><div class="row m-0 mt-3"  style="height: 60px; border-top: 1px solid #E0E0E0;"><div class="col-md-12" style="text-align: right; border-bottom: none;margin-top: 10px;"><input type="reset" class="secondary-btn" value="Cancel" name="cancel" /><input type="submit" class="primary-btn" name="updateSchedule" value="Apply"${availableShifts ? "" : "style=display:none;"} /></div></div><div class="row"><div class="col-md-12"><input type="hidden" name="bulkschedule" /></div></div></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="additionalRequesttmpl"><div><form  method="post"><table class="updateShiftDetail insidewidget formtable" style="width:600px; margin:0px"><tbody><tr ${STW.Cache.doesLoginShiftExist()?"":"style=display:none"}><td style="width: 25%;"><label>Login:</label></td>{{if shiftManager.doesLoginExist(availableShifts)}}<td><span class="login">{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, true, "single")}}{{else}}{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, false, "single")}}{{/if}}</span>{{if selectedShift  && selectedShift.loginEventGUID}}<input type="hidden" name="loginEventGUID" value=${selectedShift.loginEventGUID}>{{/if}}</td><td><select name="selectLoginVenue" class="loginVenue"></select></td>{{if STW.Cache.isSecondaryAddressFeatureEnabled()}}<td><select name="loginAddressSet" style="width: 100px;"></select></td>{{/if}}{{else}}<td class="login"><span style="color:red;">No Shift Available</span></td>{{/if}}</tr><tr ${STW.Cache.doesLogoutShiftExist()?"":"style=display:none"}><td><label>Logout:</label></td>{{if shiftManager.doesLogoutExist(availableShifts)}}<td><span class="logout">{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}{{html shiftManager.getHtmlOfShifts("logout", availableShifts, selectedShift, true, "single")}}{{else}}{{html shiftManager.getHtmlOfShifts("logout", availableShifts, selectedShift, false, "single")}}{{/if}}</span>{{if selectedShift  && selectedShift.logoutEventGUID}}<input type="hidden" name="logoutEventGUID" value=${selectedShift.logoutEventGUID}>{{/if}}</td><td><select name="selectLogoutVenue" class="logoutVenue"></select></td>{{if STW.Cache.isSecondaryAddressFeatureEnabled() }}<td><select name="logoutAddressSet" style="width: 100px;"></select></td>{{/if}}{{else}}<td class="logout"><span style="color:red;">No Shift Available</span></td>{{/if}}</tr><tr class="centerAlign"><td colspan="4"><a class="additionalRequestHistory" style="float: right;">History</a></td></tr><tr class="commentBox" style="display: none; width:99%"><td colspan="4"><textarea rows="3" cols="" name="comment" style="width: 98%"></textarea></td></tr><tr class="historyBox" style="display: none;"></tr><tr style="height: 40px"><td colspan="4" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1" name="updateSchedule" value="Apply" ${availableShifts?"":"style=display:none;"}/><input type="reset"  class="buttonstyle1" value="Cancel" name="cancel"/></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="updateLoginShift" type="text/x-jquery-tmpl"><div style="width: 800px; padding: 10px;"><form  method="post"><table class="updateLoginShift" style="margin:0px"><tbody><tr style="display: none;"><td><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy"/><input class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr>{{if hasAddressSwitchingPermission && STW.Cache.isShuttleRoutingFeatureEnabled() && STW.Cache.isSecondaryAddressFeatureEnabled()}}<tr class="d-flex"><td class="customLogin d-flex" style="padding: 10px 0; align-items: center"><input type="checkbox" class="modern-checkbox" name="addressSelectionType" id="chkAddressSelectionType" value="true" /><label style="margin: 0">Show shuttle stops </label></td></tr>{{/if}}<tr ${STW.Cache.doesLoginShiftExist() ? "" : "style=display:none" }><td colspan="4"><div><label>Login</label></div><div class="d-flex"><select name="selectLoginVenue" class="loginVenue modern-select col mr-1"></select>{{if STW.Cache.enableAdhocRequestReasonSelection() && STW.Cache.isAdhocRequestFeatureEnabled() &&(STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PM|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) }}{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<select name="selectAdhocReason" class="modern-select col mr-1"></select>{{else}}<select name="selectAdhocReason" class="modern-select col mr-1" style="display: none;"></select>{{/if}}{{/if}}{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<div class="login modern-select-container col mr-1">{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, true, "single")}}</div>{{else}}<div class="login modern-select-container col mr-1">{{html shiftManager.getHtmlOfShifts("login", availableShifts, selectedShift, false, "single")}}</div>{{/if}}{{if selectedShift && selectedShift.loginEventGUID}}<input type="hidden" name="loginEventGUID" value=${selectedShift.loginEventGUID}>{{/if}}{{if STW.Cache.isAdhocRequestFeatureEnabled() && (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PM|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) }}<div class="col mr-1">{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<input id="showAdhocShifts" type="checkbox" class="modern-checkbox" value=truestyle="margin-left:10px; height:13px;" checked disabled />{{else}}<input id="showAdhocShifts" type="checkbox" class="modern-checkbox" value=truestyle="margin-left:10px; height:13px;" />{{/if}}<label style="padding-left:1px">Show Adhoc Shifts</label></div>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && hasAddressSwitchingPermission}}<select name="selectLoginPickUpVenue" class="modern-select col mr-1"><option value="-2" selected="selected">-select pickup-</option>{{each(k, stop) shuttleStops}}<option value="${stop.id}">${stop.address}</option>{{/each}}</select>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<select name="loginAddressSet" class="modern-select col mr-1"></select>{{/if}}<div class="optin col mr-1"><div id="login-container"><div class="inner-container" id="toggle-container-login"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div><div class="inner-container" id="toggle-container"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div></div></div></div></td></tr>{{if isSecondaryAddressAvailable(employee) == false}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-ui-location-24.svg"> Dear user, the secondary address is set as in-active with the default address. Please update the new address to make it effective for scheduling</div></td></tr>{{/if}}{{if loginRouteServiceTime>0 || logoutRouteServiceTime >0}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-action-shift time-24.svg"> Your login arrival is ${loginRouteServiceTime} minutes before shift time and logout departure is ${logoutRouteServiceTime} minutes after the shift time</div></td></tr>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() &&  hasAddressSwitchingPermission}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-ui-home-24.svg"> To Change your address, please first cancel and then create the schedule again.</div></td></tr>{{/if}}<tr style="display:none;" class="updateShiftCustomMessage"><td colspan="100%"><div class="info-message-bg"><img src="img/ic-action-info-24.svg"> </div></td></tr><tr style="height: 10px"> </tr><tr style="height: 60px"><td colspan="100%" style="text-align: right; border-bottom: none;border-top: 1px solid #E0E0E0;"><input type="reset" tabindex="50" class="secondary-btn" value="Cancel" name="cancel"/><input type="submit" tabindex="50" class="primary-btn" name="updateSchedule" value="Apply" ${availableShifts?"":"style=display:none;"}/></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="updateLogoutShift" type="text/x-jquery-tmpl"><div style="width: 800px; padding: 10px;"><form method="post"><table class="updateLogoutShift" style="margin:0px"><tbody><tr style="display: none;"><td><input class="datePicker" name="startDate" type="text" value=""title="Date format: dd/MM/yyyy" /><input class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy" /></td></tr>{{if RoleUtils.canOverrideCutoff() }}<tr class="d-flex">{{if hasAddressSwitchingPermission && STW.Cache.isShuttleRoutingFeatureEnabled() &&STW.Cache.isSecondaryAddressFeatureEnabled()}}<td colspan="2" class="customLogout d-flex" style="padding: 10px 0;align-items: center;"><input class="modern-checkbox" type="checkbox" name="addressSelectionType" id="chkAddressSelectionType" value="true" /><label style="margin: 0">Show shuttle stops </label></td>{{/if}}</tr>{{/if}}<tr ${STW.Cache.doesLogoutShiftExist()?"":"style=display:none"}><td colspan="4"><div><label>Logout</label></div><div class="d-flex"><select name="selectLogoutVenue" class="logoutVenue modern-select col mr-1"></select>{{if STW.Cache.isAdhocRequestFeatureEnabled() && (STW.USER.employeeRoles[0].roleId ==STW.Constants.ROLE_PM|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) }}{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<select name="selectAdhocReason" class="modern-select col mr-1"></select>{{else}}<select name="selectAdhocReason" class="modern-select col mr-1" style="display: none;"></select>{{/if}}{{/if}}{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<div class="col mr-1 logout modern-select-container">{{html shiftManager.getHtmlOfShifts("logout",availableShifts, selectedShift, true,"single")}} </div>{{else}}<div class="col mr-1 logout modern-select-container">{{html shiftManager.getHtmlOfShifts("logout",availableShifts, selectedShift, false,"single")}} </div>{{/if}}{{if selectedShift && selectedShift.logoutEventGUID}}<input type="hidden" name="logoutEventGUID" value=${selectedShift.logoutEventGUID}>{{/if}}{{if STW.Cache.isAdhocRequestFeatureEnabled() && (STW.USER.employeeRoles[0].roleId ==STW.Constants.ROLE_PM|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) }}<div class="col mr-1">{{if !STW.Cache.getPermission("normalShift") && STW.Cache.getPermission("adhocShift")}}<input id="showAdhocShifts" class="modern-checkbox" type="checkbox" value=truestyle="margin-left:10px; height:13px;" checked disabled />{{else}}<input id="showAdhocShifts" class="modern-checkbox" type="checkbox" value=truestyle="margin-left:10px; height:13px;" />{{/if}}<label style="padding-left:1px">Show Adhoc Shifts</label></div>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && hasAddressSwitchingPermission}}<select name="selectLogoutDropVenue" style="width: 90%" class="col mr-1 modern-select"><option value="-2" selected="selected">-select drop-</option>{{each(k, stop) shuttleStops}}<option value="${stop.id}">${stop.address}</option>{{/each}}</select>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<select name="logoutAddressSet" class="modern-select col mr-1"></select>{{/if}}<div class="col mr-1 optin-logout"><div id="logout-container"><div class="inner-container" id="toggle-container-logout"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div><div class="inner-container" id="logout-toggle-container"><div class="toggle"><p>Optout</p></div><div class="toggle"><p>Optin</p></div></div></div></div></div></td></tr>{{if ((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_EMP) &&(STW.Cache.isAskForProjectEnabled() == true))}}<tr><td><label>Project <span class="mandatory">*</span>:</label></td><td><input name="tempProject" class="modern-input" type="text" required /></td></tr><tr><td><label>Reporting managers email ID <span class="mandatory">*</span>:</label></td><td><input name="notification" class="modern-input" type="text" required value=${reportingManager}></td></tr>{{/if}}{{if isSecondaryAddressAvailable(employee) == false}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-ui-location-24.svg"> Dear user, the secondary address is set as in-active with the default address. Please update the new address to make it effective for scheduling</div></td></tr>{{/if}}{{if loginRouteServiceTime>0 || logoutRouteServiceTime}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-action-shift time-24.svg"> Your login arrival is ${loginRouteServiceTime} minutes before shift time and logout departure is ${logoutRouteServiceTime} minutes after the shift time</div></td></tr>{{/if}}{{if STW.Cache.isSecondaryAddressFeatureEnabled() && hasAddressSwitchingPermission}}<tr><td colspan="100%"><div class="info-message-bg"><img src="img/ic-ui-home-24.svg"> To Change your address, please first cancel and then create the schedule again.</div></td></tr>{{/if}}<tr style="display:none;" class="updateShiftCustomMessage"><td colspan="100%"><div class="info-message-bg"></div></td></tr><tr style="height: 10px"> </tr><tr style="height: 60px"><td colspan="100%;" style="text-align: right; border-bottom: none;border-top: 1px solid #E0E0E0;"><input type="reset" class="secondary-btn" value="Cancel" name="cancel" /><input type="submit" class="primary-btn" name="updateSchedule" value="Apply"${availableShifts?"":"style=display:none;"} /></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="womens-employee-signed-off" type="text/x-jquery-tmpl"><div><table id="report" class="womens-employee-signed-off insidewidget tablestyle1 table-striped" style="position:relative;margin-top:20px;width:90%;"><col width="110"><col width="110"><col width="110">{{if STW.Cache.isWomenEmployeeSignOffVerificationThroughIVREnabled()}}<col width="110">{{/if}}<col width="110"><col width="110"><col width="110"><thead><tr><th style="border-radius:0px;">&nbsp;Planned Signoff Date</th><th style="border-radius:0px;">&nbsp;Actual Signoff Date</th><th>Name</th><th>Employee Id</th>{{if STW.Cache.isWomenEmployeeSignOffVerificationThroughIVREnabled()}}<th>Verification Type</th>{{/if}}<th>Verification Status</th><th>Shift</th><th style="width:1px;"></th></tr></thead><tbody>{{each(index, trip) list}}<tr class="stripe hover" tripIndex="${index}" currentTrip="${trip}"><td> ${getPlannedSignOffDate(trip,trip.employee.stwId)} </td>{{if trip.employeeSignInInfo != undefined && trip.employeeSignInInfo.isSignedOff != false && trip.employeeSignInInfo.signOffTime != undefined}}<td style="margin-left:20px;"> ${dateMngr.createCommFormateWithColon(trip.employeeSignInInfo.signOffTime)} </td>{{else}}<td style="margin-left:20px;"> &nbsp;NA </td>{{/if}}<td> ${getEmployee(trip)} </td><td> ${trip.employee.eid} </td>{{if STW.Cache.isWomenEmployeeSignOffVerificationThroughIVREnabled()}}<td>${getVerifiedTypeString(trip.womenEmployeeSignOffVerification.verificationType)}</td>{{/if}}<td>${trip.womenEmployeeSignOffVerification.verificationStatus}</td>{{if trip.tripSheet.shift != undefined}}<td> ${getShiftTimeInHourMin(trip.tripSheet.shift)}</td>{{else trip.tripSheet.dir == "OUT"}}<td> ${getTripTypeString(trip.tripSheet.type)} (Logout)</td>{{else}}<td> ${getTripTypeString(trip.tripSheet.type)} (Login)</td>{{/if}}<td><div></div></td></tr>{{/each}}</tbody></table></div></script></div><div class="TC"><script id="womens-employee-signed-off-comments" type="text/x-jquery-tmpl"><div><table class="womens-employee-signed-off insidewidget tablestyle1" style="position:relative"><tr><td>Comments</td><td><textarea name="womenemployeesignoffcomments" id="comments"/></td></tr><tr><td><input type="button" name="savecomments" value="Ok" class="buttonstyle1 rolebasedaccess" style="float:center;"/></td></tr></table></div></script></div><div class="TC"><script id="womens-employee-manual-verification" type="text/x-jquery-tmpl"><div class="insidewidget" style="width:400px;"><table><tr><td>&nbsp;</td></tr><tr><td>Verification State &nbsp;&nbsp;</td><td><select id="manualVerificationOption" name="manualVerificationOption"><option value="failed">Failed</option><option value="successful">Successful</option></select></td></tr><tr><td>&nbsp;</td></tr><tr id="failedReasonsDropDown"><td>Verification Reason &nbsp;&nbsp;</td><td><select id="manualVerificationReasonOption" name="manualVerificationReasonOption"><option value="No followup">No followup</option><option value="Ringing - no response from employee">Ringing - no response from employee</option><option value="Ringing - call diverted/forwarded">Ringing - call diverted/forwarded</option><option value="Phone picked but somebody else responded">Phone picked but somebody else responded</option><option value="Phone not reachable">Phone not reachable</option><option value="Phone switched off">Phone switched off</option><option value="Wrong number">Wrong number</option><option value="Out of service">Out of service</option><option value="User Busy">User Busy</option><option value="other">Other</option></select></td></tr><tr><td>&nbsp;</td></tr><tr id="manualVerificationCommentsTR"><td>Comments</td><td><textarea id="manualVerificationComments"/></td></tr><tr><td>&nbsp;</td></tr><tr><td><input type="button" name="saveverificationcriteria" value="Save" class="buttonstyle1 rolebasedaccess" style="margin-left:100%;"/></td></tr></table></div></script></div><div class="TC"><script id="womens-employee-signoff-audit-trail" type="text/x-jquery-tmpl"><div class="insidewidget" style="width:300px;height: 400px; overflow-y: scroll;"><div>&nbsp;</div><div style="text-align:center;"><b>${empname}</b></div><div>{{each(index, audit) list}}{{if isAuditTrailVisible(audit) == true}}<hr><table style="margin-left:10px;"><tbody><tr><td><b>Date : ${dateMngr.createCommFormateWithColon(audit.auditDate)}</b></td></tr><tr><td>&nbsp;&nbsp;Type : ${audit.verificationType}</td></tr><tr><td>&nbsp;&nbsp;Status : ${audit.verificationStatus}</td></tr><tr><td>&nbsp;&nbsp;Call Attempt : ${audit.retryCount}</td></tr><tr><td>&nbsp;&nbsp;Verified By : ${audit.verifierName}</td></tr><tr><td>&nbsp;&nbsp;Comments : ${audit.verifierComment}</td></tr></tbody></table>{{/if}}{{/each}}</div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="billingZoneTemplate"><table class="modern-table"  cellspacing="0px" style="width: 80%;"><tr><th class="leftrad">S No.</th><th>Zone Name</th><th>Active From</th><th>Last Price Change Date</th><th class="roleBasedAccess rightrad" functionalities="bill_edit">Actions</th></tr>{{each(i, billingZone) billingZoneList}}<tr><td>${i+1}</td><td>${zoneName}</td><td>${dateMngr.getDateAndYear(billingZone.startTime)}</td><td>${dateMngr.getDateAndYear(billingZone.updateTime)}</td><td class="roleBasedAccess" functionalities="bill_edit"><a class="edit" index=${i}>Edit</a><a class="view" index=${i}>View-History</a></td></tr>{{/each}}</table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="addEditBillingZoneTemplate"><div class="reportTable"><form id="addEditBillingZone"><table class="tablestyle1"  cellspacing="0px" style="width:400px;"><tr><td>Name<span class="mandatory">*</span></td><td><input type="text" name="zoneName" value="${billingZone.zoneName}" mandatory="true" style="width: 88%;"  maxlength="100"/></td></tr><tr><td>Activation Time</td><td><input class="datePicker" name="startTime" type="text" value="" style="width:75px;" title="Date format: dd-MM-yyyy" /></td></tr>{{each(i, contract) contractList}}<tr><td colspan=2 style="font-weight:bold;">${contract.contractName} (${contract.shortCode})</td></tr>{{each(i, attribute) getZoneAttributesOfContract(billingZone.billingZoneAttributes, contract.id)}}<tr><td style="padding-left:10px;">${STW.Cache.getAttributeName(attributeId)}<span class="mandatory">*</span></td><td style="padding-left:10px;"><input type="text" name="billingZoneAttributes.${contract.id}.${attributeId}" value="${attributeValue}" mandatory="true" style="width: 88%;"/></td></tr>{{/each}}{{/each}}<tr><td colspan="2"><a class="addZoneComment"style="float: left;">Comment</a><a class="zoneHistory"style="float: right;">History</a></td></tr><tr class="zoneCommentBox" style="display: none;"><td colspan="2"><textarea rows="3" name="zoneComment"style="width: 98%;"></textarea></td></tr><tr class="zoneHistoryBox" style="display: none;"><td colspan="2"></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="submit" class="buttonstyle1" value="Submit"/><input type="reset" class="buttonstyle1" name="cancel" value="Cancel"/></td></tr></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="zoneHistoryTemplate"><div><table class="tablestyle1"  cellspacing="0px" style="width:700px;"><tr><td style="font-weight:bold;">Zone Name</td><td style="font-weight:bold;">${billingZone.zoneName}</td></tr><tr><th style="padding-left:10px;">Trip Type</th><th style="padding-left:10px;">Start Date</th><th style="padding-left:10px;">End Date</th><th style="padding-left:10px;">Price</th></tr>{{each(i, contract) contractList}}<tr><td colspan=4 style="font-weight:bold;">${contract.contractName} (${contract.shortCode})</td></tr>{{each(i, attribute) getZoneAttributesOfContract(billingZone.billingZoneAttributes, contract.id)}}<tr><td style="padding-left:10px;">${STW.Cache.getAttributeName(attribute.attributeId)}</td>{{if attribute.startTime}}<td style="padding-left:10px;">${dateMngr.getDateAndYear(attribute.startTime)}</td>{{else}}<td style="padding-left:10px;">Active</td>{{/if}}{{if attribute.endTime}}<td style="padding-left:10px;">${dateMngr.getDateAndYear(attribute.endTime)}</td>{{else}}<td style="padding-left:10px;">Active</td>{{/if}}<td style="padding-left:10px;">${attribute.attributeValue}</td></tr>{{/each}}{{/each}}</table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="reCalculateBillingTemplate"><div class="dateTable"><form id="dateRangeForm"><table class="tablestyle1"  cellspacing="0px" style="width:400px;"><tr><td>Date</td><td><input class="datePicker" name="startTime" type="text" value="" style="width:75px;" title="Date format: dd-MM-yyyy" /></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="submit" class="buttonstyle1" value="Submit"/><input type="reset" class="buttonstyle1" name="cancel" value="Cancel"/></td></tr></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="createProject"><div class="width: 600px;"><form  method="post" name="createProject"><table  class="project modern-table modern-table-inverse" style="position:relative;margin-top:0px;width:550px;"><tbody><tr><td  style="width: 30%;"><label class="modern-label">Team Name<span class="mandatory" >*</span></label></td><td>{{if STW.Cache.isProjectManagerDisableTeamUpdate() == false || STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM }}<input mandatory="true" class="modern-input" type="text" name="name" value="" maxlength="50" title="1 to 50 characters" style="float: left;">{{else}}<span>${project.name}</span>{{/if}}<span class="nameCheck" style="float: left; clear: both" ></span></td></tr><tr><td><label class="modern-label">Team Manager</label></td><td><div class="editProjectManager"  style="height: 40px;"><div id="searchProjectManager" class="modern-combo" style="margin-bottom: 3px; float: left; width:90%"></div>{{if STW.Cache.isMultiSpocEnabled() && (STW.Cache.isProjectManagerDisableTeamUpdate() == false|| STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM)}}<a class="addManager" title="Add another manager"><img src="img/Plus.png" style="margin-top:5px"/></a>{{/if}}<input type="hidden" name="managerId"></div></td></tr>{{if STW.Cache.isMultiShiftCutoffEnabled() && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<tr><td><label class="modern-label"> Shift Category</label></td><td><select name="keyword" class="modern-select">{{each(index, keyword) keywordList}}<option value="${keyword}">${keyword}</option>{{/each}}</select></td></tr>{{else}}<input type="hidden" name="keyword" value="${keywordList[0]}" />{{/if}}<tr><td><label class="modern-label"> Description</label></td><td><textarea type="text" value="" name="descr" maxlength="100" title="0 to 100 characters"></textarea><span></span></td></tr><tr><td style="vertical-align: middle;"><label class="modern-label"> Send Notification To <span class="send-note-info" id="sendNote" title="The No-Show Email will be sent to the TMs only if their names are added here"><img src="img/ic-action-info-24.svg"/></span></label></td><td><div style="vertical-align: top;" id="send-notification-to" class="disabled-team-div"></div></td></tr>{{if STW.Cache.isWomenEmployeeSignOffVerificationThroughIVREnabled() && (( STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_TM|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_SITE_ADMIN || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_TRANSPORT_MANAGER_NO_BILLING|| STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_TRANSPORT_MANAGER_NO_COMPLIANCE)) }}<tr><td><label class="modern-label">Drop Verification Escalation</label></td><td><div id="drop-notification-to" class="disabled-team-div"></div></td></tr><tr><td colspan="2" style="text-align: right;"><label style="font-style: italic; font-size: 11px">Emails should be comma separated</label></td></tr>{{/if}}<tr class="centerAlign"><td colspan="2"><a class="addEditComment modern-link" style="float: left;">Comment</a><a class="projectEditHistory modern-link" style="float: right;">History</a></td></tr><tr class="projectCommentBox" style="display: none;"><td colspan="2"><textarea rows="4" cols="" name="comment"></textarea><span></span></td></tr><tr class="projectHistoryBox" style="display: none;"></tr><tr style="height:70px; border-top: 1px solid #E0E0E0;"><td colspan="2" style="text-align: right; border-bottom: none;"><input type="reset" class="secondary-btn" name="cancel" value="Cancel"/>{{if STW.Cache.isProjectEditOptionDisabled() == false  && !(RoleUtils.isProjectManagerRole() && STW.Cache.isProjectManagerDisableTeamUpdate())}}<input type="submit" class="primary-btn" id="submit" value="Update" >{{/if}}</td></tr></tbody></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="add-manager-template"><div class="editProjectManager" style="height: 40px;"><div id="searchProjectManager" class="modern-combo" style="margin-bottom: 3px; float: left; width:90%"></div>{{if STW.Cache.isProjectManagerDisableTeamUpdate() == false || STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<a class="removeManager" title="Remove Manager"><img src="img/Minus.png" style="margin-top:5px" /></a>{{/if}}<input type="hidden" name="managerId"></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="send-notification-template">{{each(index, spoc) spocList}}<div class="searched-text-main-div"><span class="searched-text-main-span"><div class="search-text" id="selected-spoc">${spoc.name} (${spoc.eid}) </div><div class="cross" id="${spoc.stwId}"></div></span></div>{{/each}}<textarea name="search-spoc-textarea" class="disable-teams-textarea" id="search-spoc-textarea"></textarea></span></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="drop-notification-template">{{each(index, spoc) dropSpocList}}<div class="searched-drop-text-main-div"><span class="searched-drop-text-main-span"><div class="search-text" id="selected-drop-spoc">${spoc.name} (${spoc.eid}) </div><div class="cross" id="${spoc.stwId}"></div></span></div>{{/each}}<textarea class="disable-teams-textarea" id="search-drop-spoc-textarea"></textarea><span></span></script></div><div class="TC"><script id="role-change-confirmation-table" type="text/x-jquery-tmpl"><div><form name="confirmForm"><table style="width: 350px; text-align: center;"><tr><td ><textarea name="comment" mandatory="true" style="width:100%; height:200px;"></textarea></td></tr><tr><td style="text-align: center; background-color: #FFF;"><input type="button" name="confirmChanges" class="buttonstyle1" value="Confirm" /></td></tr></table></form></div></script></div><div class="TC"><script id="cab-list-with-issuses-table" type="text/x-jquery-tmpl"><div class="cabs_issues"><div class="cab-list"><table class="cab-issues-table insidewidget tablestyle1" style="margin-top: 20px;width:70%;" cellspacing="0px"><thead class="cab-thead"><tr><th class="cab-sn  leftrad roleBasedAccess" functionalities="bill_edit"><input type=checkbox class="selectAllCabs" /></th><th>S. No.</th><th class="cab-cabid">Vehicle Id (Contract)</th><th class="cab-type">Vehicle Type</th><th class="cab-cabid">License Plate</th><th class="cab-issues-details" style="width:45%">Issue Details</th><th class="cab-issues-details roleBasedAccess" functionalities="bill_edit">Action</th><th class="cab-office rightrad">Office<span style="float: right; width: 10px;"><img class=sortByOfficeUp title="Sort by office ascending" alt="Not Found" src="img/up-arrow.png" style="cursor: pointer;"><img class=sortByOfficeDown title="Sort by office descending" alt="Not Found" src="img/down-arrow.png" style="cursor: pointer;"></span></th></tr></thead><tbody></tbody></table></div></div></script></div><div class="TC"><script id="cab-list-with-issuses-row" type="text/x-jquery-tmpl"><tr><td class="cab-input roleBasedAccess" functionalities="bill_edit"><input type=checkbox class="selectCab" value=${cabIssue.getCabId()} /></td><td class="cab-sn">${rowIndex+1}</td><td class="cab-cabid">${cabIssue.getCabDisplayAndShortCode()}</td><td class="cab-type">${cabIssue.getCabType()}</td><td class="cab-cabid">${cabIssue.getCabIdentification()}</td><td class="cab-issue-details">{{each(j, issue) cabIssue.cabDayIssues.issues}}${issueType.getIssueTypeText(type)}{{if j!= cabIssue.cabDayIssues.issues.length}},&nbsp{{/if}}{{/each}}{{each(i, duty) dutyIssues}}{{each(j, issue) issues}}${issueType.getIssueTypeText(type)}{{if j!= issues.length}},&nbsp{{/if}}{{/each}}{{/each}}</td><td class="cab-details roleBasedAccess" functionalities="bill_edit" id="${cabIssue.getDisplayCabId()}">{{if cabIssue.cabDayIssues.issues[0] && cabIssue.cabDayIssues.issues[0].type == "9"}}<a href='javascript:{"index":"${rowIndex}","displayName":"Vehicle Issue Details","method":"getZeroDutyIssue","cabId":"${cabIssue.getCabId()}","date":"${date}"}' >Fix</a>{{else}}<a href='javascript:{"index":"${rowIndex}","displayName":"Vehicle Issue Details","method":"getCabIssues","cabId":"${cabIssue.getCabId()}","date":"${date}"}' >${cabIssue.getIssueCount()} Issues</a>{{/if}}</td><td class="cab-office">${billingIssueDetails.getOfficeName(cabIssue)}</td></tr></script></div><div class="TC"><script id="cabIssuesTableTemplate" type="text/x-jquery-tmpl"><div style="text-align: center;">{{if STW.Cache.isAutoMergeDutiesEnaled()}}<input type="button" name="autoMergeDuties" value="Auto Merge Duties" disabled="disabled" class="buttonstyle1 roleBasedAccess" functionalities="bill_edit" style="margin-right:20px;" />{{/if}}{{if STW.Cache.isBillingDashboardOfficeFilterEnabled()}}<span>Office:</span><select class="selectedOffice" style="display:none;height: 25px;margin: 0 5px;"></select>{{/if}}<input class="datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly style="width:100px;margin-left:10px;"><span class="vendorCombo" style="margin-left: 10px;"><select name="vendor.id" style="height: 25px;"></select></span><input type="button" class="buttonstyle1 roleBasedAccess" functionalities="bill_edit" name="bulkIssueResolve" value="Resolve Issues" style="margin-left:20px;" /></div><div class="autoMergeStatus" style="text-align: center;margin-top: 10px"></div><div class="cabIssuesTable"></div></script></div><div class="TC"><script id="autoMergeHoursTemplate" type="text/x-jquery-tmpl"><div style="text-align: center;width:400px;"><table><tr><td><span style="margin-left: 10px;">Gap Hours</span></td><td><input name="gapHours" type="text" value="${STW.Cache.billingAutoMergeGapHours()}" style="width: 40px;" /></td></tr><tr><td><span style="margin-left: 10px;">Maximum Cap Hours</span></td><td><input name="maxCapHours" type="text" value="${STW.Cache.billingAutoMergeMaxCapHours()}"  style="width: 40px;" /></td></tr></table><div><input type="button" name="autoMergeDuties" value="Auto Merge Duties" class="buttonstyle1" style="margin-left:20px;" /></div></div></script></div><table><tbody><tr><td><span style="margin-left: 10px;">Gap Hours</span></td><td><input name="gapHours" type="text" value="${STW.Cache.billingAutoMergeGapHours()}" style="color: rgb(128, 128, 128);"></td></tr><tr><td><span style="margin-left: 10px;">Maximum Cap Hours</span></td><td><input name="maxCapHours" type="text" value="${STW.Cache.billingAutoMergeMaxCapHours()}" style="color: rgb(128, 128, 128);"></td></tr></tbody></table><div class="TC"><script id="schedule-history-dialog-tmpl" type="text/x-jquery-tmpl"><div id="schedule-history-dialog"><div id="schedule-history-controls"><table class="modern-table"><tr>{{if RoleUtils.isEmployeeRole() == false }}<td><div class="employeeAuditSearch" style="margin-top: 25px;"></div></td>{{/if}}<td class="modern-date-container" style="position: inherit; float: inherit"><div style="padding-bottom: 5px;" class="modern-label">From Date</div><input class="datePicker modern-date-picker" name="start-date" type="text"	value="" title="Date format: dd/MM/yyyy" style="width: 100%;" disabled /></td><td class="modern-date-container" style="position: inherit; float: inherit"><div style="padding-bottom: 5px;" class="modern-label">To Date</div><input class="datePicker modern-date-picker" name="end-date" type="text" value="" title="Date format: dd/MM/yyyy" style="width: 100%;" disabled /></td><td><input name="GO" value="GO" type="submit"  style="margin-top: 25px;height: 40px !important;" class="primary-btn"/><span class="history-info" data-toggle="tooltip" title="All history older than 2 months will be/has been archived"><img width="30" src="img/ic-action-info-24.svg"/></span></td></tr></table></div><div id="schedule-history-table"></div></div></script></div><div class="TC"><script id="shift-cutoff-history-dialog-tmpl" type="text/x-jquery-tmpl"><div id="shift-cutoff-history-dialog"><div id="shift-cutoff-history-controls" style="border-bottom: 1px solid #E0E0E0;"><div class="p-3 d-flex"><div class="col"><label class="modern-label pl-0">Shift Type:</label><select name="shiftType" class="modern-select"><option value="0">Login</option><option value="1">Logout</option></select></div><div class="col"><label class="modern-label pl-0">Shift:</label><select name="shift" class="modern-select"><option value="0">All</option></select></div><div class="col"><label class="modern-label pl-0">Shift Category:</label><select name="category" class="modern-select">{{each(i, keyword) STW.Cache.getShiftKeywords()}}<option value="${keyword}">${keyword}</option>{{/each}}</select></div><div class="col"><label class="modern-label pl-0">Cut-Off Type:</label><select name="cutOffType" class="modern-select"><option value="ALL">All</option><option value="ScheduleEdit">ScheduleEdit</option>{{if STW.Cache.isAdhocRequestFeatureEnabled() == true }}<option value="ScheduleAdHoc">ScheduleAdHoc</option>{{/if}}{{if STW.Cache.isTripCancellationFeatureEnabled() == true }}<option value="ScheduleCancel">ScheduleCancel</option><option value="ScheduleNoShow">ScheduleNoShow</option>{{/if}}</select></div><div class="modern-date-container col" style="position: inherit; float: inherit;"><label class="modern-label pl-0">Changed Up to Date:</label><input class="datePicker modern-date-picker" name="end-date" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" disabled /></div><div class="pl-2 pt-3 mt-3"><input name="GO" value="GO" type="submit" class="primary-btn"/></div></div></div></div><div id="shift-cutoff-history-table" style="width: 1050px; height: 500px; overflow: auto;"></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="createCostCenterTemplate"><div class="createCostCenter insidewidget" style="width: 400px;"><form class="createCostCenterForm"><table><tr><td>Cost Center name</td><td><input type="text" name="costCenterName"style="float: right;" mandatory="true" maxlength="50"></td></tr><tr><td>Description</td><td><input type="text" name="costCenterDesc" maxlength="120"></td></tr><tr><td colspan="2" style="text-align: center;"><input type="submit" class="buttonstyle1" value="Save" /></td></tr></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="createDepartmentTemplate"><div class="createDepartment" style="width: 400px;"><form class="createDepartmentForm"><table class="modern-table modern-table-inverse"><tr><td class="modern-label">Business Unit name</td><td><input type="text" name="departmentName" class="modern-input"style="float: right;" mandatory="true" maxlength="50"></td></tr><tr><td class="modern-label">Description</td><td><input type="text" name="departmentDesc" class="modern-input" maxlength="120"></td></tr><tr><td colspan="2" style="text-align: center;" class="p-3"><input type="submit" class="primary-btn" value="Save" /></td></tr></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="hackathonTemplate"><div id="mapSection" style="border: 1px solid #CCC; height: 750px;"></div><div class="circleCont" style="display: none;"><div><span></span></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="cabTypeListTemplate"><table  id="cab-type-management" class="modern-table"><thead><tr><th class="s-no"> S. No.</th><th>Vehicle Type Name</th><th>Description</th>{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<th> Usage Type</th>{{/if}}<th>Total Capacity</th><th>Fuel Type</th><th class="roleBasedAccess customTable-action" functionalities="bill_edit">Action</th></tr></thead>{{each(i, cabType) cabTypeList}}<tr><td>${i+1}</td><td>${cabType.name}</td><td>${cabType.description}</td>{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<td>${cabType.usageType}</td>{{/if}}<td>${cabType.maxCapacity}</td><td>${cabType.fuelType}</td><td class="roleBasedAccess text-center" functionalities="bill_edit "><a class="edit" index=${i} id="editCabrowData.displayCabId"><img src="img/edit-pencil.svg" alt=""></a></td></tr>{{/each}}</table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="createEditCabType"><div class="reportTable setting_popup_wrapper"><div id="cab-management"><span class="heading setting_popup_heading" ></span><img class="close" src="img/close-cross.png" alt=""></div><form><table class="setting_popup_table" id="add-cab-type"><tbody><tr><td> <label class="setting_popup_label">Vehicle Type Name</label><span class="mandatory setting_popup_mandatory">*</span></td><td><input class="custom_input_new" type="text" name="name" mandatory="true" maxlength="30" title="1 to 30 characters"/></td></tr><tr><td> <label class="setting_popup_label">Description</label></td><td><input type="text" name="description" class="custom_input_new" maxlength="100" title="0 to 100 characters"/></td></tr><tr><td><label class="setting_popup_label"> Capacity</label><span class="mandatory setting_popup_mandatory">*</span></td><td><input class="custom_input_new" type="text" name="maxCapacity" mandatory="true" maxlength="3" /></td></tr><tr><td style="display:none; color:red;" id="capacityError"></td></tr>{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<tr><td class="setting_popup_label">Usage Type</td><td><select class="custom_select_new" name="usageType"><option value="CAB">Vehicle</option><option value="SHUTTLE">Shuttle</option></select></td></tr>{{/if}}<tr><td><label class="setting_popup_label">Fuel Type</label></td><td><select class="custom_select_new" name="fuelType"><option value="Petrol">Petrol</option><option value="Diesel">Diesel</option><option value="CNG" >CNG</option><option value="Electric">Electric</option></td></tr><tr><td><a class="addCabTypeComment setting_popup_actions">Comment</a></td><td><a class="cabTypeHistory setting_popup_history">History</a></td></tr><tr class="cabTypeCommentBox" style="display: none;"><td colspan="2" class="p-0"><textarea rows="3" name="cabTypeComment" class="custom_input_new"></textarea></td></tr><tr class="cabTypeHistoryBox" style="display: none;"><td colspan="2" class="custom_input_new p-0"></td></tr ><tr class="saveButton"><td colspan="100%"  class="p-0"><div class="setting_popup_footer"><button class="success-btn float-end" type="submit">Save</button></div></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="routeCopy-tmpl" type="text/x-jquery-tmpl"><div><form name="fullDayCopyForm" method="post"><div style="text-align: center;"><table style="margin-top: 0; width: 600px;" class="routeCopy form-table"><thead></thead><tbody><tr><td><label>Base Date</label></td><td class="modern-date-container" style="float: initial; position: inherit;"><input class="datePicker modern-input" name="baseDate" type="text" value="" title="Date format: dd/MM/yyyy" /></td></tr><tr class="copyOptionsLink"><td colspan=2><label><a class="seeCopyPattern modern-link">See Other Base Date Options</a></label></td></tr><tr class="copyOptionBaseDateRecommendationNotAvailable"><td>Recommendation is not available for multiple shifts</td></tr><tr><td style="width: 30%"><label>Target Date</label></td><td>${date}</td></tr><tr><td style="width: 50%"><label>Target Shift</label></td><td><label style="padding: 0" name="shift">${selectedShifts}</label></td></tr>{{if STW.Cache.getNodalVisibility() && false}}<tr><td><label>Pickup/Drop</label></td><td><select name="localityType" class="modern-input"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Home</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select name="femaleConstraint" class="modern-input"><option value="1">Same as Shift</option><option value="2">First/Last Female</option><option value="3">Second/SecondLast Female</option><option value="4">Any Female</option><option value="0">Disable</option></select></td></tr>{{if STW.Cache.isCopyRoutesAutoAdjustEnabled()}}<tr><td><label>Auto Adjust Unmatched Employees</label></td><td><input type="checkbox" style="width:24px;height:24px" value="true"	name="autoAdjustUnmatchedEmployee" checked="checked"></td></tr>{{/if}}{{if STW.Cache.isCopyRoutesAutoAdjustEnabled()}}<tr class="fleetmixOptions"><td colspan="2"><a class="showFleetMix modern-link" style="padding-left: 10px;">Specify Fleet Mix</a></td></tr>{{each(k, cabType) fleetMix}}<tr class="fleetmixOptions fleetMix" style="display: none;"><td colspan="2"><div class="fleet-mix-wrapper"><label>${maxCapacity} seaters</label><div><select name="localityType" class="modern-input"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select><input type="number" name="fleetSize.${maxCapacity}" value="${fleetMixValue}" maxLength="4" class="modern-input"></div></div></td></tr>{{/each}}{{/if}}<tr><td><label> Copy Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="copyCabs" type="checkbox" value="true" id="copyCabs" checked><label for="copyCabs"></label></div></td></tr>{{if isBlocked == undefined || isBlocked == "warn"}}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="ncCab" checked><label for="ncCab"></label></div></td></tr>{{/if}}{{if isBlocked == "block" }}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="nonComCab" disabled><label for="nonComCab"></label></div></td></tr>{{/if}}<tr><td colspan="2" style="border-top: 1px solid #E0E0E0;text-align: right"><input type="submit" class="primary-btn" value="Copy Routes" name="copyRoutes"></td></tr></tbody></table></div></form></div></script></div><div class="TC"><script id="interShiftRouteCopy-tmpl" type="text/x-jquery-tmpl"><div><form name="fullDayCopyForm" method="post"><div style="text-align: center;"><table style="margin-top: 0; width: 600px;" class="routeCopy form-table"><thead></thead><tbody><tr><td><label>Base Date</label></td><td class="modern-date-container" style="float: initial; position: inherit;"><input class="datePicker modern-input" name="baseDate" type="text" value="" title="Date format: dd/MM/yyyy" /></td></tr><tr><td style="width: 50%"><label>Base Shift</label></td><td><span name="baseShift">{{html shiftMngr.getInterShiftOptions(shifts[0])}}</span></td></tr><tr class="copyOptionsLink"><td colspan=2><label><a class="seeCopyPattern modern-input" style="border:none">See Copy Options</a></label></td></tr><tr><td style="width: 30%"><label>Target Date</label></td><td>${date}</td></tr><tr><td style="width: 50%"><label>Target Shift</label></td><td><label style="padding: 0" name="shift">${selectedShifts}</label></td></tr>{{if STW.Cache.getNodalVisibility() && false}}<tr><td><label>Pickup/Drop</label></td><td><select name="localityType" class="modern-input"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Home</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select name="femaleConstraint" class="modern-input"><option value="1">Same as Shift</option><option value="2">First/Last Female</option><option value="3">Second/SecondLast Female</option><option value="4">Any Female</option><option value="0">Disable</option></select></td></tr><tr><td><label> Copy Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="copyCabs" type="checkbox" value="true" id="copyCabToggle" checked><label for="copyCabToggle"></label></div></td></tr>{{if isBlocked == undefined || isBlocked == "warn" }}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="nonCompliCab" checked><label for="nonCompliCab"></label></div></td></tr>{{/if}}{{if isBlocked == "block" }}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="blockedCopyCabs" disabled><label for="blockedCopyCabs"></label></div></td></tr>{{/if}}<tr><td colspan="2" style="border-top: 1px solid #E0E0E0;text-align: right"><input type="submit" class="primary-btn" value="Copy Routes" name="generateRoute"></td></tr></tbody></table></div></form></div></script></div><div class="TC"><script id="affinity-routeCopy-tmpl" type="text/x-jquery-tmpl"><div><form name="fullDayCopyForm" method="post"><div style="text-align: center;"><table style="margin-top: 0; width: 600px;" class="routeCopy form-table"><thead></thead><tbody><tr><td><label>Date</label></td><td>${date}</td></tr><tr><td style="width: 50%"><label>Shift</label></td><td><span name="shift">${selectedShifts}</span></td></tr>{{if STW.Cache.getNodalVisibility() && false}}<tr><td><label>Pickup/Drop</label></td><td><select name="localityType" class="modern-input"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select name="femaleConstraint" class="modern-input"><option value="1">Same as Shift</option><option value="2">First/Last Female</option><option value="3">Second/SecondLast Female</option><option value="4">Any Female</option><option value="0">Disable</option></select></td></tr><tr><td><label> Copy Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="copyCabs" type="checkbox" value="true" id="femaleCab" checked><label for="femaleCab"></label></div></td></tr>{{if isBlocked == "warn" }}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="femaleNoncompli" checked><label for="femaleNoncompli"></label></div></td></tr>{{/if}}{{if isBlocked == "block" }}<tr id="trCount"><td colspan="2"><label> Of All Vehicle-Driver pairs, <a id="ncccount" class="view">${nonCompliantCabsCount}</a> are non-compliant as of today</label></td></tr><tr id="trCheck"><td><label>Copy Non-Compliant Cabs</label></td><td class="text-right"><div class="modern-switch"><input name="ncCabsCb" type="checkbox" value="true" id="blockFemalecab" checked><label for="blockFemalecab"></label></div></td></tr>{{/if}}<tr><td colspan="2" style="border-top: 1px solid #E0E0E0;text-align: right"><input type="submit" class="primary-btn" value="Generate Routes" name="generateRoute"></td></tr></tbody></table></div></form></div></script></div><div class="TC"><script id="mergeSchedule-tmpl" type="text/x-jquery-tmpl"><div><form name="mergeScheduleForm" method="post"><div style="text-align: center;"><table class="mergeSchedule formtable merge-shedule-table" style="width:400px; margin-top: 0px"><thead></thead><tbody><tr class="merger-route-selector-wrapper"><td><label>Office</label></td><td><select name="offices"><option value="0">Select Office</option>{{each(k, office) STW.Cache.getOfficeList()}}<option value="${id}">${address}</option>{{/each}}</select></td></tr><tr class="merger-route-selector-wrapper"><td><label>Shift</label></td><td><select	name="shifts"><option value = "-1">Select</option></select></td></tr><tr class="comment-wrapper"><td><label>Comment</label></td><td><textarea rows="3" name="mergeScheduleComment" id="mergeScheduleComment" style="width:98%;"></textarea><div class="commentEmptyError" style="display: none; color: red;"></div></td></tr><tr class="merge-route-btn-wrapper"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1 wis-btn-md"  style="background-color: #99CA3B;" name="mergeSchedules" value="Submit"></td></tr></tbody></table></div></form></div></script></div><div class="TC"><script id="affinity-based-route-copy-template" type="text/x-jquery-tmpl"><div><form name="affinityCopyForm" method="post"><div style="text-align: center;" class="fixTableHead"><table style="margin-top: 0; width: 510px;" class="affinityCopyTable modern-table"><tr><th></th><th>Date</th><th>Shift</th><th>Routed</th><th>Custom</th></tr>{{each(i, copyOption) copyOptionList}}<tr><td>{{if selectedDate == dateMngr.getDateOnly(baseDate) && (selectedShift == undefined || selectedShift == baseShift.id)}}<input type="radio" name="copyOptionIndex" class="affinityBaseDate" value="${i}" checked=checked />{{else}}<input type="radio" name="copyOptionIndex" class="affinityBaseDate" value="${i}" />{{/if}}</td><td>${dateMngr.getDateInWords(baseDate)}</td><td>${shiftMngr.getTypeWithTime(baseShift.id)}</td><td>${routedEmpCount}</td><td>${customEmpCount}</td></tr>{{/each}}</table><div class="modern-table-footer"><input style="border: none;" type="reset" class="cancel secondary-btn" name="cancel" value ="Cancel"/><input type="submit" class="primary-btn" value ="Save"/></div></div></form></div></script></div><div class="TC"><script id="shifts-non-compliant-cabs-template" type="text/x-jquery-tmpl"><div><form name="shiftNonCompCabsForm" method="post"><div style="text-align: center;"><table class="shiftNonCompCabsTable formtable" style="width: 350px; margin-top: 0px"><tr><th>Vehicle Id</th><th>Vehicle Number</th><th>Driver Name</th><th>Driver mobile Number</th></tr>{{each(i, cab) cabList}}<tr><td>${displayCabId}</td><td>${identification}</td><td>${driverName}</td><td>${driverContactNo}</td></tr>{{/each}}</table></div></form></div></script></div><div slctr="cabSearchTemplate" class="TC"><div><form method="post" name="searchCab"><table class="insidewidget tablestyle1" style="margin-top:0px"><tbody><tr><td style="width:50%"><label>Enter Vehicle Regd No. </label></td><td><input type="text" value="" name="id" style="color: rgb(128, 128, 128);"></td></tr><tr><td colspan="2"><span class="errorMsg"></span></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input class="buttonstyle1" type="submit" value="Search"><input type="reset" class="buttonstyle1" value="Cancel" name="cancel"></td></tr></tbody></table></form></div></div><div class="TC"><script id="route-editor-template" type="text/x-jquery-tmpl"><div id="routeEditor" style="background-color: white;"><div id="tempBackgroundLoader" tabindex="34" style="z-index:999; height: 97%; width: 97%; background-color: white; position:absolute"><div class="imgClass" style="display: block; left: 20px; top: 30.5px;"><img src="img/ajax-loader.gif" /><br /> <br />Loading...</div><div class="loading-fail" style="margin:40% 0 0 60%; position: absolute;"></div></div><div id="mapContainer" style="width: 50%;"><div class="reloadDiv" style="display:none;"><div><img style="margin-right: 10px;" alt="" src="img/warning.png">Looks like you have been on this page for a while now. Google Maps uses a lot of system memory which slows down your browser.</div><div>Click on<input type="button" class="reloadMap buttonstyle1" value="Refresh now" />to refresh your browser and improve your browser performance. Rest assured, no data will be lost.</div></div><div class="show_only_map_data" style="margin-left: 19px;"><div class="top-sectors modern-top-sector"></div></div><div class="show_only_map_data orient_vert"><div class="left-sectors modern-left-sector"></div></div><div class="orient_vert" id="map_canvas"></div><div class="show_only_map_data orient_vert"><div class="right-sectors modern-right-sector"></div></div><div id="bottomSectorCont" class="show_only_map_data" style="margin-left: 19px; width:100%"><div  class="bottom-sectors modern-bottom-sector"></div></div><div class="clearMapButton modern-clear-map-button"><span><img class="clearMap" src="img/ClearMap.svg" title="clear map or ctrl+m"></span></div><div id="errorDiv"></div></div><div id="routeInfoContainer" style="width: 50%; height:100%; overflow: auto;"><style>.buttonstyle1 { min-height: 25px;};</style><div class="roleBasedAccess" functionalities="tripsheet_manage"><div class="duplicateEmployee" style="background-color:yellow; color:red; resize:vertical; overflow:auto; max-height:100px; display:none;"></div><div id="Actions"><div class="chosen tripsheet-manage-top" style="text-align: left;"><div class="tripsheet-manage-top-mid modern-chosen-div tripsheet-modern-select"><select data-placeholder="Choose a filter..." class="SlectBox" style="width:200px;" tabindex="4"></select><div class="tripsheet-manage-top-body"><input type="checkbox" style="margin-left: 10px;" id="route-sort-order">Sort in reverse<select id="sort-route" style="margin-left: 10px; margin-top: 5px;"><option value="default"> Default </option><option value="landmark"> Landmark </option><option value="nodal"> Nodal </option><option value="count"> count </option>{{if STW.Cache.isPhysicalIdEnabled()}}<option value="physicalid"> PhysicalId </option>{{/if}}</select></div></div><span class="shiftDetails" style="margin-left: 10px; font-weight: bold; margin-top: 5px;margin-right:20px"></span></div><div class="fleetMix" style="text-align: left; margin-top: 5px;font-size:14px"></div><div style="text-align: left;"><span><a class="femaleConstraint modern-link" style="display: none;">Routes with female constraint<img style="margin-left: 5px;" alt=""src="img/warning.png"></a> </span></div><div class="searchResults"></div><div class="searchBox tripsheet-manage-search"></div></div><div style="text-align: left;"><span><a class="femaleConstraint modern-link" style="display: none;">Routes with female constraint<img style="margin-left: 5px;" alt=""src="img/warning.png"></a> </span></div><div class="customTable" style="margin: 25px 0px;"><div class="loader" style="display: none;"><img src="img/ajax-loader.gif" style="width: 30px;" /><br><span>Getting Suggestions</span></div><div style="border: 1px solid #CCCCCC;"><div class="show-hide" style="height: 15px;background:#99BAF7;display:flex;align-items:center;padding:12px"><div class="show-hide-text" style="float: left; width: 90%;font-size:14px;">Hide Unrouted Employees</div><div class="customEmpCount" style="float: right;margin-right: 5px;font-size:14px"></div></div><div class="customEmployeeAction" style="text-align: left;"><span style="margin-left: 10px;" id="assignNewRoute"><a class="assignNewRoute" title="Adjust in a new route"> <img alt="" src="img/assign_new_route.png"></a></span><span style="margin-left: 10px;"id="reloadBestFit"> <a class="reloadBestFit"title="Reload suggestions"> <img alt="" src="img/refresh.png"></a></span><span style="margin-left: 10px;"id="suggestBestRoute"> <a class="suggestBestRoute"title="Show top three suggestions"> <img style="width: 22px;" alt="" src="img/suggestBestRoute.png"></a></span><span style="margin-left: 10px;" id="acceptSuggestion"><a class="acceptSuggestion" title="Adjust employees in suggested routes"><img alt="" src="img/apply.png"></a></span></div><div><form><table class="customEmployeeTable formtable popup-table border-less-table"></table></form></div></div></div><div id="routeSourceRadio" class="tripsheet-manage-radio" style="height: 30px; padding-top: 2px; font-weight: bold; display: none; margin-top: 20px;"><!-- NORMAL = 1, SHUTTLE = 3; refer to RouteTripSheet.js --><input type="radio" name="routeSource" value="AUTO">Vehicle Routes<input type="radio" name="routeSource" value="MANUAL">Shuttle Routes</div><div class="routeActions manage-route-action" style="text-align: left;padding-bottom: 16px;"><select class="roleBasedAccess" functionalities="assign_vendor" name="assignVendor" style="vertical-align:middle"></select><input type="button" class="buttonstyle1 roleBasedAccess wis-btn-sm" functionalities="assign_vendor" name="assignVendor" value="Assign Vendor" style="padding:16px;vertical-align:middle" /><input type="button" class="buttonstyle1 mergeRoutes wis-btn-sm" name="mergeRoutes" value="Merge Routes" style="float:right;padding:16px;vertical-align:middle" /></div></div><div class="sectorCont"></div><div class="historyCont" style="text-align: right"><a class="seeMoreHistory modern-link" style="margin-left: 5px;">History</a></div><div style="text-align: left; margin-left: 10px;" class="route-editor-bottom"><img src="img/female.svg" style="height: 15px;"><span> - Women in route</span> <br><img alt="" src="img/Over-capacity.svg" style="height: 15px;"><span> - Over Capacity</span> <br><img src="img/marshal.svg" style="height: 15px;"><span> - Marshal Required</span> <br><img src="img/b2b-icon-th.svg" style="height: 15px;"><span> - Back to Back trips</span> <br><img src="img/adhoc.svg" alt=""><span> - Trip with special need employees</span> <br> <br><span> Ctrl-m to clear map</span> <br><span> Ctrl+Shift+L to search</span></div><div class="modifications" style="text-align: left; margin-top: 10px;"></div></div><div id="hiddenDiv"></div></div></script></div><div class="TC"><script id="back2BackBulkTemplate" type="text/x-jquery-tmpl"><div style="width:500px;padding: 10px;"><div class="b2bMessage" style="line-height: 20px;">One or more trips are Back to Back. The vendor will also be allocated to paired Back to Back. Do you want to go ahead?</div><div style="text-align:center;"><input type="button" class="saveB2BButton buttonstyle1" value="OK"><input type="button" class="cancelB2BButton buttonstyle1" value="Cancel"></div></div></script></div><div class="TC"><script id="emp_list" type="text/x-jquery-tmpl"><div class="empInfo" style="padding:10px"><table class="tablestyle1 popup-table" style="margin-top:0px;margin:0px !important" cellspacing="0" ><thead><tr><th><span>S. No</span></th>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM)}}<th><span>Id</span></th>{{/if}}<th><span>Name</span></th><th><span>Gender</span></th><th><span>Phone No.</span></th>{{if wRoute.route.dir=="IN"}}<th><span>PickUp Location</span></th>{{else}}<th><span>Drop Location</span></th>{{/if}}<th><span>Landmark</span></th><th><span>Shift Details</span></th><th><span>Trip Direction</span></th><th><span>Office</span></th><th><span>Start Time</span></th><th><span>Reach Time</span></th><th><span>Distance</span></th><th><span>Extra Distance</span></th><th><span>Service Level</span></th></tr></thead><tbody>{{each( i, emp ) empList}}<tr style="background-color:${emp.employee_status==STW.Constants.STATUS_ACTIVE?"White":"DarkGrey"};">{{if emp.routeAssignmentMechanism == "ADJUSTED"}}<td style="background-color:red;" title="Adjusted Route"><span>${i+1}</span>{{else}}<td><span>${i+1}</span>{{/if}}{{if emp.isSpecialNeed == true}}<img src="img/adhoc.svg" title="${emp.specialNeedType}" style="margin-left: 10px;" alt="">{{/if}}{{if STW.Cache.isBusPassIdentifierEnabled() == true && emp.busPass == true}}<img src="img/busPass.svg" title="Bus Pass" style="width: 20px; margin-left: 4px;" />{{/if}}</td>{{if ((STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR)&& (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td class="access-based-matrix" pii_id="EMP_ID"><span>${emp.eid}</span></td>{{else}}{{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{/if}}{{/if}}{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_NAME"><span>${emp.name}</span>{{if emp.scheduleType == STW.Constants.CUSTOM_DUE_TO_USER_REQUEST}}<span class="customHighlight">C<span>{{/if}}</td>{{/if}}<td class="access-based-matrix" pii_id="EMP_GEN"><span>${emp.gender==STW.Constants.FEMALE ? "Female" : emp.gender==STW.Constants.MALE ? "Male" :emp.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral" : "NA"} </span></td>{{if ((universalFun.hideEmployeePhoneNum(emp)== true) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td><span>${STW.Cache.hiddenInfoText()}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_MOB"><span>${emp.phone?emp.phone.split(",").join(", "):""}</span></td>{{/if}}{{if wRoute.route.dir=="IN"}}{{if (((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM) && (STW.Cache.isHideEmpAddressEnabled() == true)) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR)|| (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td class=emp-address>${STW.Cache.hiddenInfoText()}</td>{{else}}<td style="padding:0 5px; text-align:left" class="access-based-matrix" pii_id="EMP_ADDR"><span>${getEmpLocality(wRoute, i).address}</span></td>{{/if}}<td class="access-based-matrix" pii_id="EMP_ADDR"><span style="padding:0 5px; text-align:left">${getEmpLocality(wRoute, i).landmark}</span></td>{{else}}{{if (((STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM) && (STW.Cache.isHideEmpAddressEnabled() == true)) || (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR)|| (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR))}}<td class=emp-address>${STW.Cache.hiddenInfoText()}</td>{{else}}<td style="padding:0 5px; text-align:left" class="access-based-matrix" pii_id="EMP_ADDR"><span>${getEmpLocality(wRoute, i).address}</span></td>{{/if}}<td style="padding:0 5px; text-align:left" class="access-based-matrix" pii_id="EMP_ADDR"><span>${getEmpLocality(wRoute, i).landmark}</span></td>{{/if}}<td><span>${wRoute.route.shift == undefined ? "NA": wRoute.route.shift.hour +":"+wRoute.route.shift.minutes}</span></td>{{if wRoute.route.dir=="IN"}}<td><span>Login</span></td>{{else}}<td><span>Logout</span></td>{{/if}}{{if wRoute.route.dir=="IN"}}<td class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.dropLoc.address}</span></td>{{else}}<td class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.pickupLoc.address}</span></td>{{/if}}<td><span>${getTimeStart(wRoute.route, i)}</span></td><td><span>${getTimeEnd(wRoute.route, i)}</span></td><td><span>${universalFun.decimalRound( emp.onBoardDistance )}&nbsp;KM</span></td><td><span>${universalFun.decimalRound( emp.extraDistance )}&nbsp;KM</span></td><td><span>${universalFun.decimalRound((emp.onBoardDistance - emp.extraDistance)/ emp.onBoardDistance * 100)}%</span></td></tr>{{/each}}</tbody></table></DIV></script></div><div class="TC"><script id="route-summary-groups-tmpl" type="text/x-jquery-tmpl"><table class="modern-table"><thead style="height: 62px"><tr><th>Office</th><th>Shifts</th><th>Schedules</th><th>Shifts not routed</th><th>Trips not generated</th><th>Planned Trips (Cab+ Shuttle)</th><th class="rightrad" style="width: 100px;">Details</th></tr></thead><tbody>{{each(k, routeSummary) routeSummaryList}}<tr"><td>${getOffices(routeSummary.offices)}</td><td>${routeSummary.shiftCount}</td><td>${routeSummary.scheduleCount}</td><td>${routeSummary.routesNotGeneratedWithCutOffPassed}</td><td>${routeSummary.tripsheetsNotGeneratedWithCutOffPassed}</td><td>${routeSummary.tripsheetsGenerated}</td><td><a class="manageRoutes" officeIds="${getOfficeIds(routeSummary.offices)}"><img src="img/ic-action-edit-24.svg" alt=""></a></td></tr>{{/each}}</tbody></table><div class="uploadContainer roleBasedAccess" functionalities="syncdata_upload" style="float: right; margin-right: 400px;"></div></script></div><div class="TC"><script id="RouteListTemplate" type="text/x-jquery-tmpl"><div>{{each( k, route ) routeList}}{{if route.dir == "IN"}}<div class="aissignCabRouteInfo" routeId="${route.id}"><div>Route Id: ${route.id}{{if STW.Cache.isVendorAdditionalTripDetailsEnabled()}}(${getCabCapacity(route)}){{if route.b2bTrip == true}}<img class="b2bImage" src="img/b2b_new.svg" title="${getTripInfo(route)}" style="height: 20px; float:right;"/>{{/if}}{{each( k, emp ) route.employeeList}}{{if (emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE || emp.noShow == true) && emp.isSpecialNeed == true}}<span title="${emp.specialNeedType}"><img class="b2bImage" src="img/special_need_new.svg" style="height: 20px; float:right; padding-right:4px;"/></span>{{/if}}{{/each}}{{if route.marshallRequired == true}}<span><img src="img/marshal_new.svg" style="float:right; height: 20px; width: 20px;"></span>{{/if}}{{else}}{{if route.b2bTrip}}<img class="b2bImage" src="img/b2b-icon-th.png" style="height: 15px;"/>{{/if}}{{/if}}</div><div><b style="font-size: 14px;">First Pickup : <span class="access-based-matrix" pii_id="EMP_NODAL">${getFirstActiveEmployee(route).pickupLoc.landmark}</span></b></div><div>First Pickup Time : ${dateMngr.getTimeIn24Hours(getFirstActiveEmployee(route).pickupTime)}</div><div>Drop : <span class="access-based-matrix" pii_id="EMP_ADDR">"${getFirstActiveEmployee(route).dropLoc.address} (${getDistance(route)} km)</span></div>{{if STW.Cache.isVendorUnallocateTripEnabled()}}<hr><div class="unassign-trip" tripRouteId=${route.id} style="text-align: center; color:red;">Reject Trip</div>{{/if}}</div>{{else}}<div class="aissignCabRouteInfo" routeId="${route.id}"><div>Route Id: ${route.id}{{if STW.Cache.isVendorAdditionalTripDetailsEnabled()}}(${getCabCapacity(route)}){{if route.b2bTrip == true}}<img class="b2bImage" src="img/b2b_new.svg" title="${getTripInfo(route)}" style="height: 20px; float:right;"/>{{/if}}{{each( k, emp ) route.employeeList}}{{if (emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE || emp.noShow == true) && emp.isSpecialNeed == true}}<span title="${emp.specialNeedType}"><img class="b2bImage" src="img/special_need_new.svg" style="height: 20px; float:right; padding-right:4px;"/></span>{{/if}}{{/each}}{{if route.marshallRequired == true}}<span><img src="img/marshal_new.svg" style="float:right; height: 20px; width: 20px;"></span>{{/if}}{{else}}{{if route.b2bTrip}}<img class="b2bImage" src="img/b2b-icon-th.png" style="height: 15px;"/>{{/if}}{{/if}}</div><div><b style="font-size: 14px;">Pickup : <span class="access-based-matrix" pii_id="EMP_ADDR">${getFirstActiveEmployee(route).pickupLoc.address}</span></b></div><div>Pickup Time : ${dateMngr.getTimeIn24Hours(getFirstActiveEmployee(route).pickupTime)}</div><div>Last Drop : <span class="access-based-matrix" pii_id="EMP_NODAL">${getFirstActiveEmployee(route).dropLoc.landmark} (${getDistance(route)} km)</span></div>{{if STW.Cache.isVendorUnallocateTripEnabled()}}<hr><div class="unassign-trip" tripRouteId=${route.id} style="text-align: center; color:red;">Reject Trip</div>{{/if}}</div>{{/if}}{{/each}}</div></script></div><div class="TC"><script id="RouteInfoTemplate" type="text/x-jquery-tmpl">{{if route.dir == "IN"}}<div style="padding:5px;"><div><b style="font-size: 14px;">RouteId : ${route.id}</b></div>{{if route.cab != undefined }}<div><b style="font-size: 14px;">Allocated Vehicle : ${route.cab.displayCabId} (${route.cab.identification})</b><div><b style="font-size: 14px;">Driver Name : ${route.cab.driverName}</b>{{if STW.Cache.isVendorUnassignCabEnabled()}}<div class="unassign-cab" routeId="${route.id}" style="background-color: white; border:0px; float:right;">Unassign</div>{{/if}}</div>{{/if}}{{if STW.Cache.isPhysicalIdEnabled()}}{{if route.physicalId}}<div><b style="font-size: 14px;">Physical Id : ${route.physicalId}</b></div>{{else}}<div><b style="font-size: 14px;">Physical Id : NA</b></div>{{/if}}{{/if}}</div><table style="margin : 0;width:100%;"><tr><th>Employee Name</th><th>Landmark</th><th>Pickup Time</th><th>Drop</th></tr>{{each( k, emp ) route.employeeList}}<tr>{{if emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE || emp.noShow == true}}<td class="access-based-matrix" pii_id="EMP_NAME">${emp.name}{{if emp.gender == 1}}&nbsp;<b>(F)</b>{{else}}&nbsp;<b>(M)</b>{{/if}}{{if emp.isSpecialNeed == true}}<img  src="img/adhoc.svg" style="margin-left: 10px;" title="${emp.specialNeedType}"  alt="">{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">${emp.pickupLoc.landmark}</td><td>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</td><td class="access-based-matrix" pii_id="EMP_ADDR">${emp.dropLoc.address}</td>{{/if}}</tr>{{/each}}</table>{{if route.b2bTrip}}<div style="padding:5px;"><div><b style="font-size: 14px;">Back to Back RouteId : ${route.b2bTripDetails.tripId}</b></div></div><table style="margin : 0;width:100%;"><tr><th>Employee Name</th><th>Pickup</th><th>Pickup Time</th><th>Landmark</th></tr>{{each( k, emp ) route.b2bTripDetails.employees}}<tr>{{if emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE }}<td class="access-based-matrix" pii_id="EMP_NAME">${emp.name}{{if emp.isSpecialNeed == true}}<img  src="img/adhoc.svg" style="margin-left: 10px;" title="${emp.specialNeedType}"  alt="">{{/if}}</td><td class="access-based-matrix" pii_id="EMP_ADDR">${emp.pickupLoc.address}</td><td>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</td><td class="access-based-matrix" pii_id="EMP_NODAL">${emp.dropLoc.landmark}</td>{{/if}}</tr>{{/each}}</table>{{/if}}{{else}}<div style="padding:5px;"><div><b style="font-size: 14px;">RouteId : ${route.id}</b></div>{{if route.cab != undefined }}<div><b style="font-size: 14px;">Allocated Vehicle : ${route.cab.displayCabId} (${route.cab.identification})<b><div><b style="font-size: 14px;">Driver Name : ${route.cab.driverName}</b>{{if STW.Cache.isVendorUnassignCabEnabled()}}<div class="unassign-cab" routeId="${route.id}" style="background-color: white; border:0px; float:right;">Unassign</div>{{/if}}{{/if}}{{if STW.Cache.isPhysicalIdEnabled()}}{{if route.physicalId}}<div><b style="font-size: 14px;">Physical Id : ${route.physicalId}</b></div>{{else}}<div><b style="font-size: 14px;">Physical Id : NA</b></div>{{/if}}{{/if}}</div><table style="margin : 0;width:100%;"><tr><th>Employee Name</th><th>Pickup</th><th>Pickup Time</th><th>Landmark</th></tr>{{each( k, emp ) route.employeeList}}<tr>{{if emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE }}<td class="access-based-matrix" pii_id="EMP_NAME">${emp.name}{{if emp.gender == 1}}&nbsp;<b>(F)</b>{{else}}&nbsp;<b>(M)</b>{{/if}}{{if emp.isSpecialNeed == true}}<img  src="img/adhoc.svg" style="margin-left: 10px;" title="${emp.specialNeedType}"  alt="">{{/if}}</td><td class="access-based-matrix" pii_id="EMP_ADDR">${emp.pickupLoc.address}</td><td>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</td><td class="access-based-matrix" pii_id="EMP_NODAL">${emp.dropLoc.landmark}</td>{{/if}}</tr>{{/each}}</table>{{if route.b2bTrip}}<div style="padding:5px;"><div><b style="font-size: 14px;">Back to Back RouteId : ${route.b2bTripDetails.tripId}</b></div></div><table style="margin : 0;width:100%;"><tr><th>Employee Name</th><th>Pickup</th><th>Pickup Time</th><th>Landmark</th></tr>{{each( k, emp ) route.b2bTripDetails.employees}}<tr>{{if emp.employee_status == STW.Constants.EMPLOYEE_STATUS_ACTIVE }}<td class="access-based-matrix" pii_id="EMP_NAME">${emp.name}{{if emp.isSpecialNeed == true}}<img  src="img/adhoc.svg" style="margin-left: 10px;" title="${emp.specialNeedType}"  alt="">{{/if}}</td><td class="access-based-matrix" pii_id="EMP_NODAL">${emp.pickupLoc.landmark}</td><td>${dateMngr.getTimeIn24Hours(emp.pickupTime)}</td><td class="access-based-matrix" pii_id="EMP_ADDR">${emp.dropLoc.address}</td>{{/if}}</tr>{{/each}}</table>{{/if}}{{/if}}{{if route.marshallRequired == true}}<div><img src="img/marshal.png" style="height: 25px;width: 25px;"><span>&nbsp; - <b>This route needs a marshal</b></span></div>{{/if}}{{if isSpecialNeedRoute == true}}<div><img  src="img/adhoc.svg" style="float: left; margin-left: 10px;" title="specialNeedType"  alt=""><span>&nbsp;&nbsp; - <b>This route has employee with special needs</b></span></div>{{/if}}</script></div><div class="TC"><script id="CabListTemplate" type="text/x-jquery-tmpl"><div>{{each( k, cab ) cabs}}<div class="cabInfoList" cabId="${cab.id}" style="margin-top:5px;padding: 10px 20px; border: 1px solid #CCC;border-radius: 15px;cursor:pointer;background-color:${color[cab.colorCode]};"><div><b>${cab.vendor.vendorId}-${cab.cabId}&nbsp;[&nbsp;${cab.cabType.name}(${cab.cabType.maxCapacity})&nbsp;]</b></div>{{if showEV && (cab.cabType && cab.cabType.fuelType == "Electric")}}<div><b style="font-size: 14px;">${cab.identification} (Battery -${cab.vehicleBattery}, ${cab.dte}km) </b></div>{{else}}<div><b style="font-size: 14px;">${cab.identification} </b></div>{{/if}}<div>${cab.driverName}</div><div>${cab.driverContactNo}</div></div>{{/each}}</div></script></div><div class="TC"><script id="CabInfoTemplate" type="text/x-jquery-tmpl"><div class = "cabInfo"><div style="padding:5px; text-align: center;"><div style="font-size: 14px; font-weight: bold;">Vehicle ID : ${cab.displayCabId}</div><div style="font-size: 14px; font-weight: bold;">Driver : ${cab.driverName}</div><div style="font-size: 14px; font-weight: bold;">Contact No : ${cab.driverContactNo}</div></div>{{if allTripsheets == undefined}}<div> No data to show </div>{{/if}}{{each( index, trip) allTripsheets}}<div style="padding: 5px; border: 1px solid #CCC;border-radius: 10px;"><table cellspacing="0" style="margin : 0;"><tr class="cabTableData"><td><span><b>Distance :</b>${getTripDistance(index)}</span><br><span><b>Duration :</b>{{if trip.isBilling && trip.billingTrip.state == STW.Constants.STATE_STARTED}}${dateMngr.getTimeIn24Hours(trip.startTime)} - Present{{else}}${dateMngr.getTimeIn24Hours(trip.startTime)} - ${dateMngr.getTimeIn24Hours(trip.endTime)}{{/if}}</span><!--<br><span style="margin-right:10px"><b>Trip Status :</b>${getTripStatus(index)}</span>{{if trip.isBilling==true}}(<a class="track-route" index=${index}>{{if trip.billingTrip.state == STW.Constants.STATE_STARTED}}Track{{else}}View Route{{/if}}</a>){{/if}}-->{{if trip.tripSheet.type != STW.Constants.TYPE_ADHOC}}<br><span title="${getStartLocation(index)}"><b>Start Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getStartLocation(index))}</span></span><br><span title="${getEndLocation(index)}"><b>End Location :</b><span class="access-based-matrix" pii_id="EMP_ADDR">${utils.getTruncatedAddress(getEndLocation(index))}</span></span>{{/if}}{{if trip.tripSheet.comment}}<br><span><b>Comment :</b>${trip.tripSheet.comment}</span>{{/if}}</td></tr></table></div>{{/each}}<div style="text-align: center;"><input type="button" value="Allocate Vehicle" class="buttonstyle1" name="assignCab" style="margin-top: 20px;"/>{{if STW.Cache.isMultiDriverEnabled()}}<input type="button" value="Select Driver" class="buttonstyle1" name="assignDriver" style="margin-top: 20px;"/>{{/if}}</div></div></script></div><div class="TC"><script id="vendorTracksheetDownloadTemplate" type="text/x-jquery-tmpl"><div><table class="insidewidget formtable" style="margin-top:0px;width:400px"><thead><tr><th><span style="font-weight: bold;">Downloads</span></th></tr></thead><tbody>{{if selectedShifts}}<tr><td><span><b>Shifts :</b></span><span name="shift">${selectedShifts}</span></td></tr>{{/if}}<tr><td><fieldset><legend><b>Vendor Tracksheet Download</b></legend><table class="formtable" style="margin-top:0px;width:400px"><tr><td><span>Sort By</span></td><td><select name="tripsheetSortOption" class="sortTripsheets"><option value="CAB">Vehicle</option><option value="SHIFT">Shift</option><option value="EMPLOYEE_COUNT">Employee Count</option><option value="PHYSICAL_ID">Physical ID</option></select></td></tr><tr><td>Vendor Tracksheets</a></td><td><label><input type="radio" name="formatVT" value="pdf" checked="checked" />pdf</label><label><input type="radio" name="formatVT" value="xls" />xls</label></td></tr></table></fieldset></td></tr><tr><td><div style="text-align: center;"><a class="downloadVendorTracksheet"><input type="button" value="Download" class="buttonstyle1" style="margin-top: 20px;"/></a></div></td></tr></tbody></table></div></script></div><div class="TC"><script id="employeeList-responsive" type="text/x-jquery-tmpl"><table><tr><th style="width: 10%;"><span>Employee Details</span></th><td style="width: 45%;"><a class="editEmployeeDetails" stwId=${stwId}>${employee.name}</a>{{if STW.Cache.displayCovidRedZones()}}<span style="display:block;">${employee.zone}</span>{{/if}}<span style="display:block;">${employee.eid}</span></td><td style="width: 45%;">{{if employee.status == STW.Constants.STATUS_ACTIVE && employee.transportUser == true}}<div class="modifyWeeklyOffDiv"><a class="modifyWeeklyOff" aria-label="Weekly Off" title="Modify Weekly Off">Weekly Off</a></div>{{/if}}{{if STW.Cache.isTripHistoryFeatureEnabled()==true}}<a><img title="view trip history" id="trip-history"  stwId=${stwId} src="img/ic-action-history-24.svg" style="height: 28px;float: right"></a>{{/if}}</td></tr>{{each( index, date) week}}<tr><th><span> ${dateMngr.getDateOnly(date)} </span><label> (${dateMngr.getDayFromMonday(date).substring(0,3)})</label></th><td style="padding:10px; width:12%; background-color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"#F5F5F5":"white"};color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":"black"}; vertical-align: top;">{{if STW.Cache.doesLoginShiftExist()}}<div class="schedule_container" style="height: 25px;line-height: 25px;" ><span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[0].loginVenue)}">In</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[0].login.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", scheduleList[date].scheduleList[0].login.id)}</span><span>{{if isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[0], date, employee, "login")}}<img title="Cancel trip" tabindex="10" class="cancel_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;" stwId=${stwId} type="0" src="img/ic-action-delete-24.svg">{{/if}}{{if (!weekHolidays[date] && (scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit login trip" tabindex="10" class="modifySchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit login trip" tabindex="10" class="modifySchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{/if}}</span></div>{{/if}}</td><td style="padding:10px; width:12%; background-color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"#F5F5F5":"white"};color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":"black"}; vertical-align: top;">{{if STW.Cache.doesLogoutShiftExist()}}<div class="schedule_container"><span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[0].logoutVenue)}">Out</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[0].logout.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", scheduleList[date].scheduleList[0].logout.id)}</span><span>{{if isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[0], date, employee, "logout")}}<img title="Cancel trip" tabindex="10" class="cancel_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;" stwId=${stwId} type="1" src="img/ic-action-delete-24.svg" alt="Cancel trip" aria-label="cancel trip" title="cancel trip">{{/if}}{{if (!weekHolidays[date] && (scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit logout trip" tabindex="10" aria-label="Edit logout trip" class="modifySchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" title="Edit logout trip" aria-label="Edit logout trip" alt="Edit Logout trip"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit logout trip" tabindex="10" aria-label="Edit logout trip" class="modifySchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" title="Edit logout trip" aria-label="Edit logout trip" alt="Edit Logout trip"></a>{{/if}}</span></div>{{/if}}{{if STW.Cache.doesLoginShiftExist()}}<div class="second_schedule_container" style="height: 25px;line-height: 25px;margin-top: 10px; display: none">{{if scheduleList[date].scheduleList[1] != undefined}}<span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[1].loginVenue)}">In</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[1].login.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", scheduleList[date].scheduleList[1].login.id)}</span>{{if STW.Cache.isAdditionalRequestEnabled() && isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[1], date, employee, "login")}}<img title="Cancel trip" alt="Cancel trip" aria-label="cancel trip" title="cancel trip" class="cancel_second_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;float: right;height: 12px;margin-top: 6px;margin-right: -20px" stwId=${stwId} type="0" src="img/ic-action-delete-24.svg">{{/if}}{{else}}<span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(-1)}">In</span><span style="color:${STW.ShiftUtils.getColor(-1)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", -1)}</span>{{/if}}<span>{{if (!weekHolidays[date] && (STW.Cache.isAdditionalRequestEnabled() && scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit login trip" aria-label="Edit login trip" class="modifySecondSchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" title="Edit login trip" aria-label="Edit login trip"  alt="Edit Login trip"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit login trip" aria-label="Edit login trip" class="modifySecondSchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" title="Edit login trip" aria-label="Edit login trip"  alt="Edit Login trip"></a>{{/if}}</span></div>{{/if}}{{if STW.Cache.doesLogoutShiftExist()}}<div class="second_schedule_container" style="height: 25px;line-height: 25px;display: none">{{if scheduleList[date].scheduleList[1] != undefined}}<span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[1].logoutVenue)}">Out</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[1].logout.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", scheduleList[date].scheduleList[1].logout.id)}</span>{{if STW.Cache.isAdditionalRequestEnabled() && isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[1], date, employee, "logout")}}<img title="Cancel trip" class="cancel_second_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;margin-top: 6px;margin-right: -20px" stwId=${stwId} type="1" src="img/ic-action-delete-24.svg" alt="cancel trip">{{/if}}{{else}}<span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(-1)}">Out</span><span style="color:${STW.ShiftUtils.getColor(-1)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", -1)}</span>{{/if}}<span>{{if (!weekHolidays[date] &&  (STW.Cache.isAdditionalRequestEnabled() && scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit logout trip" class="modifySecondSchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" alt="Edit logout trip" aria-label="Edit logout trip" title="Edit logout trip"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit logout trip" class="modifySecondSchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" alt="Edit logout trip" aria-label="Edit logout trip" title="Edit logout trip"></a>{{/if}}</span></div>{{/if}}{{if isScheduleChangeAllowed(employee)}}<a class="secondSchedule" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?"white":""};display:${(scheduleList[date].scheduleList.length > 1) ?"":"none"}" alt="Trip Status" aria-label="Add second Schedule" title="Add second Schedule">View More</a>{{/if}}{{if STW.Cache.isAdditionalRequestEnabled() && isScheduleChangeAllowed(employee) }}<a class="addSchedule" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?" white":""}; display:${(scheduleList[date].scheduleList.length> 1) ?"none":"inline"}" alt="Trip Status" aria-label="Add Schedule" title="Add Schedule"><span style="display: inline;"><img class="add-schedule" src="img/add.svg"  title="Additional Request"></span></a>{{/if}}{{if true }}<a class="tripStatus" index="${index}" alt="Trip Status" aria-label="Trip Status" title="Trip Status" stwId=${stwId} style="float:right; display: inline; color:${(weekHolidays[date]==true)?"white":""};"><img height="20" src="img/ic-action-info-24.svg" title="Trip Status"  alt="Trip Status" aria-label="Trip Status" title="Trip Status"/></a>{{/if}}{{if STW.Cache.isScheduleServerEnabled()==false}}<a class="shiftHistory" aria-label="History" title="History" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?"white":""}">History</a>{{/if}}</td></tr>{{/each}}</table></script></div><div class="TC"><script id="employeeList-head" type="text/x-jquery-tmpl"><tr><th style="width: 52px;">{{if !employeeLogin}}<input style="width: 24px; height: 24px" name="selectAll" value="true" type="checkbox" aria-label="select all employee" label="Select all employee" class="selectAllEmployees" />{{/if}}</th><th style="height: 44px"><span class="head-label">Employee</span></th>{{each( index, date) week}}<th><label class="d-flex" style="align-items: center;">{{if !employeeLogin}}<input style="width: 24px; height: 24px" name="day_${index}" value="${date}" type="checkbox" class="dayCheckBox" style="float:left" />{{/if}}<span class="${isToday(dateMngr.getDateOnly(date)) ? "today-date" : ""}" style="margin-left: 10px">${dateMngr.getDayFromMonday(date).substring(0, 3)} ${dateMngr.getDateOnly(date)}</span></label></th>{{/each}}</tr></script></div><div class="TC"><script id="employeeList-body" type="text/x-jquery-tmpl">{{if scheduleList}}{{if employee.status == STW.Constants.STATUS_INACTIVE}}<tr class="deactivatedEmployee" style="display:none;">{{else employee.transportUser == false}}<tr class="nonTransportEmployees" style="display:none;">{{else}}<tr class="transportEmployees">{{/if}}<td style="width: 52px;">{{if employee.status == STW.Constants.STATUS_ACTIVE && employee.transportUser == true}}<input style="width: 24px; height: 24px" name="employee_${stwId}" tabindex="9" value=${stwId} type="checkbox" class="empCheckBox">{{/if}}</td><td style="padding-left:10px;"><div class="d-flex">{{if RoleUtils.isEmployeeRole() == true && STW.Cache.isEmployeeDetailsEditOnLandingEnabled() == false}}<span stwId=${stwId} tabindex="10">${employee.name}</span>{{else}}<a class="editEmployeeDetails" stwId=${stwId} tabindex="10">${employee.name}</a>{{/if}}{{if STW.Cache.isTripHistoryFeatureEnabled()==true}}<a style="flex:1;align-items: stretch;display: grid;justify-content: flex-end;"><img title="view trip history" id="trip-history"  stwId=${stwId} src="img/ic-action-history-24.svg" style="float: right; height: 28px;"></a>{{/if}}</div>{{if STW.Cache.displayCovidRedZones()}}<span style="display:block;">${employee.zone}</span>{{/if}}<span>${employee.eid}</span>{{if isScheduleChangeAllowed(employee)}}<a class="modifyWeeklyOff" tabindex="11" aria-label="Weekly Off" title="Modify Weekly Off">Weekly Off</a>{{/if}}</td>{{each(index, date) week}}<td style="padding:10px; width:12%; background-color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"#F5F5F5":"white"};color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":"black"}; vertical-align: top;">{{if STW.Cache.doesLoginShiftExist()}}<div class="schedule_container"><span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[0].loginVenue)}">In</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[0].login.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", scheduleList[date].scheduleList[0].login.id)}</span><span>{{if isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[0], date, employee, "login")}}<img title="Cancel trip" tabindex="10" class="cancel_schedule" alt="cancel trip" aria-label="cancel trip" title="cancel trip" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;" stwId=${stwId} type="0" src="img/ic-action-delete-24.svg">{{/if}}{{if (!weekHolidays[date] && (scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit login trip" tabindex="10" class="modifySchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" alt="Edit login trip" aria-label="Edit login trip" title="Edit login trip"></a>{{else weekHolidays[date]==true && (scheduleList[date].availableShifts.length>0 && permissions.allowSchedulesOnHolidays)}}<a title="Edit login trip" tabindex="10" class="modifySchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg" alt="Edit login trip" aria-label="Edit login trip" title="Edit login trip"></a>{{/if}}</span></div>{{/if}}{{if STW.Cache.doesLogoutShiftExist()}}<div class="schedule_container"><span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[0].logoutVenue)}">Out</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[0].logout.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", scheduleList[date].scheduleList[0].logout.id)}</span><span>{{if isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[0], date, employee, "logout")}}<img title="Cancel trip" tabindex="10" class="cancel_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;" stwId=${stwId} type="1" src="img/ic-action-delete-24.svg">{{/if}}{{if (!weekHolidays[date] && (scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit logout trip" tabindex="10" class="modifySchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{else weekHolidays[date]==true && (scheduleList[date].availableShifts.length>0 && permissions.allowSchedulesOnHolidays)}}<a title="Edit logout trip" tabindex="10" class="modifySchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(scheduleList[date].scheduleList[0].isException==true || weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{/if}}</span></div>{{/if}}{{if STW.Cache.doesLoginShiftExist()}}<div class="second_schedule_container" style="height: 25px;line-height: 25px;margin-top: 10px; display: none">{{if scheduleList[date].scheduleList[1] != undefined}}<span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[1].loginVenue)}">In</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[1].login.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", scheduleList[date].scheduleList[1].login.id)}</span>{{if STW.Cache.isAdditionalRequestEnabled() && isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[1], date, employee, "login")}}<img title="Cancel trip" class="cancel_second_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;margin-top: 6px;margin-right: -20px" stwId=${stwId} type="0" src="img/ic-action-delete-24.svg">{{/if}}{{else}}<span class="login_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(-1)}">In</span><span style="color:${STW.ShiftUtils.getColor(-1)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("login", -1)}</span>{{/if}}<span>{{if (!weekHolidays[date] && (STW.Cache.isAdditionalRequestEnabled() && scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit login trip" class="modifySecondSchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit login trip" class="modifySecondSchedule" id="login" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{/if}}</span></div>{{/if}}{{if STW.Cache.doesLogoutShiftExist()}}<div class="second_schedule_container" style="height: 25px;line-height: 25px;display: none">{{if scheduleList[date].scheduleList[1] != undefined}}<span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(scheduleList[date].scheduleList[1].logoutVenue)}">Out</span><span style="color:${STW.ShiftUtils.getColor(scheduleList[date].scheduleList[1].logout.id)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", scheduleList[date].scheduleList[1].logout.id)}</span>{{if STW.Cache.isAdditionalRequestEnabled() && isShiftAvailableForCancellation(scheduleList[date].availableShifts, scheduleList[date].scheduleList[1], date, employee, "logout")}}<img title="Cancel trip" class="cancel_second_schedule" index="${index}" style="opacity: 0.4;padding-left: 7px;height: 12px;margin-top: 6px;margin-right: -20px" stwId=${stwId} type="1" src="img/ic-action-delete-24.svg">{{/if}}{{else}}<span class="logout_${dateMngr.getDayFromMonday(date)}" style="display:inline;" title="${getShiftTooltip(-1)}">Out</span><span style="color:${STW.ShiftUtils.getColor(-1)}; display:inline; margin:0 5px;">${shiftManager.FormatTime("logout", -1)}</span>{{/if}}<span>{{if (!weekHolidays[date] && (STW.Cache.isAdditionalRequestEnabled() && scheduleList[date].availableShifts.length>0 && isScheduleChangeAllowed(employee)))}}<a title="Edit logout trip" class="modifySecondSchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{else weekHolidays[date]==true && permissions.allowSchedulesOnHolidays}}<a title="Edit logout trip" class="modifySecondSchedule" id="logout" index="${index}" stwId=${stwId} style="opacity: 0.4;padding: 0px;display:inline;height: 10px;float: right;color:${(weekHolidays[date]==true)?"white":""}"><img src="img/ic-action-edit-16.svg"></a>{{/if}}</span></div>{{/if}}{{if isScheduleChangeAllowed(employee)}}<a class="secondSchedule" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?"white":""};display:${(scheduleList[date].scheduleList.length > 1) ?"":"none"}">View More</a>{{/if}}{{if STW.Cache.isAdditionalRequestEnabled() && isScheduleChangeAllowed(employee) }}<a class="addSchedule" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?"white":""}; display:${(scheduleList[date].scheduleList.length > 1) ?"none":"inline"}"><span style="display: inline;"><img src="img/add.svg" class="add-schedule" title="Additional Request"></span></a>{{/if}}{{if true }}<a class="tripStatus" index="${index}" stwId=${stwId} style="float:${(STW.Cache.isAdditionalRequestEnabled()==true)?"right":""}; display: inline; color:${(weekHolidays[date]==true)?"white":""};"><img height="20" src="img/ic-action-info-24.svg" alt="trip status" aria-label="trip status" title="Trip Status" /></a>{{/if}}{{if STW.Cache.isScheduleServerEnabled()==false}}<a class="shiftHistory"  aria-label="history" title="history" index="${index}" stwId=${stwId} style="color:${(weekHolidays[date]==true)?"white":""}">History</a>{{/if}}</td>{{/each}}</tr>{{/if}}</script></div><div class="TC"><script id="weeklyOffTemplate" type="text/x-jquery-tmpl"><div style="width: 300px"><form name="weeklyOffForm"><table class="modern-table"><tr><th>Days</th><th>Select</th></tr>{{each(index, day) dateMngr.getDaysList()}}<tr><td>${day}</td><td><input type="checkbox" class="modern-checkbox" value="true" name="day_${index+1}" ${checkIfWeeklyOff(scheduleExceptions, index+1)?"checked=checked":""}/></td></tr>{{/each}}<tr style="height: 70px"><td colspan="2" style="text-align: right; border-bottom: none;"><input type="reset"   aria-label="cancel" title="cancel" class="secondary-btn" value="Cancel" name="cancel"/><input type="submit"  aria-label="updateWeeklyOff" title="updateWeeklyOff" class="primary-btn" name="updateWeeklyOff" value="Save" /></td></tr></table></form></div></script></div><div class="TC"><script id="empPaginatinTemplate" type="text/x-jquery-tmpl"><div style="text-align: center;">{{each(index, page) pageList}}<span><a class="pageLink" pageIndex=${index} style="margin-right:20px;">${50*index + 1}-${50*(index + 1)}</a></span>{{/each}}</div></script></div><div class="TC"><script id="loginLogoutConfirmationTemplate" type="text/x-jquery-tmpl"><div><form name="loginLogoutConfirmationForm"><div style="width: 300px;"><div class="shiftConflictMessage">Mismatch in Login shift and Logout shift time, hence the drop will be treated as an Ad-hoc request. Are you sure you want to continue?</div><div class="shiftComplyMessage" style="display:none;">Please ensure that your login and logout comply with the default combination. Else, the drop will be treated as an Ad-hoc request.</div><div style="text-align: center;"><input type="submit" class="buttonstyle1" aria-label="updateWeeklyOff" title="updateWeeklyOff" name="updateWeeklyOff" value="OK" /><input type="reset"  class="buttonstyle1" aria-label="cancel" title="cancel"  value="Cancel" name="cancel"/></div></div></form></div></script></div><div class="TC"><script id="indemnificationConfirmationTemplate" type="text/x-jquery-tmpl"><div><form name="indemnificationConfirmationForm"><div style="width: 620px;padding: 20px;"><!-- Unnamed (Rectangle) --><div id="u85" class="ax_default label"style="text-align: center; font-weight: 700; margin-bottom: 10px;"><span>EMPLOYEE UNDERTAKING FOR ONE-TIME DECLINE OF COMPANY PROVIDED</span></div><!-- Unnamed (Rectangle) --><div id="u87" class="ax_default label"style="text-align: center; font-weight: 700; margin-bottom: 30px;"><span>TRANSPORT FOR NIGHT SHIFT WOMEN ASSOCIATES</span></div><div id="u109" class="ax_default label"><div id="u110" class="text"><span>Date of indemnification: </span><span class="startDate"><input class="datePicker" name="startDate" type="text" value="" style="width: 70px; margin-left: 10px;" aria-label="indemnification start Date format: dd-MM-yyyy" title="indemnification start Date format: dd-MM-yyyy" disabled /></span><span class="endDate" style="margin: 0 10px;"><span style="margin: 0 10px;">to</span><input class="datePicker" name="endDate" type="text" value="" style="width: 70px;" aria-label="indemnification end Date format: dd-MM-yyyy"  title="indemnification end Date format: dd-MM-yyyy" disabled /></span></div></div><!-- Unnamed (Rectangle) --><div id="u103" class="ax_default label" style="margin-top: 10px;"><div id="u103_div" class=""></div><div id="u104" class="text"><span>Regular shift work timings on working days: </span><select id="loginShift"></select> <span> Hrs to </span><select id="logoutShift"></select> <span> Hrs</span></div></div><!-- Unnamed (Rectangle) --><div id="u118" class="ax_default label" style="margin-top: 10px;"><div id="u118_div" class=""></div><!-- Unnamed () --><div id="u119" class="text"><span>My mode of transport is (Note to associates: Choose whichever is applicable) </span><select name="modeOfTransport" style="margin-left:10px; width: 500px">{{each(index, keyword) reasons}}<option value="${keyword}">${keyword}</option>{{/each}}</select></div></div><!-- Unnamed (Rectangle) --><div id="u118" class="ax_default label" style="margin-top: 10px;"><div id="u118_div" class=""></div><!-- Unnamed () --><div id="u119" class="text"><label style="padding-left: 0;"><input type="checkbox" name="acceptTC" checked="checked" style="vertical-align: middle;margin-right:10px;">I agree to the </label><a target="_blank" aria-label="terms and conditions" title="terms and conditions" class="termsAndConditions">Terms and Conditions</a></div><div id="u119" class="text" style="margin-top: 20px;">Date: ${dateMngr.getDateInWordsWithYear()}</div></div><!-- Submit (Rectangle) --><div id="u135" class="ax_default primary_button" data-label="Submit"style="margin-top: 10px; margin-left: 80%;"><input type="button" id="u136" aria-label="I agree Checkbox" title="I agree checkbox" class="agreeButton buttonstyle1" value="I Agree"></div></div></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="employeeDetailsTemplate"><div style="margin-top: 20px;"><table class="employeeDetailsTable" style="width: 100%;"><tr><td style="width:50%;"><fieldset><legend><span style="font-size: 16px; font-weight: bold;">Personal</span></legend><table cellspacing="1px"><tr><td style="width:33%;">Emp Id</td><td>${employee.eid}</td></tr><tr><td>Email Id</td><td>${employee.alias}</td></tr><tr><td>Name</td><td>${employee.name}</td></tr><tr><td>Gender</td><td>${employee.gender==STW.Constants.FEMALE ? "Female" : employee.gender==STW.Constants.MALE ? "Male" : employee.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral": "NA"}</td></tr><tr><td>Mobile (For receiving SMS)</td><td>${employee.phone.split(",")[0]}</td></tr><tr><td>Phone (Other)</td><td>${employee.phone.split(",")[1]}</td></tr></table></fieldset></td><td class="addressDesktop"><fieldset><legend><span style="font-size: 16px; font-weight: bold;">Pickup/Drop Point</span></legend><table cellspacing="1px"><tr><td style="width:33%;">Pickup/Drop point</td><td>${addressSets.primary.home.address}</td></tr><tr><td>Landmark/Locality</td><td>${addressSets.primary.home.landmark}</td></tr><tr><td>Additional Info</td><td>${employee.request}</td></tr></table>{{if STW.Cache.isSecondaryAddressFeatureEnabled() && addressSets.secondary}}<table cellspacing="1px"><tr><td style="width:33%;">Pickup/Drop Point</td><td>${addressSets.secondary.home.address}</td></tr><tr><td>Landmark/Locality</td><td>${addressSets.secondary.home.landmark}</td></tr><tr><td>Additional Info</td><td>${employee.request}</td></tr></table>{{/if}}<div style="margin: 10px auto; width: 88%;"><div>{{if STW.Cache.isHideRequestAddressChangeEnabled() == false }}<span class="requestAddressChange highlight"><a target="_blank" aria-label="Request Address Change" tabindex="20" title="Request Address Change">Request Pickup/Drop point Change</a></span>{{/if}}{{if STW.Cache.isAdhocTripRequestEnabled() && employee.transportUser == true}}<span class="requestAdhocTrip highlight" style="float:right;"><a target="_blank" tabindex="20" aria-label="Request Adhoc Trip" title="Request Adhoc Trip">Request Adhoc Trip</a></span>{{/if}}</div><div style="margin: 20px 20px auto; width: 88%"><div class="resetPin highlight" style="float:left;"><a target="_blank">Reset PIN</a></div></div></div></fieldset></td></tr><tr class="addressMobile"><td><fieldset><legend><span style="font-size: 16px; font-weight: bold;">Pickup/Drop point</span></legend><table cellspacing="1px"><tr><td style="width:33%;">Pickup/Drop point</td><td>${addressSets.primary.home.address}</td></tr><tr><td>Landmark/Locality</td><td>${addressSets.primary.home.landmark}</td></tr><tr><td>Additional Info</td><td>${employee.request}</td></tr></table>{{if STW.Cache.isSecondaryAddressFeatureEnabled() && addressSets.secondary}}<table cellspacing="1px"><tr><td style="width:33%;">Pickup/Drop point</td><td>${addressSets.secondary.home.address}</td></tr><tr><td>Landmark/Locality</td><td>${addressSets.secondary.home.landmark}</td></tr><tr><td>Additional Info</td><td>${employee.request}</td></tr></table>{{/if}}<div style="margin: 10px auto; width: 88%;">{{if STW.Cache.isHideRequestAddressChangeEnabled() == false }}<div class="requestAddressChange" style="float:left;"><a target="_blank" aria-label="Request Address Change" tabindex="20" title="Request Address Change">Request Pick/Drop Point Change</a></div>{{/if}}{{if STW.Cache.isAdhocTripRequestEnabled() && employee.transportUser == true}}<div class="requestAdhocTrip" style="float:right;"><a target="_blank" aria-label="Request Adhoc Trip" tabindex="20"  title="Request Adhoc Trip">Request Adhoc Trip</a></div>{{/if}}</div></br><div style="margin: 20px 20px auto; width: 88%"><div class="resetPin" style="float:left;"><a target="_blank" aria-label="Reset Pin" tabindex="20"  title="Reset Pin">Reset Pin</a></div></div></fieldset></td></tr></table><div class="footerLinks"><a  class="contactthd" aria-label="Contact Transport Team" tabindex="30" title="Contact Transport Team">Contact Transport Team</a> |{{each(index, footerLink) footerLinks}}{{if type=="link"}}<a href="${footerLink.data}" target=_blank>${footerLink.text}</a> |{{else type=="file"}}<a href="FileDownload_Servlet?fileName=${footerLink.data}&type=file&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank>${footerLink.text}</a> |{{/if}}{{/each}}<a class="employeeHistory" tabindex="32" aria-label="Profile Change History" title="Profile Change History">Profile Change History</a>{{if STW.Cache.isIndemnificationEnabled()}}{{if STW.Cache.isIndemnificationForFemaleEnabled() && STW.USER.gender == STW.Constants.FEMALE}}| <a class="indemnificationLink" tabindex="32" aria-label="Indemnification Form" title="Indemnification Form">Indemnification Form</a>{{else STW.Cache.isIndemnificationForMaleEnabled() && STW.USER.gender == STW.Constants.MALE}}| <a class="indemnificationLink" tabindex="32" aria-label="Indemnification Form" title="Indemnification Form">Indemnification Form</a>{{/if}}{{/if}}{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VENDOR_RISK_MANAGER}}| <a class="thdExperienceLink" tabindex="32" aria-label="KPI / SLA Form" title="KPI / SLA Form">KPI / SLA Form</a>{{/if}}</div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="employeeTeamDetailsTemplate"><div style="display: flex" class="teamInfo"><div style="flex: 1; text-align: right; padding-right: 10px;">Team :</div><div style="flex: 1;font-weight: 700; letter-spacing: 0.5px;">${project.name}</div><div style="flex: 1; text-align: right; padding-right: 10px;">Team Manager :</div><div style="flex: 1;font-weight: 700; letter-spacing: 0.5px;">${getProjectManagerNames(project)}</div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="employeeDetailsEditTemplate"><div style="margin-top: 20px;" class="empEditDetailsForm"><form method="post"><table class="employeeDetailsTable" style="width: 100%;"><tr><td style="width:50%;"><fieldset><legend><span style="font-size: 16px; font-weight: bold;">Personal</span></legend><table cellspacing="1px"><tr><td style="width:33%;">Mobile</td><td>{{if permissions.phone}}{{if STW.Cache.isVerizonEmployeeLogin()}}<input name="phone1" type="text" mandatory="true" class="phoneNumber" maxLength="20" title="The number will be used for Mobile App registration and SMS are sent to the number" placeholder="To be entered" />{{else}}<input name="phone1" type="text" class="phoneNumber" maxLength="20" title="The number will be used for Mobile App registration and SMS are sent to the number" placeholder="To be entered" />{{/if}}{{else}}${employee.phone1}{{/if}}</td></tr><tr id="phone1Err"  style="display:none"><td colspan="2" style="color:red;"><i>Please enter a ten digit number. e.g(1234567890)</i></td></tr><tr><td style="width:33%;">Phone (Other)</td><td>{{if permissions.phone}}<input name="phone2" class="phoneNumber" maxLength="11" title="10 to 11 characters" placeholder="Phone" />{{else}}${employee.phone2}{{/if}}</td></tr><tr id="phone2Err" style="display:none"><td colspan="2" style="color:red;"><i>Please enter a valid phone number.</i></td></tr></table></fieldset></td><td class="addressDesktop"><fieldset><legend><span style="font-size: 16px; font-weight: bold;">Pickup/Drop point</span></legend><table cellspacing="1px"><tr><td style="width:33%;">Landmark/Locality</td><td>{{if permissions.home}}<input name="primaryAddress.home.landmark" style="overflow-x: hidden;" maxLength="100" title="0 to 100 characters" />{{else}}<input type="hidden" name="primaryAddress.home.landmark" />${employee.primaryAddress.home.landmark}{{/if}}</td></tr>{{if STW.Cache.getNodalVisibility()}}<tr class="escortChange"><td>{{if STW.Cache.isVerizonEmployeeLogin()}}Locality{{else}}Nodal Point</td>{{/if}}<td>{{if permissions.pickup}}<select name="pickup.id" style="width: 150px;"></select><input type="hidden" value="" name="pickup.geoCord" /><input type="hidden" value="" name="pickup.address" /><input type="hidden" value="" name="pickup.cityName" />{{else}}<select type="hidden" value="" name="pickup.id" style="display: none"></select><label id="nodalLabel">${employee.pickup ? employee.pickup.address : "None"}</label><input type="hidden" value="" name="pickup.geoCord" /><input type="hidden" value="" name="pickup.address" /><input type="hidden" value="" name="pickup.cityName" />{{/if}}</td></tr>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<tr><td> Shuttle Point </td><td><label style="width: 100px;">Normal</label><label  style="margin-left:20px;">Special</label></td></tr>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}{{if hasShuttleStopChangePermission}}<tr class="escortChange"><td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}Login{{else}}Login Shuttle Stop{{/if}}{{else}}Shuttle Stop{{/if}}</td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td colspan="2"><select name="loginShuttleStop.id" style="width: 100px;"></select><select style="margin-left:20px; width:100px;" name="additionalLoginShuttleStop.id" style="width: 100px;"></select></td>{{else}}<td><select name="loginShuttleStop.id" style="width: 150px;"></select></td>{{/if}}</tr>{{else}}<input type="hidden" name="loginShuttleStop.id" value="-1"><tr><td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}Login{{else}}Login Shuttle Stop{{/if}}{{else}}Shuttle Stop{{/if}}</td><td><label id="loginShuttleStopName">None</label></td>{{if STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label id="additionalLoginShuttleStopName">None</label></td>{{/if}}</tr>{{/if}}{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled() && STW.Cache.isDefaultLoginLogoutShuttleEnabled()}}{{if hasShuttleStopChangePermission}}<tr class="escortChange">{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td>Logout</td>{{else}}<td>Logout Shuttle Stop</td>{{/if}}{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td colspan="2"><select name="logoutShuttleStop.id" style="width: 100px;"></select><select style="margin-left:20px; width:100px;" name="additionalLogoutShuttleStop.id" style="width: 100px;"></select></td>{{else}}<td><select name="logoutShuttleStop.id" style="width: 150px;"></select></td>{{/if}}</tr>{{else}}<input type="hidden" name="logoutShuttleStop.id" value="-1"><tr>{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td>Logout</td>{{else}}<td>Logout Shuttle Stop</td>{{/if}}<td><label id="logoutShuttleStopName">None</label></td>{{if STW.Cache.isMultipleShuttlesForShiftEnabled()}}<td><label id="additionalLogoutShuttleStopName">None</label></td>{{/if}}</tr>{{/if}}{{/if}}</table><div style="margin: 10px auto; width: 88%;"><input class="primary-btn" style="margin:0px;" type="submit" value="Save" disabled /></div><div style="margin: 10px auto; width: 88%;">{{if STW.Cache.isHideRequestAddressChangeEnabled() == false }}<div class="requestAddressChange highlight" style="float:left;"><a target="_blank" aria-label="Request Address Change" tabindex="20" title="Request Address Change">Request Pickup/Drop Point Change</a></div>{{/if}}{{if STW.Cache.isAdhocTripRequestEnabled()}}<div class="requestAdhocTrip highlight" style="float:right;"><a target="_blank" tabindex="20" aria-label="Request Adhoc Trip" title="Request Adhoc Trip">Request Adhoc Trip</a></div>{{/if}}</div></br><div style="margin: 20px 20px auto; width: 88%"><div class="resetPin" style="float:left;"><a target="_blank">Reset Pin</a></div></div></fieldset></td></tr></table></form><div class="footerLinks"><a  class="contactthd" aria-label="Contact Transport Team" tabindex="30" title="Contact Transport Team">Contact Transport Team</a> |{{each(index, footerLink) footerLinks}}{{if type=="link"}}<a href="${footerLink.data}" target=_blank>${footerLink.text}</a> |{{else type=="file"}}<a href="FileDownload_Servlet?fileName=${footerLink.data}&type=file&CSRF_NONCE=${STW.Cache.getNonce()}" target=_blank>${footerLink.text}</a> |{{/if}}{{/each}}<a class="employeeHistory" tabindex="32" aria-label="Profile Change History" title="Profile Change History">Profile Change History</a>{{if STW.Cache.isIndemnificationEnabled()}}{{if STW.Cache.isIndemnificationForFemaleEnabled() && STW.USER.gender == STW.Constants.FEMALE}}| <a class="indemnificationLink" tabindex="32" aria-label="Indemnification Form" title="Indemnification Form">Indemnification Form</a>{{else STW.Cache.isIndemnificationForMaleEnabled() && STW.USER.gender == STW.Constants.MALE}}| <a class="indemnificationLink" tabindex="32" aria-label="Indemnification Form" title="Indemnification Form">Indemnification Form</a>{{/if}}{{/if}}{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VENDOR_RISK_MANAGER}}| <a class="thdExperienceLink" tabindex="32" aria-label="KPI / SLA Form" title="KPI / SLA Form">KPI / SLA Form</a>{{/if}}</div></div></script></div><div class="TC"><script id="noTransportRequired" type="x-jquery-tmpl"><div style="width: 550px"><form><table style="width: 500px" class="formtable"><tbody><tr><td style="border: none;"><div style="padding-bottom: 5px;" class="modern-label">Start Date</div><div  class="modern-date-container" style="position: inherit;float: inherit; left: 0;style="margin-bottom: 10px;"><input style="width: 100%;" class="datePicker modern-date-picker" name="ntStartDate" type="text" value="" title="Date format: dd/MM/yyyy"/></div></td></tr><tr class="commentBox"><td style="border: none;"><div style="padding-bottom: 5px;" class="modern-label" for="Comment">Comment</div><textarea  style="width: 100%; height: 70px;" rows="6" name="comment"></textarea></td></tr><tr style="height:70px"><td style="text-align:right; border-bottom:none;padding-top: 10px;"><input type="reset" class="secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" value="Apply"></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="listAllTripsheetsTemplate" type="text/x-jquery-tmpl"><div style="max-height:500px; overflow-y:auto; overflow-x: scroll; max-width:1200px;"><table class="listAllTripsheets insidewidget tablestyle1 popup-table" style="width: 1100px;margin:0 auto;" cellspacing="0px"><thead><tr><th class="leftrad">S No.</th><th style="width:100px">Employee Name</th><th>Contact No.</th><th>Pickup Location</th><th>Pickup Time</th><th>Drop Location</th><th>Drop Time</th><th>Trip ID</th><th>Vehicle</th><th style="width:60px"><input type="checkbox" value="true" name="checkAll"><a class="downloadTripsheets" style="margin-left:10px; text-decoration: underline; color: black; font-weight: normal;"><img class=downloadTripsheets src="img/download.png" style="border:0 none;" title="Downloads"></a></th><th style="width:150px" class="rightrad">Comment</th></tr></thead><tbody>{{each(i, routeSet) routeSets}}{{each(index, trip) routeSet.routeTripSheets}}{{if noCabAssigned==false || trip.cab==undefined}}<tr><td>${(i+1)}</td><td>{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${name}</span></div>{{/each}}</td><td>{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${phone}</span></div>{{/each}}</td><td style="text-align:justify; padding-left:5px">{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${pickupLoc.address}</span></div>{{/each}}</td><td>{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${dateMngr.getTimeIn24Hours(pickupTime)}</span></div>{{/each}}</td><td style="text-align:justify; padding-left:5px">{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${dropLoc.address}</span></div>{{/each}}</td><td>{{each(empIndex, emp) trip.employeeList}}<div style="border-bottom:${empIndex!=trip.employeeList.length-1?"1px solid #99CA3B":""}"><span style="background-color:${employee_status!=1?"DarkGrey":""};">${dateMngr.getTimeIn24Hours(dropTime)}</span></div>{{/each}}</td><td>${trip.id}</td><td style="text-align: center;">{{if trip.cab}}<a class=showTripsheet routeId=${id}>${ trip.cab.identification} (${ trip.cab.displayCabId})</a>{{else}}<a class=showTripsheet routeId=${id}>Assign</a>{{/if}}</td><td style="text-align: center;"><input type="checkbox" value="true" name="selectTripsheet" tripid="${id}"><a shiftId="${k}" target="_blank" href="Report_Servlet?rptName=Custom_TripSheet_Report&displayName=Custom_TripSheet_Report&tripId=${id}&format=pdf&CSRF_NONCE=${STW.Cache.getNonce()}"><img class=downloadTripsheet src="img/pdficon.gif" style="margin-left:10px; width: 18px;" title="Download tripsheet in pdf"></a></td><td style="text-align:justify">{{if trip.comment && isNaN(trip.comment) && utils.isParseable(trip.comment)}}<span>SPOT TRIPSHEET</span>{{else trip.comment}}<span>${trip.comment}</span>{{/if}}</td></tr>{{/if}}{{/each}}{{/each}}</tbody></table></div></script></div><div class="TC"><script id="irregularWidgetTemplate" type="text/x-jquery-tmpl"><table class="irregularWidget insidewidget" style="width: 300px; margin: 0;" cellspacing="0px"><tbody><tr><td style="position: inherit; float: inherit;padding: 15px 0;" class="modern-date-container"><span class="lightLabel" style="margin-right:10px; margin-left: 10px;">Date </span><input class="datePicker modern-date-picker" name="date" type="text" value="" title="Date format: dd/MM/yyyy"/></td></tr>{{if STW.Cache.isNonShiftTripCreationDisabled() == false}}<tr><td colspan="2"><a class="tripsheets-with-no-cabs">Tripsheets with no Vehicle assigned</a> <img src="img/warning.png" style="float: right;" /></td></tr><tr><td colspan="2"><a class="view-irregular-tripsheets">Non-Shift trips</a></td></tr>{{/if}}{{if STW.Cache.isEmployeeTransportApproval()}}<tr class="roleBasedAccess" functionalities="approval_dashboard_view"><td colspan="2"><a style="color : #3dae2b" id="onboard-approval" > Employee Onboard Approval </a></td></tr>{{/if}}{{if STW.Cache.isRequestAddressApprovalEnabled()}}<tr class="roleBasedAccess"  functionalities="enable_address_approval"><td colspan="2" style="border:0;"><a class="approve-requests">Approve Pickup/Drop point Change</a><span id="address_aprroval_count" class="displayval" style="float:right;"></span></td></tr>{{/if}}{{if STW.Cache.isNoShowApprovalDashboardEnabled() && RoleUtils.isSiteAdminOrTM()}}<tr class="no-show-approval"><td colspan="2"><a style="color : #3dae2b" > No Show Approval </a></td></tr>{{/if}}{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_SECURITY_SUPERVISOR}}<tr><td colspan="2"><a class="escort-report">Escort Information Report</a></td></tr>{{/if}}{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_SECURITY_SUPERVISOR}}<tr><td colspan="2"><a class="escort-dep-report">Escort Deployment Report(Download as CSV)</a></td></tr>{{/if}}</tbody></table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="addEditVendor"><div class="addEditVendor setting_popup_container"><div class="setting_popup_wrapper"><div id="addVendor"><span class="heading vendor-header"></span><img class="close" style="cursor: pointer" src="img/close-cross.png" alt="" /></div><form><table class="setting_popup_table" id="addEditVendor"><tbody><tr><td class="vendorId"><label class="setting_popup_label">Vendor Id<span class="mandatory setting_popup_mandatory">*</span></label></td><td><input mandatory="true" class="custom_input_new" type="text" value="" name="vendorId" maxlength="5" title="1 to 5 characters" /><span class="vendorSpan"></span></td></tr><tr><td><label class="setting_popup_label">Vendor Name<span class="mandatory setting_popup_mandatory">*</span></label></td><td><input mandatory="true" class="custom_input_new" type="text" value="" name="name" maxlength="20" title="1 to 20 characters" /><span></span></td></tr><tr><td class="align-top"><label class="setting_popup_label">Pickup/Drop point </label></td><td><textarea name="address" class="custom_input_new" style="height: 74px" value="" maxlength="150" title="0 to 150 characters"></textarea><span></span></td></tr><tr><td><label class="setting_popup_label">Point of Contact<span class="mandatory setting_popup_mandatory">*</span></label></td><td><input mandatory="true" class="custom_input_new" type="text" value="" name="contact" maxlength="40" title="1 to 40 characters" /><span></span></td></tr><tr><td><label class="setting_popup_label">Phone Number </label></td><td><input type="text" class="custom_input_new" value="" name="phone" maxlength="11" title="11 digits" /><span></span></td></tr><tr><td><label class="setting_popup_label">Email ID<span class="mandatory setting_popup_mandatory">*</span></label></td><td><input mandatory="true" class="custom_input_new" type="text" value="" name="email" id="email" maxlength="50" title="5 to 50 characters" /><span class="emailId"></span></td></tr><tr><td><a class="addVendorComment setting_popup_actions">Comments</a></td><td> <a class="vendorHistory setting_popup_history">History</a></td></tr><tr class="vendorCommentBox" style="display: none;"><td colspan="2"><textarea style="height: 74px" rows="3" class="custom_input_new" name="vendorComment"></textarea><span></span></td></tr><tr class="vendorHistoryBox" style="display: none;"><td colspan="2" class="custom_input_new"></td></tr><tr class="saveButton"><td colspan="2"><div class="setting_popup_footer"><button class="addVendor success-btn float-end" type="submit">Save</button></div></td></tr></tbody></table></form></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="vendorTableTemplate"><table class="modern-table" id="manage-vendor-type"><thead><tr><th style="width: 70px;" class="s-no">S No.</th><th>Vendor Name</th><th>Owned Cabs</th><th>Email</th><th class="customTable-action roleBasedAccess" functionalities="vendor_edit">Action</th></tr></thead><tbody>{{each(index, vendor) activeVendorList}}<tr indx=${index} class="active-vendor"><td style="text-align: center;">${index+1}</td><td>${vendor.name}</td><td>${getContractCabs(vendor.cabsOfContract)}</td><td>${vendor.email}</td><td style="position: relative;"><img  class="roleBasedAccess action-menu" id="${vendor.id}" functionalities="vendor_edit" src="img/three-dots.png" alt=""><div class="edit-menu" id="${vendor.id}-menu-active" style="display: none;z-index: 1000;"><span style="margin-left:84%;cursor: pointer;height: 15px;" class="close-action" title="Close"><img src="img/close-cross.png" style="width: 20px;" alt=""></span><a class="edit d-flex" index=${vendor.id}><img class="float-start" src="img/ic-action-edit-24.svg" alt=""> <span class="action-label">Edit</span></a><a class="delete d-flex" index=${index}><img title="Deactivate"src="img/deactivate-24.svg" alt=""><span class="action-label">Deactivate</span></a></div></td></tr>{{/each}}{{each(index, vendor) inactiveVendorList}}<tr indx=${index} class="inactive-vendor" style="display:none"><td>${index+1}</td><td>${vendor.name}</td><td>${getContractCabs(vendor.cabsOfContract)}</td><td>${vendor.email}</td><td style="position: relative;"><img class="roleBasedAccess action-menu" id="${vendor.id}" functionalities="vendor_edit" src="img/three-dots.png" alt=""><div class="edit-menu" id="${vendor.id}-menu-active" style="display: none; z-index: 1000;"><span style="margin-left: 84%; cursor: pointer; height: 15px;" class="close-action" title="Close"><img src="img/close-cross.png" style="width: 20px;" alt=""></span><a class="inactive-edit m-sm-0 d-flex" index="${vendor.id}"><img src="img/ic-action-edit-24.svg" alt=""><span class="action-label">Edit</span></a><a class="activate d-flex" index="${index}"><img width="20" height="20" title="Activate" src="img/activate.svg" alt=""><span class="action-label">Activate</span></a></div></td></tr>{{/each}}</tbody></table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="input-filter"><div><form><table class="billingFilterTable insidewidget formtable modern-form-table" style="width: 400px; position:relative;"><tbody><tr class="vendorList"><td style="width:35%">Vendor</td><td><select name="vendorId" id="vendorId"></select></td></tr><tr class="shiftTypeCombo"><td style="width:35%">Shift Type</td><td><select name="shiftType" id="shiftType"></select></td></tr><tr class="plannedTypeInput"><td>Shift</td><td><select name="shift" id="shift"></select></td></tr><tr class="officeInput"><td>Office</td><td><select name="office" id="office"></select></td></tr><tr class="adhocTypeInput" id="adhocTypeInput" style="display:none;"><td>Time</td><td><select name="startHours" style="width: 20%; ">{{html dateMngr.getHourOptions()}}</select><select name="startMins" style="width: 20%; margin-left:5px;">{{html dateMngr.getMinuteOptions()}}</select><span style="margin-left: 10px">To</span><select name="endHours" style="width: 20%; margin-left:10px;">{{html dateMngr.getHourOptions()}}</select><select name="endMins" style="width: 20%; margin-left:5px;">{{html dateMngr.getMinuteOptions()}}</select></td></tr><tr class="monthInput" style="display:none;"><td>Month</td><td><select name="monthOptions">{{html dateMngr.getMonthOptions()}}</select></td></tr><tr class="bUnitInput" style="display:none;"><td style="width:35%">Site Name</td><td><select name="siteName" multiple style="width:100%;">{{each(i, bUnit) bUnits}}{{if i == 0}}<option value="${bUnit}" selected="selected">${bUnit}</option>{{else}}<option value="${bUnit}">${bUnit}</option>{{/if}}{{/each}}</select></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><div class="view"><input type="submit" value="View" class="buttonstyle1 wis-btn-sm"/></div></td></tr></tbody></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="bunit-filter"><div><form><table class="billingFilterTable insidewidget formtable" style="width: 400px; position:relative;"><tbody><tr><td style="width:35%">Site Name</td><td><select name="siteName"></select></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="add-trip-in-a-duty" type="text/x-jquery-tmpl">{{if trip.status == STW.Constants.TRIP_STATE_ACTIVE}}<tr><td>${index + 1}</td><td>${trip.tripSheet.id}</td><td><span>${trip.tripSheet.type==trip.tripSheet.TYPE_ADHOC?"Adhoc": dateMngr.getDateTimeIn24HoursFormat(trip.tripSheet.shiftDate)}</span></td><td><span>${dateMngr.getDateTimeIn24HoursFormat(trip.startTime)}</span></td><td><span>${dateMngr.getDateTimeIn24HoursFormat(trip.endTime)}</span></td><td><span>${employeeCount(trip.employeePickupPoints)}</span></td><td><span>${utils.decimalRound(trip.tripDistance)}</span></td><td><span>${getTripIssues(billingIssues, trip.tripSheet.id)}</span></td>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<td><span>${getBillingZoneName(trip)}</span></td>{{/if}}{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td class="billEdit"><a class="edit-trip" index="${index}"> Edit </a> &nbsp;&nbsp;&nbsp;<a class="delete-trip roleBasedAccess" functionalities="trip_delete" index="${index}"> Delete </a></td>{{/if}}<td><span>${getOffice(trip)}</span></td></tr>{{else trip.source != STW.Constants.SOURCE_MANUAL}}<tr class="deletedTrip"><td>${index + 1}</td><td><span>${trip.tripSheet.type==trip.tripSheet.TYPE_ADHOC?"Adhoc": dateMngr.getDateTimeIn24HoursFormat(trip.tripSheet.shiftDate)}</span></td><td><span>${dateMngr.getDateTimeIn24HoursFormat(trip.startTime)}</span></td><td><span>${dateMngr.getDateTimeIn24HoursFormat(trip.endTime)}</span></td><td><span>${employeeCount(trip.employeePickupPoints)}</span></td><td><span>${utils.decimalRound(trip.tripDistance)}</span></td><td><span>${getTripIssues(billingIssues, trip.tripSheet.id)}</span></td>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<td><span>${getBillingZoneName(trip)}</span></td>{{/if}}{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td></td>{{/if}}<td><span>${getOffice(trip)}</span></td></tr>{{/if}}</script></div><div class="TC"><script type="text/x-jquery-tmpl" id="duty-info-tmpl"><div class="modern-dutyInfo"><table style="width:100%;margin:0px;" class="tablestyle1"><thead><tr><th colspan="4">${billingDuty.cab.displayCabId} (${billingDuty.cab.identification})</th></tr></thead><tbody><tr><td>Start Duty</td><td class="reportInTime" style="cursor: pointer;"><strong>${dateMngr.getDateTimeIn24HoursFormat(billingDuty.reportIn)}</strong></td><td>End Duty</td><td class="reportOffTime">{{if billingDuty.state == STW.Constants.STATE_OFF_DUTY}}<strong style="cursor: pointer;">${dateMngr.getDateTimeIn24HoursFormat(billingDuty.reportOff)}</strong>{{else}}<strong>In Progress</strong>{{/if}}</td></tr><tr><td>Pickup</td><td><strong>${numberOfTrips(billingDuty, "IN")}</strong></td><td>Drop</td><td><strong>${numberOfTrips(billingDuty, "OUT")}</strong></td></tr><tr><td>Duration</td><td>${getDutyDuration(billingDuty)}</td><td title="trip kms in the duty + approved empty leg km in the duty">Travelled KM</td><td class="dutyKM"><strong>${universalFun.decimalRound(billingDuty.dutyDistance)}</strong></td></tr><tr><td title="Traveled km + garage km">Total KM</td><td>{{if billingDuty.state==STW.Constants.STATE_ON_DUTY}}<strong>In Progress</strong>{{else billingDuty.garageCalculationStatus==STW.Constants.STATUS_GARAGE_PENDING}}<strong>Garage Pending </strong><a class="recalculateGarage" style="margin-left:10px;"><img src="img/reload.png" title="Click to recalculate garage km"></a>{{else}}<strong>${universalFun.decimalRound(billingDuty.dutyDistance + billingDuty.garageKm + billingDuty.calibration)}</strong>{{/if}}</td><td colspan=2>{{if billingDuty.cab.device}}<a class="getDeviceHealth roleBasedAccess" functionalities="device_health_logs" style="margin-right: 20px;">Device Health</a>{{/if}}{{if STW.Cache.showGoogleDistance() == true}}<a title="google map km based on actual sign in sign off locations" class="showMapDist">Map KM</a>{{/if}}{{if dutyOperations.canForceEndDuty == true && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_VM}}<a class="forceEndDuty roleBasedAccess" functionalities="bill_edit" id="${billingDuty.dutyId}" style="margin-left: 20px;">Force End Duty/Trip</a>{{else billingDuty.state != STW.Constants.STATE_OFF_DUTY}}<span class="roleBasedAccess disabled-anchor" functionalities="bill_edit" title="${forceEndDutyTitle(dutyOperations, billingDuty)}" style="margin-left: 20px;">Force End Duty/Trip</span>{{/if}}{{if STW.Cache.splitEmptyLegsEnabled() == true}}<input type="button" name="splitEmptyLegs" style="margin-left: 20px;min-height:25px;" value="Split Empty Legs" class="buttonstyle1 wis-btn-sm"/>{{/if}}{{if STW.Cache.isNewBillingResolutionUIEnabled()}}<input type="button" name="autoResolveIssues" class="buttonstyle1 roleBasedAccess wis-btn-sm" functionalities="bill_edit" style="margin-left: 20px;min-height:25px;" value="Auto Resolve Issues"/>{{/if}}</td></tr>{{if STW.Cache.isOneTripPerDuty() == true}}<tr><td title="google map km based on planned sign in sign off locations">Reference KM</td><td><span class="totalRefKM" style="font-weight: bold;"></span></td><td colspan=2></td></tr>{{/if}}<tr class="saveCancelButton" style="display: none;"><td colspan=4  style="text-align:center"><input type="button" name="save" value="Save" class="buttonstyle1 wis-btn-sm"/><input type="button" name="cancel" value="Reset" class="buttonstyle1 wis-btn-sm"/></td></tr></tbody></table></div></script></div><div class="TC"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><script id="employeeInfo" type="text/x-jquery-tmpl"><div><div style="max-height:700px; max-width: 1000px; overflow:auto;">{{each(office, countMap) officeCount}}<table class="tablestyle1 employee-info-box" style="float: left;"><tr><th rowspan="2">${office}</th></tr><tr><td class="right-top-col" style="font-size: 14px;text-align:center;" title="No. of employees scheduled from this office">Scheduled: ${countMap.scheduled ? countMap.scheduled : 0}</td><td class="right-bot-col" style="text-align:center;" title="No. of employees who actually belong to this office">Actual: ${countMap.actual ? countMap.actual : 0}</td></tr></table>{{/each}}<table class="employeeInfo insidewidget tablestyle1 popup-table" style="margin-top: 0px;width: 94%;box-shadow: none;" cellspacing="0px"><thead><tr><th><span>S. No</span></th><th style="width: 50px;" class="" id=""><span>Id</span></th><th style="width: 120px;" class="" id=""><span>Name</span></th><th style="width: 80px;" class="" id=""><span>Phone</span></th><th style="width: 50px;" class="" id=""><span>Gender</span></th><th><span>Actual Office</span></th><th class="" id=""><span>PickUp Location</span></th><th class="" id=""><span>Drop Location</span></th>{{if STW.Cache.displayCovidRedZones()}}<th style="width: 80px;"><span>Ward</span></th><th style="width: 80px;"><span>Zone</span></th>{{/if}}{{if type != "scheduled" && STW.Cache.isRejectShiftRoute}}<th style="width: 150px;"><span>Last Updated Time</span></th><th style="width: 80px;"><span>Action</span></th>{{/if}}</tr></thead><tbody>{{if highLightCustom }}<tr><td colspan="5">* Employees to be routed manually</td></tr>{{/if}}{{each(index, emp) employeeList}}<tr style=${highLightCustom==true && emp.scheduleType == STW.Constants.CUSTOM_DUE_TO_USER_REQUEST?"font-weight:bold":""}><td><span> ${index+1}{{if emp.isSpecialNeed == true}}<img src="img/adhoc.svg"  title="${emp.specialNeedType}" class="adhoc access-based-matrix" pii_id="EMP_SPECIAL" style="margin-left: 10px;" alt="">{{/if}}</span></td><td><span class = "routeEmployeeId access-based-matrix" pii_id="EMP_ID"> ${emp.eid} </span></td><td class="access-based-matrix" pii_id="EMP_NAME"><span> ${emp.name} {{if highLightCustom==true && emp.scheduleType == STW.Constants.CUSTOM_DUE_TO_USER_REQUEST }} * {{/if}}</span></td><td class="access-based-matrix" pii_id="EMP_MOB"><span> ${emp.phone}  </span></td><td class="access-based-matrix" pii_id="EMP_GEN"><span> ${emp.gender==STW.Constants.FEMALE ? "Female" : emp.gender==STW.Constants.MALE ? "Male" : emp.gender==STW.Constants.GENDER_NEUTRAL ? "Gender Neutral" : "NA"} </span></td><td><span> ${emp.office ? emp.office.address : "NA"} </span></td>{{if type == "scheduled"}}<td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>{{if shift.type == STW.Constants.TYPE_LOGIN}}${emp.location ? emp.location.address : emp.home.address}{{else shift.type == STW.Constants.TYPE_LOGOUT}}${emp.scheduledOffice ? emp.scheduledOffice.address : emp.office ? emp.office.address : ""}{{/if}}</span></td><td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>{{if shift.type == STW.Constants.TYPE_LOGIN}}${emp.scheduledOffice ? emp.scheduledOffice.address : emp.office ? emp.office.address : ""}{{else shift.type == STW.Constants.TYPE_LOGOUT}}${emp.location ? emp.location.address : emp.home.address}{{/if}}</span></td>{{if STW.Cache.displayCovidRedZones()}}<td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.ward}</span></td><td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.zone}</span></td>{{/if}}{{else}}<td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.pickupLoc ? emp.pickupLoc.address : ""}</span></td><td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.dropLoc ? emp.dropLoc.address : ""}</span></td>{{if STW.Cache.displayCovidRedZones()}}<td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.ward}</span></td><td style="padding:0 5px; text-align:left;" class="access-based-matrix" pii_id="EMP_ADDR"><span>${emp.zone}</span></td>{{/if}}{{if type != "scheduled" && STW.Cache.isRejectShiftRoute}}<td style="padding:0 5px; text-align:left;"><span><center>${emp.updateTime}</center></span></td><td style="padding:0 5px; text-align:left;"><span class="removeScheduledRouteOfEmployee" index=${index}><center><i class="material-icons" title="cancel schedule">delete</i></center></span></td>{{/if}}{{/if}}</tr>{{/each}}</tbody></table></div></div></script></div><div class="TC"><script id="manualGenerateRoute-tmpl" type="text/x-jquery-tmpl"><div class="formContainer" style="padding: 20px;"><form method="post"><table style="margin-top: 0; width: 600px;" class="form-table"><tbody><tr style="background: #F5F7FC;"><td><label class="light-label">Date</label><span class="light-value">${date}</span></td><td class="route-shifts"><label class="light-label">Shift</label><span class="light-value" name="shift">${selectedShifts}</span>{{if selecteddhiftcount>0}}	<span class="chip">+${selecteddhiftcount}</span><span class="tooltip">${slectedshitstooltopdata}</span>{{/if}}</td></tr>{{if STW.Cache.getNodalVisibility() && false}}<tr><td><label>Pickup/Drop</label></td><td><select name="localityType" class="modern-select"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select name="femaleConstraint" class="modern-input"><option value="1">Same as Shift</option><option value="2">First/Last Female</option><option value="3">Second/SecondLast Female</option><option value="4">Any Female</option><option value="0">Disable</option></select></td></tr>{{if STW.Cache.isMaleBuddyDeviationEnabled()}}<tr><td><label class="male-buddy">Male Buddy Deviation</label></td></tr><tr style="display: none" class="male-buddy-deviation"><td><label>Extra Deviation Allowed (kms)</label></td><td><input class="modern-input" type="number" name="maleBuddyDeviation" maxLength="4" min="0"></td></tr>{{/if}}{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<tr><td><label>Generate Shuttle Routes</label></td><td class="text-right"><div class="modern-switch"><input name="generateShuttle" type="checkbox" id="toggleSwitch" value=true checked><label for="toggleSwitch"></label></div></td></tr>{{/if}}{{if STW.Cache.isAllowRouterBufferPickTimeEnabled()}}<tr><td><label>Buffer Pick Up Time</label></td><td><input type="number" class="modern-input" name="routerBufferPickTime" min="-90" max="90"></td></tr>{{/if}}<tr style="display: none"><td class="cabSelected" colspan="2"></td></tr>{{if STW.Cache.isFleetMixRoutingEnabled()}}<tr class="fleetmixOptions"><td><label>Specify Fleet Mix</label></td><td class="text-right"><img  class="showFleetMix" src="img/ic-navigation-drop-down-24.svg" /></td></tr>{{each(k, cabType) fleetMix}}<tr class="fleetmixOptions fleetMix" style="display: none;"><td><label>${maxCapacity} Seaters</label></td><td><input class="modern-input" type="text" name="fleetSize.${k}" maxLength="4"></td></tr>{{/each}}{{/if}}<tr><td><label>Override Office Clubbing</label></td><td class="text-right"><img class="office-clubbing" src="img/ic-navigation-drop-down-24.svg" /></td></tr>{{each(k, office) officeList}}<tr style="display: none" class="office-group"><td><label>${address}</label></td><td><select id="${id}" class="offices modern-select">{{each(k, office) officeList}}<option>${k+1}</option>{{/each}}</select></td></tr>{{/each}}<tr><td colspan="2" style="border-top: 1px solid #E0E0E0;text-align: right"><input type="submit" class="primary-btn" value="Generate" name="generateRoute"></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="pickupTimeUpdate-tmpl" type="text/x-jquery-tmpl"><div class="formContainer" style="margin:0px"><form method="post"><table style="margin-top: 0; width: 428px;" class="formtable update-time-table"><tbody><tr class="update-time-wrapper"><td><label>Buffer Pick Up Time</label></td><td><input type="number" name="routerBufferPickTime" min="-90" max="90"></td></tr><tr style="height: 60px ;border-top:1px solid #E0E0E0"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" style="float:right" class="buttonstyle1 wis-btn-md" value="Update" name="updatePickupTimeFromPopup" ></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="manualAdjustRoute-tmpl" type="text/x-jquery-tmpl"><div class="formContainer"><form method="post"><table style="margin-top: 0; width: 600px;" class="form-table"><tbody><tr style="background: #F5F7FC;"><td><label class="light-label">Date</label><span class="light-value">${date}</span></td><td><label class="light-label">Shift</label><span class="light-value" name="shift">${selectedShifts}</span></td></tr>{{if STW.Cache.getNodalVisibility() && false}}<tr><td><label>Pickup/Drop Point</label></td><td><select name="localityType" class="modern-select"><option value="${STW.Constants.TYPE_NONE}">Same as shift</option><option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_PICKUP}">Nodal</option></select></td></tr>{{/if}}<tr><td><label>Female Constraint</label></td><td><select name="femaleConstraint" class="modern-input"><option value="1">Same as shift</option><option value="2">First/Last Female</option>{{if STW.Cache.featureMarshallRequiresForSecondFemale}}<option value="3">Second/SecondLast Female</option>{{/if}}{{if STW.Cache.featureMarshallRequiredForAnyFemale}}<option value="4">Any Female</option>{{/if}}<option value="0">Disable</option></select></td></tr><tr style="display: none"><td class="cabSelected" colspan="2"></td></tr><tr><td><label>Override Office Clubbing</label></td><td class="text-right"><img class="office-clubbing" src="img/ic-navigation-drop-down-24.svg" /></td></tr>{{each(k, office) officeList}}<tr style="display: none" class="office-group"><td><label>${address}</label></td><td><select id="${id}" class="offices modern-select">{{each(k, office) officeList}}<option>${k+1}</option>{{/each}}</select></td></tr>{{/each}}<tr><td colspan="2" style="border-top: 1px solid #E0E0E0;text-align: right"><input type="submit" class="primary-btn" value="Adjust" name="generateRoute"></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="tripsheet-status-count-tmpl" type="text/x-jquery-tmpl"><table class="formtable" style="width:350px display:none;"><tr><th><span>Shift Trip Status</span></th></tr>{{if routeStatus.cabAssignedTwiceInSameShift.length>0}}<tr><td><a class="cabAssignedTwiceInSameShift">1+ trip in same shift - ${routeStatus.cabAssignedTwiceInSameShift.length}</a></td></tr>{{/if}}{{if routeStatus.employeeTravellingHighExtraDistance.length>0}}<tr><td><a class="employeeTravellingHighExtraDistance">Deviation distance Issues - ${routeStatus.employeeTravellingHighExtraDistance.length}</a></td></tr>{{/if}}{{each(index, contract) contractTypes}}{{if contract.id!=STW.Constants.STANDBY_CONTRACTID && hasTripsheetIssue(contract.id)}}<tr><td><span style="font-weight: bold;">${contract.contractName+" ("+contract.shortCode+")"}</span>{{if routeStatus.cabsGarage[contract.id] && routeStatus.cabsGarage[contract.id].length>0}}</td></tr><tr><td><a class="cabsGarage" contractId=${contract.id}>Garage ${routeStatus.cabsGarage[contract.id][0].warningCount}+ KM - ${routeStatus.cabsGarage[contract.id].length}</a></td></tr>{{/if}}{{if routeStatus.runningLong[contract.id] && routeStatus.runningLong[contract.id].length>0}}<tr><td><a class="runningLong" contractId=${contract.id}>Trips distance ${routeStatus.runningLong[contract.id][0].warningCount}+ KM - ${routeStatus.runningLong[contract.id].length}</a></td></tr>{{/if}}{{if routeStatus.runningShort[contract.id] && routeStatus.runningShort[contract.id].length>0}}<tr><td><a class="runningShort" contractId=${contract.id}>Trip distance < ${routeStatus.runningShort[contract.id][0].warningCount} KM - ${routeStatus.runningShort[contract.id].length}</a></td></tr>{{/if}}{{if routeStatus.tooLessTrips[contract.id] && routeStatus.tooLessTrips[contract.id].length>0}}<tr><td><a class="tooLessTrips" contractId=${contract.id}> Fewer than ${routeStatus.tooLessTrips[contract.id][0].warningCount + 1} trips for the day - ${routeStatus.tooLessTrips[contract.id].length}</a></td></tr>{{/if}}{{/if}}{{/each}}</table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="routeStatus"><div class="route-header"><div class="modern-date-container"><input class="modern-date-picker datePicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" readonly placeholder="Please select date"></div><div class="route-title">Route Management Dashboard</div><div class="route-info">All schedules older than 2 months will be/ have been archived</div></div><div id="routeSummary" class="roleBasedAccess" functionalities="route_view, vendormanager_view" style="padding: 0 24px"></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="addEditHolidayTemplate"><div><form><table style="margin: auto; position: relative; width: 350px"class="insidewidget formtable"><tr><td colspan="2" class="tablehead" style="background:#0937B2;color:white;">ADD HOLIDAY</td></tr><tr><td style="width: 40%">Date</td><td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;">{{if holiday}}${dateMngr.getDateOnly(holiday.date)}{{else}}<input class="datePicker modern-date-picker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none;" />{{/if}}</td></tr><tr><td>Description</td><td><input type="text" name="description" maxlength="100"title="0 to 100 characters" /></td></tr><tr><td colspan="2"><a class="addHolidayComment"style="float: left;">Comment</a></td></tr><tr class="holidayCommentBox" style="display: none;"><td colspan="2"><textarea rows="3" name="holidayComment"style="width: 98%;"></textarea></td></tr><tr class="holidayHistoryBox" style="display: none;"><td colspan="2"></td></tr><tr style="height: 40px"><td colspan="2" style="text-align: center; border-bottom: none;"><input type="submit" class="buttonstyle1 wis-btn-sm" value="Save" ><input type="button" class="buttonstyle1 wis-btn-sm" name="cancel" value="Cancel"/></td></tr></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="holidayTemplate"><table id="holidayListTable" class="insidewidget tablestyle1 modern-table" cellspacing="0px" style="width:80%;clear:both"><tr><th class="leftrad">S. No.</th><th>Date</th><th>Description</th><th class="roleBasedAccess" functionalities="bill_view">Action</th></tr>{{each(index, holiday) holidayList}}<tr><td>${index+1}</td><td>${dateMngr.getDateAndYear(holiday.date)}</td><td>${holiday.description}</td><td class="roleBasedAccess" functionalities="bill_view"><a class="editHoliday" index=${index} style="margin-right:10px;">Edit</a><a class="deleteHoliday" index=${index}>Delete</a></td></tr>{{/each}}</table></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="append-cab-duties"><table style="position:relative;width:100%" class="insidewidget tablestyle1" cellspacing="0px"><thead><tr><th class="leftrad roleBasedAccess" functionalities="bill_edit"><input type=checkbox class="selectAllDuties" /></th><th>S. No.</th><th>Total KM</th><th>Start Time</th><th>End Time</th><th>Total Hours</th><th>Total Trips</th><th class="rightrad">Actions</th></tr></thead><tbody>{{each(i, duty) dutyList}}{{if status == STW.Constants.DUTY_STATUS_ACTIVE}}<tr ${isTripInDuty(duty) ? "style=background-color:yellow;":""}><td><input type=checkbox class="selectDuty" value="${duty.dutyId}" /></td>{{else}}<tr class="deletedDuty" ${isTripInDuty(duty) ? "style=background-color:yellow;":""}><td></td>{{/if}}<td>${i+1}</td><td>${universalFun.decimalRound(duty.dutyDistance + duty.garageKm + duty.calibration)}</td><td>${dateMngr.getDateTimeIn24HoursFormat(duty.reportIn)}</td><td>${dateMngr.getDateTimeIn24HoursFormat(duty.reportOff)}</td><td>${dateMngr.getDifferenceInHourAndMin(duty.reportIn, duty.reportOff)}</td><td>${duty.billingTrips.length}</td><td>{{if duty.dutyOperations.isRestorable}}<a class="restore-duty roleBasedAccess" functionalities="bill_edit" dutyId=${duty.dutyId} >Restore</a> &nbsp;&nbsp;&nbsp;{{/if}}{{if duty.dutyOperations.isRestorableFromPlatform}}<a class="restore-duty-platform roleBasedAccess"  functionalities="bill_edit" dutyId=${duty.dutyId} >Restore Original Duty</a> &nbsp;&nbsp;&nbsp;{{/if}}{{if duty.dutyOperations.isTransferrable}}<a class="roleBasedAccess"  functionalities="bill_edit" href='javascript:{"cabId":"${duty.cab.id}","dutyId":"${duty.dutyId}","cabName":"${cab.identification}","method":"transferDuty"}' style="margin-right: 10px;" >Transfer</a>{{/if}}{{if status == STW.Constants.DUTY_STATUS_ACTIVE}}<a class="edit-duty roleBasedAccess"  functionalities="bill_edit" href='javascript:{"method":"editDuty","rptName":"TripWiseBreakUp_Report","displayName":"TripWise Breakup Report","dutyId":"${duty.dutyId}","date":"${duty.reportIn}","cabId":"${duty.cab.id}"}' >Edit </a> &nbsp;&nbsp;&nbsp;{{/if}}{{if duty.dutyOperations.isDeletable}}<a class="delete-duty roleBasedAccess" functionalities="duty_delete" dutyId=${duty.dutyId} >Delete</a>&nbsp;&nbsp;&nbsp;{{else}}<a class="roleBasedAccess" functionalities="duty_delete" style="color: gray;" dutyId=${duty.dutyId} title="Please restore the duty before deleting it">Delete</a>&nbsp;&nbsp;&nbsp;{{/if}}{{if duty.state == STW.Constants.STATE_OFF_DUTY}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","dutyId":"${duty.dutyId}","cabId":"${duty.cab.id}","method":"viewDutyOnMap","date":"${duty.reportIn}"}'>View Map</a>{{else}}<a href='javascript:{"rptName":"BillingDashboard_Servlet","dutyId":"${duty.dutyId}","cabId":"${duty.cab.id}","method":"viewIncompleteDuty","date":"${dateMngr.getDateOnly(duty.reportIn)}"}'>View Map</a>{{/if}}{{if window.location.hostname.indexOf("amazon") != -1}}<a style="margin-left:10px;" href='javascript:{"rptName":"BillingDashboard_Servlet","dutyId":"${duty.dutyId}","cabId":"${duty.cab.id}","method":"processDuty","date":"${dateMngr.getDateOnly(duty.reportIn)}"}'>Process Duty</a>{{/if}}</td></tr>{{/each}}</tbody></table></script></div><div class="TC"><script id="manageRoutesTemplate" type="text/x-jquery-tmpl"><style>.switch {position: relative;display: inline-block;}.switch input {display: none;}.slider {position: absolute !important;cursor: pointer;right: -43px;top: -15px;background-color: #ccc;transition: .4s;width: 50px;height: 24px;}.slider:before {position: absolute;content: "";height: 20px;width: 20px;left: 2px;bottom: 2px;background-color: white;-webkit-transition: .4s;transition: .4s;}input:checked+.slider {background-color: #0937B2;}input:focus+.slider {box-shadow: 0 0 1px #2196F3;}input:checked+.slider:before {-webkit-transform: translateX(26px);-ms-transform: translateX(26px);transform: translateX(26px);}.slider.round {border-radius: 34px;}.slider.round:before {border-radius: 50%;}.route-details{padding: 0 24px;}.route-details .d-flex {height: 64px;align-items: center;}.modern-head-container{flex: 1;padding: 0 25px;text-align: center;}.route-details .modern-header{font-size: 16px;color: var(--lt-text-black, #181F33);font-family: Lato;font-style: normal;font-weight: 400;line-height: 24px;}.route-details .modern-sub-header{color: var(--lt-text-muted, #6A737D);font-size: 14px;font-family: Lato;font-style: normal;font-weight: 400;line-height: 20px;letter-spacing: 0.2px;text-align: center;}.route-details .field-label{color: #000;font-size: 16px;font-family: Lato;font-style: normal;font-weight: 400;line-height: 24px;}.route-details .field-title{color: var(--lt-text-black, #181F33);font-size: 14px;font-family: Lato;font-style: normal;font-weight: 400;line-height: 20px;letter-spacing: 0.2px;padding-right: 5px;}.modern-date-custom{padding-left: 25px;position: inherit;}.modern-select-field{border-radius: 6px;border: 1px solid var(--lt-bg-ntrl-seperators, #E0E0E0);background: var(--lt-text-white, #FFF);height: 32px;width: 100px;margin-left: 12px;margin-right: 24px;color: var(--lt-text-black, #181F33);font-size: 16px;}</style><div class="route-details"><div class="d-flex"><div id="backLinks" class="roleBasedAccess" functionalities="route_view"><a class="routeMgmtDashboard"><img src="img/ic-navigation-arrow-left-24.svg"></a></div><div class="modern-date-container modern-date-custom"><input class="modern-date-picker datePicker" name="date" type="text" value=""title="Date format: dd/MM/yyyy" readonly placeholder="Please select date"></div>{{if STW.Cache.newRouteEngineURL()}}<div class="d-flex" style="margin-left:34px;padding: 10px 0;"><label style="color: black;margin:0px;"><input name="useBetaServer" type="checkbox" value="true" id="useBetaServer" style="vertical-align: middle; width: 16px;margin:0px"></label><label for="useBetaServer" style="color: black;margin:0px;">Use Routing 2.0</label></div>{{/if}}<div class="modern-head-container"><div class="modern-header">Route Management Dashboard</div><div class="modern-sub-header">${getOfficeNames()}</div></div><div><label class="field-label">Shift Type </label><select class="modern-select-field" name="shiftType"><option value="${STW.Constants.TYPE_ALL_SHIFTS}">All</option><option value="${STW.Constants.TYPE_LOGIN}">Login</option><option value="${STW.Constants.TYPE_LOGOUT}">Logout</option></select></div><div style="width: 210px"><span class="field-title">Open New Route Editor</span><span><label class="switch"><input type="checkbox" id="new-route"><span class="slider round"></span></label></span></div></div><div class="route-table-cont"></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="adjustInCabsTemplate"><div class="adjustInCabs"><form id="adjustCab"><table id="adjustTimeTable" style="position:relative;width:400px;margin-top:0px;" class="insidewidget formtable"><thead></thead><tbody><tr><td colspan="3" class="tablehead rightrad leftrad">ADJUST EMPLOYEE</td></tr><tr><td style="width: 25%;">Shift Type</td><td colspan="2"><select name="shiftType"><option value=0>Pick Up</option><option value=1>Drop</option></select></td></tr><tr><td>From</td><td><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy"/></td><td><select name="startHours"> {{html dateMngr.getHourOptions(dateMngr.getHours(dateMngr.addTimeInDate(currentDate)))}} </select><select name="startMins"> {{html dateMngr.getMinuteOptions(dateMngr.getMinutes(dateMngr.addTimeInDate(currentDate)))}} </select></td></tr><tr><td>To</td><td><input class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy"/></td><td><select name="endHours"> {{html dateMngr.getHourOptions(dateMngr.getHours(dateMngr.addTimeInDate(currentDate)))}} </select><select name="endMins"> {{html dateMngr.getMinuteOptions(dateMngr.getMinutes(dateMngr.addTimeInDate(currentDate)))}} </select></td></tr><tr><td class="reportOrDrop">Drop Place</td><td colspan="2"><select name="pickup"><option value="${STW.Constants.TYPE_OFFICE}">Office</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option></select></td></tr><tr style="height:40px"><td colspan="3" style="text-align:center;border-bottom:none;"><input type="button" class="buttonstyle1" name="listCabs" value="Show Cabs" /><input type="button" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></tbody></table></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="adjustInCabsTemplateOld"><div class="adjustInCabs"><form id="adjustCab"><table class="adjustTimeTable" style="margin: 0 auto; width:350px"><thead><tr><th colspan="3">${emp.empname} (${emp.eid})</th></tr></thead><tbody><tr><td>Contact Number</td><td colspan="2">${emp.contactNumber}</td></tr><tr><td>Shift Type</td><td colspan="2"><select name="shiftType"><option value=0>Pick Up</option><option value=1>Drop</option></select></td></tr><tr><td>Shift Time</td><td colspan="2"><select name="shiftTime"></select></td></tr><tr style = "display:none"><td>Reporting Time</td><td><input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy"/></td><td><select name="startHours"> {{html getHourOptions()}} </select><select name="startMins"> {{html getMinuteOptions()}} </select></td></tr><tr><td>Reporting Place</td><td colspan="2"><select name="pickup"><option value="${STW.Constants.TYPE_OFFICE}">Office</option><option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td></tr><tr style="height:40px"><td colspan="3" style="text-align:center;border-bottom:none;"><input type="button" class="buttonstyle1" name="listCabs" value="Show Cabs" /></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="addEmployeeToTripsheetTemplate" type="text/x-jquery-tmpl"><div class="addEmployeeToTripsheet" style="width:500px;"><form class="addEmployeeToTripsheetForm"><table id="addEmployeeToTripsheet" class="modern-table"><tbody><tr><th colspan="3">Add Employee</th></tr><tr><td style="width:35%;"><label class="modern=label">Name</label></td><td colspan="2"><div id="tripsheetEmpSearchComboCont"></div></td></tr>{{if STW.Cache.isSecondaryAddressFeatureEnabled()}}<tr><td><label  class="modern=label">Pickup/Drop Point: </label></td><td><input class="modern-checkbox" type="radio"  name="address" id ="primary" value="primary" checked>primary</td><td><input class="modern-checkbox" type="radio" name="address" id="secondary" value="secondary">secondary</td></tr>{{/if}}<tr><td><label class="modern=label">${wRoute.route.dir == "IN"?"Start Location" : "End Location"}</label></td><td><select name="location" class="modern-select">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<option value="${STW.Constants.TYPE_SHUTTLE_STOP}" id="-1">Default Shuttle Stop</option>{{each(index, stop) shuttleStopList}}<option value="${STW.Constants.TYPE_SHUTTLE_STOP}" id="${id}">${address}</option>{{/each}}{{/if}}{{if STW.Cache.getNodalVisibility()}}<option value="${STW.Constants.TYPE_PICKUP}">Nodal</option>{{/if}}<option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option>{{if STW.Cache.isShuttleRoutingFeatureEnabled()  && STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}{{if wRoute.route.dir == "IN"}}<option value="${STW.Constants.TYPE_ADDITIONAL_LOGIN_SHUTTLE_STOP}">Special Login Shuttle Stop</option>{{else}}<option value="${STW.Constants.TYPE_ADDITIONAL_LOGOUT_SHUTTLE_STOP}">Special Logout Shuttle Stop</option>{{/if}}}{{/if}}</select></td></tr><tr class="otherAddress" style="display:none"><td><label class="modern=label">Pickup/Drop point</label></td><td><input type="text" name="otherAddress" class="modern-input"/><br><span id="otherAddress-error" style="color:red;"></span></td></tr><tr style="height:70px; border-top: 1px solid #E0E0E0;"><td colspan="3" style="text-align:right;border-bottom:none;"><input type="button" class="cancel secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" value="Add" /></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="editEmployeeOfficeTemplate" type="text/x-jquery-tmpl"><div class="editEmployeeOffice" style="width:500px;"><form class="editEmployeeOfficeForm"><table id="editEmployeeOffice" class="modern-table"><tbody><tr><th colspan="2" class="tablehead">Edit Office</th></tr><tr class="empName"><td style="width:35%;"><label class="modern=label">Name</label></td><td><div id="tripsheetEmpSearchComboCont"></div></td></tr><tr><td><label class="modern=label">Office</label></td><td><select name="location" class="modern-select">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}<option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td></tr><tr class="otherAddress" style="display:none"><td><label class="modern=label">Pickup/Drop point</label></td><td><input type="text" name="otherAddress" class="modern-input" /><br><span id="otherAddress-error" style="color:red;"></span></td></tr><tr style="height:70px; border-top: 1px solid #E0E0E0;"><td colspan="2" style="text-align:right;border-bottom:none;"><input type="button" class="cancel secondary-btn" name="cancel" value="Cancel"/><input type="submit" class="primary-btn" value="Add" /></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="addEmployeeToPerformedTripTemplate" type="text/x-jquery-tmpl"><div class="addEmployeeToTripsheet" style="width:400px;"><form class="addEmployeeToTripsheetForm"><table style="margin:auto;position:relative;width:100%;" id="addEmployeeToTripsheet" class="insidewidget formtable"><tbody><tr><td colspan="3" class="tablehead">Add Employee</td></tr><tr><td style="width:35%;"><label>Name</label></td><td colspan="2"><div id="tripsheetEmpSearchComboCont"></div></td></tr><tr><td><label>Employee Type: </label></td><td><input type="radio" name="isadhoc" id ="adhoc" value="adhoc" checked>adhoc</td><td><input type="radio" name="isadhoc" id="planned" value="planned">planned</td></tr>{{if STW.Cache.isSecondaryAddressFeatureEnabled()}}<tr><td><label>Pickup/Drop Point: </label></td><td><input type="radio" name="address" id ="primary" value="primary" checked>primary</td><td><input type="radio" name="address" id="secondary" value="secondary">secondary</td></tr>{{/if}}<tr><td><label>${wRoute.route.dir == "IN"?"Start Location" : "End Location"}</label></td><td><select name="location">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<option value="${STW.Constants.TYPE_SHUTTLE_STOP}" id="-1">Default Shuttle Stop</option>{{each(index, stop) shuttleStopList}}<option value="${STW.Constants.TYPE_SHUTTLE_STOP}" id="${id}">${address}</option>{{/each}}{{/if}}{{if STW.Cache.getNodalVisibility()}}<option value="${STW.Constants.TYPE_PICKUP}">Nodal</option>{{/if}}<option value="${STW.Constants.TYPE_HOME}">Pickup/Drop Point</option><option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option>{{if STW.Cache.isShuttleRoutingFeatureEnabled()  && STW.Cache.isDefaultLoginLogoutShuttleEnabled() && STW.Cache.isMultipleShuttlesForShiftEnabled()}}{{if wRoute.route.dir == "IN"}}<option value="${STW.Constants.TYPE_ADDITIONAL_LOGIN_SHUTTLE_STOP}">Special Login Shuttle Stop</option>{{else}}<option value="${STW.Constants.TYPE_ADDITIONAL_LOGOUT_SHUTTLE_STOP}">Special Logout Shuttle Stop</option>{{/if}}}{{/if}}</select></td></tr><tr class="otherAddress" style="display:none"><td><label>Pickup/Drop point</label></td><td><input type="text" name="otherAddress" /><br><span id="otherAddress-error" style="color:red;"></span></td></tr><tr style="height:40px"><td colspan="3" style="text-align:center;border-bottom:none;"><input type="submit" class="buttonstyle1" value="Add" /><input type="button" class="cancel buttonstyle1" name="cancel" value="Cancel"/></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="editEmployeeOfficeTemplate" type="text/x-jquery-tmpl"><div class="editEmployeeOffice" style="width:400px;"><form class="editEmployeeOfficeForm"><table style="margin:auto;position:relative;width:100%;" id="editEmployeeOffice" class="insidewidget formtable"><tbody><tr><td colspan="2" class="tablehead">Edit Office</td></tr><tr class="empName"><td style="width:35%;"><label>Name</label></td><td><div id="tripsheetEmpSearchComboCont"></div></td></tr><tr><td><label>Office</label></td><td><select name="location">{{each(k, office) STW.Cache.getOfficeList()}}<option value="${STW.Constants.TYPE_OFFICE}" id="${id}">${address}</option>{{/each}}<option value="${STW.Constants.TYPE_TRANSPORT}">Airport</option><option value="${STW.Constants.TYPE_OTHER}">Other</option></select></td></tr><tr class="otherAddress" style="display:none"><td><label>Pickup/Drop point</label></td><td><input type="text" name="otherAddress" /><br><span id="otherAddress-error" style="color:red;"></span></td></tr><tr style="height:40px"><td colspan="2" style="text-align:center;border-bottom:none;"><input type="submit" class="buttonstyle1" value="Add" /><input type="button" class="cancel buttonstyle1" name="cancel" value="Cancel"/></td></tr></tbody></table></form></div></script></div><div class="TC"><script id="realtime-dashboard-tmpl" type="text/x-jquery-tmpl"><div class="analytics-modern-table-wrapper"><table style="position:relative; float:left; width:350px;" id="managementreport" class="insidewidget formtable"><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><th style="background-color: yellow;">Real Time Reports</th></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"NoShowSummary_Report","displayName":"No Show Report","startDate":"${date}","endDate":"${date}","method":"getNoShowReport","isSingleDay":"true"}' > No Show Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Escort_Summary_Report","displayName":"Escort Summary Report","startDate":"${date}","endDate":"${date}","method":"getEscortReport"}' > Escort Deployment Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"OnTimeArrival_Report","displayName":"On Time Arrival Report","startDate":"${date}","endDate":"${date}","method":"getOnTimeArrivalReport","isSingleDay":"true"}' > On Time Arrival (OTA) Report </a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"OnTimeDeparture_Report","displayName":"On Time Departure Report","startDate":"${date}","endDate":"${date}","method":"getOnTimeDepartureReport","isSingleDay":"true"}' > On Time Departure (OTD) Report </a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"SeatUtilization_Report","displayName":"Seat Utilization Report","startDate":"${date}","endDate":"${date}","method":"getSeatUtilizationReport"}' > Seat Utilization Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"RosteredTripInfo_Report","displayName":"Planned trip status","startDate":"${date}","endDate":"${date}","method":"getRosteredTripReport"}' > Planned trip status</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:{"rptName":"Employee_History_Report","displayName":"Employee History Report","startDate":"${date}","endDate":"${date}","method":"getEmployeeHistoryReport"}' > Employee History Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"SignOffViolation_Report","displayName":"Sign In/Off Violation Report","startDate":"${date}","endDate":"${date}","method":"getSignOffViolationReport"}' > Sign In/Off Violation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Automation_Status_Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'> Automation Status Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"BA_Raw_Report","displayName":"BA Raw Report","startDate":"${date}","endDate":"${date}","method":"getBARawData"}' > BA Raw Data</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Auto_Vendor_Allocation_Logs&displayName=Auto Vendor Allocation Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'> Auto Vendor Allocation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Generate_Route_Logs&displayName=Generate Route Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'> Generate Route Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Update_Pickup_Time_Logs&displayName=Update Pickup Time Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'> Update Pickup Time Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='javascript:{"rptName":"Vehicle_NonUsage_Report","displayName":"Vehicle  capacity non-utilization","date":"${date}"}' > Vehicle Capacity Non-Utilization</a></td></tr></table></div></script></div><div class="TC"><script id="operations-dashboard-tmpl" type="text/x-jquery-tmpl"><div><table style="position:relative; float:left; width:350px;" id="managementreport" class="insidewidget formtable"><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><th>Management Information Systems (MIS) Report</th></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"NoShowSummary_Report","displayName":"No Show Report","startDate":"${date}","endDate":"${date}","method":"getNoShowReport","isSingleDay":"true"}' >No Show Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Escort_Summary_Report","displayName":"Escort Summary Report","startDate":"${date}","endDate":"${date}","method":"getEscortReport"}' >Escort Deployment Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"OnTimeArrival_Report","displayName":"On Time Arrival Report","startDate":"${date}","endDate":"${date}","method":"getOnTimeArrivalReport","isSingleDay":"true"}' >On Time Arrival (OTA) Report </a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"OnTimeDeparture_Report","displayName":"On Time Departure Report","startDate":"${date}","endDate":"${date}","method":"getOnTimeDepartureReport","isSingleDay":"true"}' >On Time Departure (OTD) Report </a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"SeatUtilization_Report","displayName":"Seat Utilization Report","startDate":"${date}","endDate":"${date}","method":"getSeatUtilizationReport"}' >Seat Utilization Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"RosteredTripInfo_Report","displayName":"Planned trip status","startDate":"${date}","endDate":"${date}","method":"getRosteredTripReport"}' >Planned trip status</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:{"rptName":"Employee_History_Report","displayName":"Employee History Report","startDate":"${date}","endDate":"${date}","method":"getEmployeeHistoryReport"}' >Employee History Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"SignOffViolation_Report","displayName":"Sign In/Off Violation Report","startDate":"${date}","endDate":"${date}","method":"getSignOffViolationReport"}' >Sign In/Off Violation Report</a></td></tr>{{if STW.Cache.isClick2CallEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"ClickToCall_Report_New","displayName":"ClickToCall Report","startDate":"${date}","endDate":"${date}","method":"getClickToCallReport"}' >ClickToCall Report New</a></td></tr>{{/if}}{{if RoleUtils.isVendorRole() == false}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"TripFeedback_Report","displayName":"Trip Feedback Report New","startDate":"${date}","endDate":"${date}","method":"tripFeedbackReport"}' >Trip Feedback Report New</a></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled}}{{if STW.Cache.isPanicFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Report","displayName":"Panic Report","startDate":"${date}","endDate":"${date}"}' >Panic Report</a></td></tr>{{/if}}{{/if}}{{if STW.Cache.isBackToBackEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"BackToBack_Report","displayName":"BackToBack Report","startDate":"${date}","endDate":"${date}"}' >Back To Back Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"BackToBack_Allocation_Report","displayName":"BackToBack Allocation Report","startDate":"${date}","endDate":"${date}"}' >Back To Back Allocation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:${empUsageHref}' >Employee Usage Report (Software Usage Report)</a>{{if STW.Cache.isExternalReport("EmployeeUsage_Report")}}<span><img style="margin-left:20px;width:15px;" src="img/Information-icon.png" title="This report only shows one day prior data, i.e. till yesterday midnight. Any data updates done today will reflect tomorrow"></span>{{/if}}</td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Address_Change_Report_New&displayName=Address_Change_Report_New&date=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Address Change Report New</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=No_Show_Policy_Enforcement_Report&displayName=No_Show_Policy_Enforcement_Report&date=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>No Show Policy Enforcement Report</a></td></tr>{{if STW.Cache.isTransportUsageReportEnabled()}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:${transportUsageHref}' >Transport Usage Report (Old Report)</a>{{if STW.Cache.isExternalReport("EmployeeUsage_Report")}}<span><img style="margin-left:20px;width:15px;" src="img/Information-icon.png" title="This report only shows one day prior data, i.e. till yesterday midnight. Any data updates done today will reflect tomorrow"></span>{{/if}}</td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Automation_Status_Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'>Automation Status Report</a></td></tr>{{if STW.Cache.isWomenEmployeeSignOffVerificationEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=DropVerification_Report&displayName=DropVerification_Report&startDate=${date}&endDate=${date}&status=[PENDING,NOT_STARTED,IN_PROGRESS,FAILED,SUCCESSFUL,DUPLICATE]&type=all&logout=ALL&CSRF_NONCE=${STW.Cache.getNonce()}'>DropVerification Report</a></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview,speed_voilation_report"><td ><a href='javascript:{"rptName":"Over_Speed_Violation_Report","displayName":"Speed Violation Report","startDate":"${date}","endDate":"${date}","method":"getSpeedViolationReport"}' >Speed Violation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"BA_Raw_Report","displayName":"BA Raw Report","startDate":"${date}","endDate":"${date}","method":"getBARawData"}' >BA Raw Data</a></td></tr>{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_TRANSPORT_MANAGER_NO_BILLING }}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view,bill_view_raw_billing_data"><td><a class="rawBillingReport" href='CSVReport_Servlet?rptName=RawBilling_Report&startDate=${dateMngr.getDateOnly(date)}&endDate=${dateMngr.getDateOnly(date)}&CSRF_NONCE=${STW.Cache.getNonce()}&vendorId=[-1]&unauditedData=true&includeExpiredTripsheets=false'>Raw Billing Data</a><label><input name="unauditedData" type="checkbox" checked="checked" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Unaudited Data</span></label><br><label style="margin-left:88px;"><input name="includeExpiredTripsheets" type="checkbox" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Incomplete Trips</span></label></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled }}{{if STW.Cache.isMobilePanicFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Mobile","displayName":"Panic Mobile Report","startDate":"${date}","endDate":"${date}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_MOBILE"]}' >Panic Mobile Report</a></td></tr>{{/if}}{{if STW.Cache.isFixedDevicePanicEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_External_Device","displayName":"Panic Fixed Device Report","startDate":"${date}","endDate":"${date}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_FIXED_DEVICE"]}' >Panic Fixed Device Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Vehicle_Stoppage_Report","displayName":"Vehicle Stoppage Report","startDate":"${date}","endDate":"${date}"}' >Vehicle Stoppage Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Sign_Off_Time_Violation_Report","displayName":"Employee Sign Off Time Violation Report","startDate":"${date}","endDate":"${date}"}' >Employee Sign Off Time Violation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Geofence_Sign_Off_Violation_Report","displayName":"Employee Geofence Sign Off Violation Report","startDate":"${date}","endDate":"${date}"}' >Employee Geofence Sign Off Violation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Device_Not_Reachable_Report","displayName":"Device Not Reachable Report","startDate":"${date}","endDate":"${date}"}' >Device Not Reachable Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=ContactTHD_Report&displayName=Contact Transport Team Report&date=${date}&CSRF_NONCE=${STW.Cache.getNonce()}' >Contact Transport Team Report</a></td></tr>{{if STW.Cache.isAdhocRequestFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Adhoc_request&date=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Adhoc Request Report</a></td></tr>{{/if}}{{if STW.Cache.isIndemnificationEnabled()}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Indemnification_Summary_Report&displayName=Indemnification_Summary_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Indemnification Summary Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations" style="display:none;"><td ><a href='CSVReport_Servlet?rptName=Indemnification_Enforecement_Report&displayName=Indemnification_Enforecement_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Indemnification Enforecement Report</a></td></tr>{{/if}}{{if STW.Cache.isOptinEnabled()}}<tr class="roleBasedAccess" functionalities="operations" id="optin_report_link"><td ><a href='javascript:{"rptName":"Optin_Optout_Report","displayName":"Optin Optout Report","startDate":"${date}","endDate":"${date}","method":"Optin_Optout_Report"}' >Optin Optout Report</a><a style="margin-left:20px" href='CSVReport_Servlet?rptName=Optin_Optout_Report&displayName=Optin_Optout_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'><img style="width:18px;" src="img/csv.gif" title="Download Report as csv"></a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"IVR_Usage_Report","displayName":"IVR Usage Report","startDate":"${date}","endDate":"${date}","method":"getIVRUsageReport"}' >IVRUsage Report</a></td></tr>{{if STW.Cache.isScheduleChangeReportEnabled()}}`		<tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:{"rptName":"ScheduleChangeReport","displayName":"Schedule Change Report","startDate":"${date}","endDate":"${date}","method":"ScheduleChangeReport"}' >Schedule Change Report</a><a style="margin-left:20px" href='CSVReport_Servlet?rptName=Schedule_Change_Report&displayName=Schedule_Change_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'><img style="width:18px;" src="img/csv.gif" title="Download Report as csv"> </a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"EmployeeCommunicationReport","displayName":"Employee Communication Report","startDate":"${date}","endDate":"${date}","method":"EmployeeCommunicationReport"}' >Employee Communication Report</a><a style="margin-left:20px" href='CSVReport_Servlet?rptName=EmployeeCommunicationReport&displayName=Employee Communication Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}' ><img style="width:18px;" src="img/csv.gif" title="Download Report as csv"></a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Auto_Vendor_Allocation_Logs&displayName=Auto Vendor Allocation Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'>Auto Vendor Allocation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Generate_Route_Logs&displayName=Generate Route Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'>Generate Route Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Update_Pickup_Time_Logs&displayName=Update Pickup Time Report&date="${date}"&CSRF_NONCE=${STW.Cache.getNonce()}'>Update Pickup Time Report</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Vehicle_Compliance_Detailed_VendorWise&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Vehicle Compliance</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Driver_Compliance_Detailed_VendorWise&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Driver Compliance</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='javascript:{"rptName":"Vehicle_NonUsage_Report","displayName":"Vehicle  capacity non-utilization","date":"${date}"}' >Vehicle Capacity Non-Utilization</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='CSVReport_Servlet?rptName=InPremiseCab_Report&displayName=InPremiseCab_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>In Premise Vehicle Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='CSVReport_Servlet?rptName=Planned_Vs_Actual_Vendor_Cab_Report&displayName=Planned_Vs_Actual_Vendor_Cab_Report&startDate=${date}&endDate=${date}&CSRF_NONCE=${STW.Cache.getNonce()}'>Planned Vs Actual Vendor Vehicle Report</a></td></tr></table><table functionalities="operations" style="position:relative; float:left; width:350px; margin-left:30px" id="addeditdevice" class="insidewidget formtable roleBasedAccess"><tr><th>Package utilization reports</th></tr>{{each(index, type) contractTypes}}{{if id!=0}}<tr><td><a href='javascript:{"rptName":"Package_Utilization_Report","displayName":"${type.contractName} Package utilization reports","date":"${date}","contractId":"${id}"}' >${type.contractName}</a></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script id="employee-usage-dropdown-tmpl" type="text/x-jquery-tmpl"><div style="width: 1000px;margin: 0 auto;"><div class="form-group"><label class="col-md-3 control-label" for="rolename" style="text-align: right; padding-top: 8px; font-size: 120%;">Office Name</label><div class="col-md-4"><select id="dates-field2" class="multiselect-ui form-control officeName" multiple="multiple">{{each(k, officeName) officeNames}}<option value="${officeName}">${officeName}</option>{{/each}}</select></div><div class="col-md-1"></div><button type="button" class="col-md-1 showEmplUsageReport btn btn-success">View</button><div class="col-md-3"></div></div></div><div id="empUsageDropdownTemp"></div></script></div><div class="TC"><script id="employee-usage-tmpl" type="text/x-jquery-tmpl"><div style="width: 1000px;margin: 0 auto;"><div style="text-align: right;"><a class="empUsageReportDownload">Download as CSV</a></div><div style="text-align: right;"><a href='CSVReport_Servlet?rptName=EmployeeUsageDetailReport&displayName=EmployeeUsageDetailReport&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><div style="text-align: left; padding-top: 20px;">Disclaimer:There may be an overlap between Nonshift, Adhoc & Routed employees.</div><table id="employeeUsageReport" style="width: 100%;"><tr><th>S.No.</th><th>Facility</th><th>Date</th><th>Routed</th><th>Adhoc</th><th style="width:15%;">Number of Unique users</th></tr>{{each(k, data) dataList}}<tr>{{each(j, elem) data}}<td>${elem}</td>{{/each}}</tr>{{/each}}</table></div></script></div><div class="TC"><script id="one-time-arrival-tmpl" type="text/x-jquery-tmpl"><div style="width: 1000px;margin: 0 auto;"><div style="text-align: right;"><a href='CSVReport_Servlet?rptName=OTA_Summary_Report&displayName=OTA_Summary_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><table id="OTASummaryReport" style="width: 100%;"><tr><th>Trip Date</th><th>BUnit Id</th><th>Total Login Trips</th><th>Completed Login Trips</th><th>Incomplete Login Trips</th><th>Delayed Trips</th><th>On Time Arrival</th><th>On Time Arrival %</th><th>Employee Delay</th><th>Driver Delay</th><th>Traffic Delay</th></tr>{{each(k, data) dataList}}<tr><td>${data[1]}</td><td>${data[2]}</td><td>${data[3]}</td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","method":"getOTACompletedTripsReport"}' >${data[4]}</a></td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","tripState":"Incomplete trip","method":"getOTACompletedTripsReport"}' >${data[5]}</a></td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","delayReason":"EMPLOYEE,DRIVER,TRAFFIC","method":"getOTACompletedTripsReport"}' >${data[6]}</a></td><td>${data[7]}</td><td>${data[8]}</td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","delayReason":"EMPLOYEE","method":"getOTACompletedTripsReport"}' >${data[9]}</a></td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","delayReason":"DRIVER","method":"getOTACompletedTripsReport"}' >${data[10]}</a></td><td><a href='javascript:{"rptName":"OTA___Completed_trips_Report","displayName":"Schedule Change Report","startDate":"${changeDateFormat(data[1])}","endDate":"${changeDateFormat(data[1])}","delayReason":"TRAFFIC","method":"getOTACompletedTripsReport"}' >${data[11]}</a></td></tr>{{/each}}</table></div></script></div><div class="TC"><script id="ota-completed-trips-tmpl" type="text/x-jquery-tmpl"><div style="width: 1200px;margin: 0 auto;"><div style="text-align: right;"><a href='CSVReport_Servlet?rptName=OTA___Completed_trips_Report&displayName=OTA___Completed_trips_Report&startDate=${startDate}&endDate=${endDate}&delayReason=${delayReason}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><table id="OTACompletedTripsReport" style="width: 100%;"><tr><th>BUnit Id</th><th>Trip Date</th><th>Trip Direction</th><th>Shift</th><th>Trip Id</th><th>Actual Vendor Vehicle Id</th><th>Actual Vehicle Registration</th><th>Vendor Id</th><th>Planned End Time</th><th>Actual End Time</th><th>Delay Reason</th><th>Planned Start Time</th><th>Actual Start Time</th><th>Plannedemployee Count</th><th>Actualemployee Count</th><th>Trip End Delay Minutes</th><th>Trip Start Early Delay Minutes</th><th>Travelled KM</th></tr>{{each(k, data) dataList}}<tr>{{each(j, elem) data}}<td>${elem}</td>{{/each}}</tr>{{/each}}</table></div></script></div><div class="TC"><script id="download-billing-reports-tmpl" type="text/x-jquery-tmpl"><div style="width: 550px;height: 200px"><div style="padding: 16px 0px;"><div style="padding: 5px 12px 5px 0; font-size: 16px;">Reports</div><div style="font-size: 13px; opacity: 0.7;">Last Generated: ${reportGenerationTime}</div></div><div class="billing-reports-footer"></div></div></script></div><div class="TC"><script id="vendor-billing-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 25px;"><div class="d-flex p-3"><table id="VendorBillingReport" class="modern-table"><tr>{{each(i, columnName) header}}{{if (i!= header.length-1) || ( i == header.length-1 && (reportType == "Bill_Report"))}}<th style="text-align: center; border-bottom: 1px solid #CCC !important;">${columnName}</th>{{/if}}{{/each}}</tr>{{if dataList.length === 0}}<tr><td colspan="${header.length}" style="text-align: center;"><div style="font-size: 16px;font-weight: 700;padding: 30px;	text-align: center;">Please Generate the Bill for the selected Billing Cycle</div><div style="text-align: center;"><img style="padding-right: 5px; width: 30%;" src="img/no data.svg" /></div></td></tr>{{else}}{{each(k, data) dataList}}{{if k!= dataList.length-1}}{{if data[0] == "Subtotal"}}<tr style="background-color:#CBDDFB;height:28px;">{{else}}<tr style="height:28px;">{{/if}}{{each(j, elem) data}}{{if j < data.length-2}}{{if reportType=="Bill_Report"}}{{if j == 0 }}<td style="text-align:left; border:1px solid #CCC; padding: 5px;">{{else}}<td style="text-align:right; border:1px solid #CCC; padding: 5px;">{{/if}}{{else}}{{if j == 1 || j == 2 }}<td style="text-align:left; border:1px solid #CCC; padding: 5px;">{{else}}<td style="text-align:right; border:1px solid #CCC; padding: 5px;">{{/if}}{{/if}}${elem}</td>{{/if}}{{/each}}{{if reportType=="Bill_Report"}}<td style="text-align: right;"><a class="modern-link" href='javascript:{"rptName":"Bill_Cab_Report","displayName":"Cab Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","vendor":"${data[0]}","adjust":"${data[4]}","grandTotal":"${data[15]}","package":"${data[7]}","method":"getNewCabBreakup"}' >Cab Breakup</a>{{if data[16] == "false" && STW.Cache.checkFunctionality("bill_freeze") == true}}<a class="modern-link" style="margin-left:20px;" href='javascript:{"rptName":"Bill_Cab_Report","displayName":"Cab Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","vendorId":"${data[17]}","freeze":"${data[16] == "false" ? "true" : "false"}","method":"changeFreezeStatus"}' >Freeze Billing</a>{{else data[16] != "false" && STW.Cache.checkFunctionality("bill_unfreeze") == true}}<a class="modern-link" style="margin-left:20px;" href='javascript:{"rptName":"Bill_Cab_Report","displayName":"Cab Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","vendorId":"${data[17]}","freeze":"${data[16] == "false" ? "true" : "false"}","method":"changeFreezeStatus"}' >Unfreeze Billing</a>{{/if}}</td>{{else reportType=="ContractWise_Bill_Report"}}<td style="text-align: right;">{{if data[0] != "Subtotal"}}<a class="modern-link" href='javascript:{"rptName":"Bill_Cab_Report","displayName":"Contract Cab Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","vendor":"${data[0]}","adjust":"${data[4]}","grandTotal":"${data[15]}","package":"${data[7]}","contractName":"${data[2]}","method":"getContractCabWiseBreakupData"}' >Cab Breakup</a>{{/if}}</td>{{/if}}</tr>{{else}}<tr style="background: #0937B2;color: #FFF">{{each(i,ele) data}}{{if i<data.length-2 }}<td style="text-align: right;"><div style="font-weight:bold;color: #fff">${ele}</div></td>{{/if}}{{/each}}{{if reportType=="Bill_Report" || reportType=="ContractWise_Bill_Report"}}<td style="border-top: 1px solid rgb(0, 0, 0); border-bottom:1px solid rgb(0, 0, 0);"></td>{{/if}}</tr>{{/if}}{{/each}}{{/if}}</table></div></script></div><div class="TC"><script id="new-cab-breakup-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=Bill_Cab_Report&displayName=Billing_Cab_View&startDate=${startDate}&endDate=${endDate}&vendorName=${vendor}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><div style="padding-bottom: 10px;"><div style="padding-bottom: 20px;"><table style="border-collapse: collapse; empty-cells: show; width: 95%;"><tbody><tr valign="top" align="center"><th style="font-weight: bold;" colspan="2">Summary</th></tr><tr valign="top" align="left"><td style="font-weight: bold;">Vendor Name</td><td>${vendor}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Billing Cycle</td><td>${cycleStart} - ${cycleEnd}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Package</td><td>${package}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Fuel Hike</td><td>0.00</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Ac Adjustment Amount</td><td>${ACCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Adjustment</td><td>${adjust}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Parking</td><td>${parkingCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Grand Total</td><td>${grandTotal}</td></tr></tbody></table></div><table style="border-collapse: collapse; empty-cells: show; width: 95%;" id="__bookmark_2"><tr valign="top" align="center"><th style="font-weight: bold;">Details</th></tr></table></div></div><table id="VendorBillingReport" class="modern-table" style="width: 95%"><tr><th>S.No</th><th>Vehicle Number</th><th>Contract Name</th><th>Duties</th><th>Trips</th><th>Trip km</th><th>Total km</th><th>Cost before adjustments</th><th>Adjustments</th><th>Ac charges</th><th>Parking</th><th>Escort Count</th><th>Escort Cost</th><th>Extra Km Amount</th><th>Extra Duty Amount</th><th>Extra Hour Amount</th><th>Driver Bata</th><th>Grand Total Gst</th><th>Grand Total</th><th>Action</th></tr>{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(i,ele) data}}{{if i < data.length }}<td>${ele}</td>{{/if}}{{/each}}<td><div><a href='javascript:{"rptName":"DutyBreakUp_Report","displayName":"Duty Breakup Report","startDate":"${startDate}","endDate":"${endDate}","cabId":"${data[18]}","contractId":"${data[2]}","method":"newDutyBreakupRpt","vendor":"${vendor}"}' target="_blank">Details</a></div></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold;color: #fff">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script id="new-duty-breakup-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=DutyBreakUp_Report&startDate=${startDate}&contractId=${contractId}&endDate=${endDate}&vendorName=${vendor}&cabId=${cabId}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><div style="padding-bottom: 10px;"><div style="padding-bottom: 20px;"><table style="border-collapse: collapse; empty-cells: show; width: 95%;"><tbody><tr valign="top" align="center"><th style="font-weight: bold;" colspan="2">Summary</th></tr><tr valign="top" align="left"><td style="font-weight: bold;">Vendor Name</td><td>${vendor}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Vehicle No</td><td>${displayCabId}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Billing Cycle</td><td>${cycleStart} - ${cycleEnd}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Package</td><td>${contract_price}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Fuel Hike</td><td>${fuelHike}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Ac Adjustment Amount</td><td>${ACCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Km Amt</td><td>${extraKmAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Hrs Amt</td><td>${extraHrsAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Duty Amt</td><td>${extraDutyAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Escort Cost</td><td>${escortCost}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Adjustment</td><td>${adjust}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Parking</td><td>${parkingCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Grand Total GST</td><td>${grandTotalGst}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Grand Total</td><td>${grandTotal}</td></tr></tbody></table></div><table style="border-collapse: collapse; empty-cells: show; width: 95%;" id="__bookmark_2"><tr valign="top" align="center"><th style="font-weight: bold;">Details</th></tr></table></div></div><table id="DutyBreakupReport" class="modern-table" style="width: 95%"><tr><th>S.No</th><th>Date</th><th>Duties</th><th>Trips</th><th>Trip km</th><th>Total km</th><th>Cost before adjustments</th><th>Adjustments</th><th>Ac charges</th><th>Parking</th><th>Escort Cost</th><th>Extra Km Amount</th><th>Extra Duty Amount</th><th>Extra Hour Amount</th><th>Driver Bata</th><th>Grand Total Gst</th><th>Grand Total</th><th>Action</th></tr>{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(i,ele) data}}{{if i < data.length}}<td>${ele}</td>{{/if}}{{/each}}<td><div><a href='javascript:{"rptName":"WaitingCabBreakUp_Report","displayName":"Cab Day Breakup Report","cabId":"${cabId}","dutyDate":"${dataList[k][1]}"}' target="_blank">Details</a></div></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold;color: #fff">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script id="optin-report-tmpl" type="text/x-jquery-tmpl"><div style="width: 800px;margin: 0 auto;"><table id="employeeUsageReport" style="width: 100%;"><tr><th>EmployeeId</th><th>Employee Name</th><th>Start Date</th><th>End Date</th><th>Login State</th><th>Logout State</th><th>Changed By</th><th>Shift Pairs </th></tr>{{each(k, data) dataList}}<tr>{{each(j, elem) data}}<td>${elem}</td>{{/each}}</tr>{{/each}}</table></div></script></div><div class="TC"><script id="offline-report-tmpl" type="text/x-jquery-tmpl"><div style="width: 100%;margin: 0 auto;padding: 0px 24px 56px 24px;"><table id="offlineReportDownload" class="modern-table" style="width: 100%;"><tr><th>S.No.</th><th>Report Name</th><th>Created on</th><th>Expiring on</th><th>Size</th><th>Action</th></tr>{{each(k, report) reports}}<tr><td>${k+1}</td><td>${reportName}</td><td>${dateMngr.getDateTimeIn24HoursFormat(created)}</td><td>${dateMngr.getDateTimeIn24HoursFormat(expiry)}</td><td>${utils.decimalRound(reportSize/1000000, 2)} MB</td><td><a class="downloadReport" target=_blank href="ets/downloads/${reportName}" reportName=${reportName} style="margin-left:10px; text-decoration: underline; color: black; font-weight: normal;"><img src="img/download-icon.svg" width="20px" height="20px" style="border:0 none;" title="Download"></a></td></tr>{{/each}}</table></div></script></div><div class="TC"><script id="officewise-billing-tmpl" type="text/x-jquery-tmpl"><div style="padding: 15px 30px;"><div style="text-align: right; padding: 10px; margin-right: 10px"><a href='CSVReport_Servlet?rptName=${reportType}&displayName=${reportType}&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><table id="VendorBillingReport" class="modern-table" style="padding: 5px 30px;"><tr>{{each(i, columnName) header}}{{if i!= header.length-1 || ( i == header.length-1)}}<th>${columnName}</th>{{/if}}{{/each}}</tr>{{if dataList.length === 0}}<tr><td colspan="${header.length}" style="text-align: center;"><div style="font-size: 16px;font-weight: 700;padding: 30px;	text-align: center;">Please Generate the Bill for the selected Billing Cycle</div><div style="text-align: center;"><img style="padding-right: 5px; width: 30%;" src="img/no data.svg" /></div></td></tr>{{else}}{{each(k, data) dataList}}{{if k!= dataList.length-1}}<tr>{{each(j, elem) data}}{{if j < data.length-2}}<td style="padding-bottom : 15px">${elem}</td>{{/if}}{{/each}}<td style="text-align: right;"><a href='javascript:{"rptName":"OfficeWise_Vendor_Bill_Summary","displayName":"Vendor Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","officeName":"${data[0]}","adjust":"${data[4]}","grandTotal":"${data[15]}","package":"${data[7]}","method":"getOfficeVendorWiseBreakup"}' >Vendor Breakup</a></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF">{{each(i,ele) data}}{{if i < data.length-2 }}<td><div style="font-weight:bold; color: #FFF">${ele}</div></td>{{/if}}{{/each}}<td style="color: #fff;"></td></tr>{{/if}}{{/each}}{{/if}}</table></div></script></div><div class="TC"><script id="office-vendorwise-billing-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=${reportType}&displayName=${reportType}&startDate=${startDate}&endDate=${endDate}&officeName=${officeName}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><table id="VendorBillingReport" class="modern-table" style="width: 95%"><tr>{{each(i, columnName) header}}{{if i < header.length}}<th>${columnName}</th>{{/if}}{{/each}}</tr>{{if dataList.length === 0}}<tr><td colspan="${header.length}" style="text-align: center;"><div style="font-size: 16px;font-weight: 700;padding: 30px;	text-align: center;">Please Generate the Bill for the selected Billing Cycle</div><div style="text-align: center;"><img style="padding-right: 5px; width: 30%;" src="img/no data.svg" /></div></td></tr>{{else}}{{each(k, data) dataList}}{{if k!= dataList.length-1}}<tr>{{each(j, elem) data}}{{if j < data.length}}<td style="padding-bottom : 15px">${elem}</td>{{/if}}{{/each}}<td style="text-align: right;"><a class="modern-link" href='javascript:{"rptName":"OfficeWise_Bill_Cab_Report","displayName":"Cab Wise Breakup","startDate":"${startDate}","endDate":"${endDate}","officeName":"${officeName}","vendor":"${data[0]}","adjust":"${data[4]}","grandTotal":"${data[15]}","package":"${data[7]}","method":"getOfficeVendorWiseBreakup"}' >Cab Breakup</a></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF">{{each(i,ele) data}}{{if i < data.length}}<td><div style="font-weight:bold; color: #fff;">${ele}</div></td>{{/if}}{{/each}}<td style="color: #fff;"></td></tr>{{/if}}{{/each}}{{/if}}</table></div></script></div><div class="TC"><script id="office-cabwise-billing-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=${reportType}&startDate=${startDate}&contractId=${contractId}&endDate=${endDate}&vendorName=${vendorName}&officeName=${officeName}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div></div><table id="OfficeDutyBillingReport" style="width: 100%;"><tr>{{each(i, columnName) header}}<th>${columnName}</th>{{/each}}</tr>{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(j, elem) data}}<td style="padding-bottom : 15px">${elem}</td>{{/each}}<td><div><a href='javascript:{"rptName":"OfficeWise_DutyBreakUp_Report","displayName":"Duty Breakup Report","startDate":"${startDate}","endDate":"${endDate}","cabName":"${data[0]}","contractId":"${data[1]}","method":"getOfficeVendorWiseBreakup","officeName":"${officeName}","vendorName":"${vendorName}"}' target="_blank">Duty Breakup</a></div></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold; color: #fff;">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script id="office-dutywise-billing-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=${reportType}&startDate=${startDate}&endDate=${endDate}&vendorName=${vendorName}&officeName=${officeName}&contractId=${contractId}&cabId=${cabName}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div></div><table id="DutyBreakupReport" style="width: 100%;"><tr>{{each(i, columnName) header}}<th>${columnName}</th>{{/each}}</tr>{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(j, elem) data}}<td style="padding-bottom : 15px">${elem}</td>{{/each}}<!-- <td><div><a href='javascript:{"rptName":"WaitingCabBreakUp_Report","displayName":"Cab Day Breakup Report","cabName":"${cabName}","dutyDate":"${dataList[k][0]}"}' target="_blank">Details</a></div></td> --></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold;color: #fff">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="messagePopup"><div class="nrsPopup"><div><img src="img/current.png"><img src="img/Chip.png" class="newImage"></div><span class="headText">New Version for reporting system</span><span class="popupBody">We have been working on version of Analytics/Reporting from last 12 months. This new version will give you a next generation experience as well as we have fine tuned the logic behind of processed data to make them accurate.</span><button class="toNrsButton">Continue</button><div style="display:flex; padding-top: 45px"><p class="oldVersion">Go to Current Version</p><p class="deprecate">(Going to deprecate soon)</p></div></div></script></div><div class="TC"><script id="contract-cabwise-billing-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=ContractWise_Bill_Cab_Report&displayName=Billing_Cab_View&startDate=${startDate}&endDate=${endDate}&vendorName=${vendor}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div></div><table id="VendorBillingReport" class="modern-table"><tr><th>S.No</th><th>Vehicle Number</th><th>Contract Name</th><th>Duties</th><th>Trips</th><th>Trip km</th><th>Total km</th><th>Cost before adjustments</th><th>Adjustments</th><th>Ac charges</th><th>Parking</th><th>Escort Count</th><th>Escort Cost</th><th>Extra Km Amount</th><th>Extra Duty Amount</th><th>Extra Hour Amount</th><th>Driver Bata</th><th>Grand Total Gst</th><th>Grand Total</th><th>Action</th></tr>{{if dataList.length === 0}}<tr><td colspan="${header.length}" style="text-align: center;"><div style="font-size: 16px;font-weight: 700;padding: 30px;	text-align: center;">Please Generate the Bill for the selected Billing Cycle</div><div style="text-align: center;"><img style="padding-right: 5px; width: 30%;" src="img/no data.svg" /></div></td></tr>{{else}}{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(i,ele) data}}{{if i < data.length-1 }}<td>${ele}</td>{{/if}}{{/each}}<td><div><a href='javascript:{"rptName":"ContractWise_DutyBreakup_Report","displayName":"ContractWise Duty Breakup Report","startDate":"${startDate}","endDate":"${endDate}","cabId":"${data[18]}","contractId":"${data[2]}","method":"contractDutyBreakupRpt","vendor":"${vendor}"}' target="_blank">Duty Breakup</a></div></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold;color: #fff">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}{{/if}}</table></div></script></div><div class="TC"><script id="contract-duty-breakup-tmpl" type="text/x-jquery-tmpl"><div style="margin: 0 auto;"><div class = ${dwnldBttn}><div style="text-align: right; padding: 10px; margin-right: 6%;"><a href='CSVReport_Servlet?rptName=DutyBreakUp_Report&startDate=${startDate}&contractId=${contractId}&endDate=${endDate}&vendorName=${vendor}&cabId=${cabId}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Complete Report as CSV</a></div><div style="padding-bottom: 10px;"><div style="padding-bottom: 20px;"><table style="border-collapse: collapse; empty-cells: show; width: 95%;"><tbody><tr valign="top" align="center"><th style="font-weight: bold;" colspan="2">Summary</th></tr><tr valign="top" align="left"><td style="font-weight: bold;">Vendor Name</td><td>${vendor}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Vehicle No</td><td>${displayCabId}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Billing Cycle</td><td>${cycleStart} - ${cycleEnd}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Package</td><td>${contract_price}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Fuel Hike</td><td>${fuelHike}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Ac Adjustment Amount</td><td>${ACCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Km Amt</td><td>${extraKmAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Hrs Amt</td><td>${extraHrsAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Extra Duty Amt</td><td>${extraDutyAmt}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Escort Cost</td><td>${escortCost}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Adjustment</td><td>${adjust}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Parking</td><td>${parkingCharges}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Grand Total GST</td><td>${grandTotalGst}</td></tr><tr valign="top" align="left"><td style="font-weight: bold;">Grand Total</td><td>${grandTotal}</td></tr></tbody></table></div><table style="border-collapse: collapse; empty-cells: show; width: 95%;" id="__bookmark_2"><tr valign="top" align="center"><th style="font-weight: bold;">Details</th></tr></table></div></div><table id="DutyBreakupReport" class="modern-table" style="width: 95%;"><tr><th>S.No</th><th>Date</th><th>Duties</th><th>Trips</th><th>Trip km</th><th>Total km</th><th>Cost before adjustments</th><th>Adjustments</th><th>Ac charges</th><th>Parking</th><th>Escort Cost</th><th>Extra Km Amount</th><th>Extra Duty Amount</th><th>Extra Hour Amount</th><th>Driver Bata</th><th>Grand Total Gst</th><th>Grand Total</th><th>Action</th></tr>{{each(k, data) dataList}}{{if k < dataList.length-1}}<tr>{{each(i,ele) data}}{{if i < data.length}}<td>${ele}</td>{{/if}}{{/each}}<td><div><a href='javascript:{"rptName":"WaitingCabBreakUp_Report","displayName":"Cab Day Breakup Report","cabId":"${cabId}","dutyDate":"${dataList[k][1]}"}' target="_blank">Details</a></div></td></tr>{{else}}<tr style="background: #0937B2;color: #FFF"><td></td>{{each(i,ele) data}}{{if i > 0 }}<td style="font-weight:bold;color: #fff">${ele}</td>{{/if}}{{/each}}<td></td></tr>{{/if}}{{/each}}</table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="employeeHistoryTemplate"><div><table><tr><td>Employee:</td><td><div id="empSearchComboCont"></div></td></tr><tr><td>Start Date:</td><td><input type="text" name="startDate" class="datePicker" title="Date format: dd/MM/yyyy" /></td></tr><tr><td>End Date:</td><td><input type="text" name="endDate" class="datePicker" title="Date format: dd/MM/yyyy" /></td></tr></table><div class="employeeHistoryReport"></div></div></script></div><div class="TC"><script id="trips-with-unassigned-vendor" type="text/x-jquery-tmpl"><div><style>.search-emp-name{width:130px;}</style><b style="font-weight: bold;">Shift Type:</b><select class="shiftType" name="shiftType"><option value="0">Login</option><option value="1">Logout</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-weight: bold;">Shifts:</b><select class="shifts" name="shifts"><option value="-1">All</option>{{each(index, shift) shifts}}<option value="${shift.id}">${twoDigit(shift.hour)}:${twoDigit(shift.minutes)}</option>{{/each}}</select><table class="trips-with-unassigned-vendor insidewidget tablestyle1" style="position:relative"><thead><tr><th>Date</th><th>Trip ID</th><th>Shift Type</th><th>Shift Time</th><th>Employee Count</th><th>Vendor</th></tr></thead><tbody>{{each(index, trip) tripList}}<tr><td>${currentDate}</td><td>${trip.id}</td><td>${trip.shift.type == 0 ? "Login" : "Logout"}</td><td>${twoDigit(trip.shift.hour)}:${twoDigit(trip.shift.minutes)}</td><td>${trip.employeeList.length}</td><td><a tripId=${trip.id} class="assign-cab">Assign Vendor</a></td></tr>{{/each}}</tbody></table></div></script></div><div class="TC"><script id="project-manager-action-template" type="text/x-jquery-tmpl">{{if STW.Cache.isUserTypesEnabled() && STW.Cache.checkFunctionality("employee_create") && STW.Cache.getUserTypes().length > 0}}<a class="createEmployee">Create Employee</a> <br>{{/if}}{{if STW.Cache.featureVerizonHackForMultiOfficeSchedule() == false || RoleUtils.isEmployeeRole() == false }}<a class="view-history view-history-btn" id="view-history"> <img src="img/history-blue.svg"> View Schedule History</a><br>{{/if}}{{if STW.Cache.isManageEmployeesPageEnabled() == false}}<div style="position: absolute;	top: 120px;	right: 25px;"><div class="employeeSearch" style="width: 320px;"></div></div>{{/if}}</script></div><div class="TC"><script id="project-list-action-template" type="text/x-jquery-tmpl"><div class="d-flex project-header"><div class="project-title">Manage Teams</div><div class="d-flex">{{if STW.Cache.isManageEmployeesPageEnabled()}}{{if STW.Cache.isShuttleDashboardEnabled() || (STW.Cache.isManageEmployeesPageEnabled() &&STW.Cache.isTeamMangerBulkDeskBooking())}}<div class="project-hyperLink manage-employee-bookings"><img src="img/hyperlink.svg"> Manage Bookings</div>{{/if}}{{/if}}{{if STW.Cache.isNewTeamManagerPageEnabled()}}<div style="width:160px" class="project-hyperLink employees-live-status"><img src="img/hyperlink.svg"> Live Status</div>{{/if}}{{if STW.Cache.isManageEmployeesPageEnabled()}}{{if STW.Cache.isEmployeeTransportApproval()}}<div class="project-hyperLink roleBasedAccess" id="onboard-approval" functionalities="approval_dashboard_view"><img src="img/hyperlink.svg"> Approval Dashboard</div>{{/if}}{{/if}}{{if RoleUtils.isPrivilegedRole()}}{{if !STW.Cache.featureVerizonHackForMultiOfficeSchedule() || !RoleUtils.isEmployeeRole()}}<div style="width:220px" class="project-hyperLink" id="view-history"><img src="img/hyperlink.svg"> View Schedule History</div>{{/if}}{{/if}}</div></div><div class="d-flex project-sub-header"><div class="d-flex" style="flex:1">{{if STW.Cache.isManageEmployeesPageEnabled() == false && RoleUtils.isFinancialControllerRole() == false}}<div class="employeeSearch" style="postion:relative;width:320px"></div>{{/if}}{{if STW.Cache.checkFunctionality("project_edit") && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PM}}<button type="submit" class="project-hyperLink deleteProject project-delete-btn">Delete <img src="img/recycle_1.svg"></button>{{/if}}</div><div class="d-flex"><div id="dataSyncLink">{{if RoleUtils.isProjectOrScheduleManagerRole() && STW.Cache.isSyncFileDataUploadEnabled() && syncAccess &&(shiftAccess || STW.Cache.isManageEmployeesPageEnabled())}}<div style="margin-top: 5px; margin-right: 15px;" class="project-hyperLink uploadData"><img style="margin-right: 5px;" width="24" height="24" src="img/upload.svg"> Upload Data</div>{{/if}}</div>{{if RoleUtils.isPrivilegedRole()}}<div style="margin-top: 5px; margin-right: 15px; align-items: center;" class="project-hyperLink viewTeamHistory"><img style="margin-right: 5px;" width="24" height="24" src="img/history-blue.svg"> History</div>{{if STW.Cache.isScheduleUploadEnabled()}}<div style="margin-top: 5px; margin-right: 15px;" class="project-hyperLink uploadBulkData"><img style="margin-right: 5px;" width="24" height="24" src="img/upload.svg"> Bulk data upload</div>{{/if}}{{/if}}<div style="margin-right: 20px;">{{if RoleUtils.isPrivilegedRole() || RoleUtils.isProjectManagerRole() == false}}<div class="drop-down-btn" id="download-btn">Download Reports <img src="img/ic-navigation-drop-down-24.svg"></div><div class="drop-down-option" id="downloadSection" style="display: none">{{if RoleUtils.isPrivilegedRole()}}{{if STW.Cache.checkFunctionality("emp-info-report-view")}}<div class="report-option"><a class="employeeInfoReport">Employee info (Restricted)</a></div>{{/if}}{{/if}}{{if RoleUtils.isProjectManagerRole() == false}}<div class="report-option"><a class="employeeBasicInfoReport">Employee info  (Basic)</a></div>{{/if}}</div>{{/if}}</div><div>{{if STW.Cache.checkFunctionality("employee_create") || RoleUtils.isPrivilegedRole()}}<div class="drop-down-btn" id="create-btn" style="background-color: #0937b2;color: #fff;">Create <img src="img/light-down.svg"></div><div class="drop-down-option" id="createSection" style="display: none; width: 100px">{{if STW.Cache.isUserTypesEnabled() == false && STW.Cache.checkFunctionality("employee_create") || (STW.Cache.isUserTypesEnabled() && STW.Cache.checkFunctionality("employee_create") && STW.Cache.getUserTypes().length > 0)}}<div class="report-option"><a class="createEmployee">Employee</a></div>{{/if}}{{if RoleUtils.isPrivilegedRole()}}{{if STW.Cache.checkFunctionality("project_edit")}}<div class="report-option"><a class="createProject">Team</a></div>{{/if}}{{/if}}</div>{{/if}}</div></div></div><!-- <div style="width: 70%; clear: both; margin: 0 auto; height: auto;"><div class="userSpecificActions">{{if RoleUtils.isPrivilegedRole()}}{{if RoleUtils.isScheduleManagerRole()}}<a class="scheduleChangeReport">Schedule Change Report</a><br>{{/if}}{{if STW.Cache.isOptinEnabled()}}<div><a class="opt-in-history">View Opt-in Opt-out History</a></div>{{/if}}{{/if}}{{if STW.Cache.isManageEmployeesPageEnabled()}}<div><a class="team-manager-dashboard">Team Manager Dashboard</a></div><div><a class="manage-employees">Manage Employee Profiles</a></div>{{if STW.Cache.isSeatManagementEnabled() && RoleUtils.isProjectManagerRole() == false}}<div><a class="seat-management">Seat Management</a></div>{{/if}}<a class="attendance-dashboard">Attendance Dashboard</a>{{/if}}</div></div>	 --></script></div><div class="TC"><script id="operations-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="margin-left:0; position:relative;" class="formtable"><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"NoShowSummary_Report","displayName":"No Show Report","startDate":"${startDate}","endDate":"${endDate}","method":"getNoShowReport"}' >No Show Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"Escort_Summary_Report","displayName":"Escort Summary Report","startDate":"${startDate}","endDate":"${endDate}","method":"getEscortReport"}' >Escort Deployment Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"OnTimeArrival_Report","displayName":"On Time Arrival Report","startDate":"${startDate}","endDate":"${endDate}","method":"getOnTimeArrivalReport"}' >On Time Arrival Report (OTA)</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"OnTimeDeparture_Report","displayName":"On Time Departure Report","startDate":"${startDate}","endDate":"${endDate}","method":"getOnTimeDepartureReport"}' >On Time Departure Report (OTD)</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"SeatUtilization_Report","displayName":"Seat Utilization Report","startDate":"${startDate}","endDate":"${endDate}","method":"getSeatUtilizationReport"}' >Seat Utilization Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"RosteredTripInfo_Report","displayName":"Planned trip status","startDate":"${startDate}","endDate":"${endDate}","method":"getRosteredTripReport"}' >Planned trip status</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"SignOffViolation_Report","displayName":"Sign In/Off Violation Report","startDate":"${startDate}","endDate":"${endDate}","method":"getSignOffViolationReport"}' >Sign In/Off Violation Report</a></td></tr>{{if STW.Cache.isClick2CallEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"ClickToCall_Report_New","displayName":"ClickToCall Report","startDate":"${startDate}","endDate":"${endDate}","method":"getClickToCallReport"}' >ClickToCall Report</a></td></tr>{{/if}}{{if RoleUtils.isVendorRole() == false}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='javascript:{"rptName":"TripFeedback_Report","displayName":"Trip Feedback Report New","startDate":"${startDate}","endDate":"${endDate}","method":"tripFeedbackReport"}' >Trip Feedback Report New</a></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled }}{{if STW.Cache.isPanicFeatureEnabled() }}<tr class= "roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Report","displayName":"Panic Report","startDate":"${startDate}","endDate":"${endDate}"}' >Panic Report</a></td></tr>{{/if}}{{/if}}{{if STW.Cache.isBackToBackEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td colspan="2"><a href='Report_Servlet?rptName=BackToBack_Report&displayName=BackToBack Report&startDate=${dateMngr.changeFormatToServer(startDate)}&endDate=${dateMngr.changeFormatToServer(endDate)}&format=xls&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Back To Back Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td colspan="2"><a href='Report_Servlet?rptName=BackToBack_Allocation_Report&displayName=BackToBack Allocation_Report&startDate=${dateMngr.changeFormatToServer(startDate)}&endDate=${dateMngr.changeFormatToServer(endDate)}&format=xls&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Back To Back Allocation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:${empUsageHref}' >Employee Usage Report (Software Usage Report)</a>{{if STW.Cache.isExternalReport("EmployeeUsage_Report")}}<span><img style="margin-left:20px;width:15px;" src="img/Information-icon.png" title="This report only shows one day prior data, i.e. till yesterday midnight. Any data updates done today will reflect tomorrow"></span>{{/if}}</td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Address_Change_Report&displayName=Address_Change_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Address Change Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Address_Change_Report_New&displayName=Address_Change_Report_New&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Address Change Report New</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=No_Show_Policy_Enforcement_Report&displayName=No_Show_Policy_Enforcement_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>No Show Policy Enforcement Report</a></td></tr>{{if STW.Cache.isTransportUsageReportEnabled()}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='javascript:${transportUsageHref}' >Transport Usage Report (Old Report)</a>{{if STW.Cache.isExternalReport("EmployeeUsage_Report")}}<span><img style="margin-left:20px;width:15px;" src="img/Information-icon.png" title="This report only shows one day prior data, i.e. till yesterday midnight. Any data updates done today will reflect tomorrow"></span>{{/if}}</td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Automation_Status_Report&displayName=Automation_Status_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}' class="Automation_Status_Report">Automation Status Report</a></td></tr>{{if STW.Cache.isWomenEmployeeSignOffVerificationEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td><a href='CSVReport_Servlet?rptName=DropVerification_Report&displayName=DropVerification_Report&startDate=${startDate}&endDate=${endDate}&status=[PENDING,NOT_STARTED,IN_PROGRESS,FAILED,SUCCESSFUL,DUPLICATE]&type=all&logout=ALL&CSRF_NONCE=${STW.Cache.getNonce()}'>DropVerification Report</a></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview,speed_voilation_report"><td ><a href='javascript:{"rptName":"Over_Speed_Violation_Report","displayName":"Speed Violation Report","startDate":"${startDate}","endDate":"${endDate}","method":"getSpeedViolationReport"}' >Speed Violation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview">{{if dateMngr.isProperDateFormat(operationReportStartDate) == false || dateMngr.isEarlierThan(endDate, operationReportStartDate)}}<td>{{if STW.Cache.isSendReportsInMailEnabled()}}<a href='javascript:{"rptName":"BA_Raw_Report","displayName":"BA Raw Report","startDate":"${startDate}","endDate":"${endDate}","offline":"true","method":"getBARawData"}' >BA Raw Data</a>{{else}}<a href='javascript:{"rptName":"BA_Raw_Report","displayName":"BA Raw Report","startDate":"${startDate}","endDate":"${endDate}","method":"getBARawData"}' >BA Raw Data</a>{{/if}}</td>{{else}}<td><a href='javascript:{"rptName":"BA_Raw_Report","displayName":"BA_Raw_Report","startDate":"${startDate}","endDate":"${endDate}","method":"getBaRawNew","CSRF_NONCE":"${STW.Cache.getNonce()}"}' >BA Raw Report</a><a id="refreshBaRaw"><img style="margin-left:20px;width:15px;" src="img/refresh.png" title="Refresh BaRaw Report"/></a></td>{{/if}}</tr>{{if STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_TRANSPORT_MANAGER_NO_BILLING }}<tr class="roleBasedAccess" functionalities="bill_view, vendor_billing_manager_view,bill_view_raw_billing_data"><td><a class="rawBillingReport" href='CSVReport_Servlet?rptName=RawBilling_Report&startDate=${dateMngr.getDateOnly(startDate)}&endDate=${dateMngr.getDateOnly(endDate)}&CSRF_NONCE=${STW.Cache.getNonce()}&vendorId=[-1]&unauditedData=true&includeExpiredTripsheets=false'>Raw Billing Data</a><label><input name="unauditedData" type="checkbox" checked="checked" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Unaudited Data</span></label><br><label style="margin-left:88px;"><input name="includeExpiredTripsheets" type="checkbox" value="true" style="margin: 0 5px;vertical-align: middle;"><span>Include Incomplete Trips</span></label></td></tr>{{/if}}{{if !isNewSecurityDashboardEnabled }}{{if STW.Cache.isMobilePanicFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Mobile","displayName":"Panic Mobile Report","startDate":"${startDate}","endDate":"${endDate}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_MOBILE"]}' >Panic Mobile Report</a></td></tr>{{/if}}{{if STW.Cache.isFixedDevicePanicEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_External_Device","displayName":"Panic Fixed Device Report","startDate":"${startDate}","endDate":"${endDate}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_FIXED_DEVICE"]}' >Panic Fixed Device Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Vehicle_Stoppage_Report","displayName":"Vehicle Stoppage Report","startDate":"${startDate}","endDate":"${endDate}"}' >Vehicle Stoppage Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Sign_Off_Time_Violation_Report","displayName":"Employee Sign Off Time Violation Report","startDate":"${startDate}","endDate":"${endDate}"}' >Employee Sign Off Time Violation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Geofence_Sign_Off_Violation_Report","displayName":"Employee Geofence Sign Off Violation Report","startDate":"${startDate}","endDate":"${endDate}"}' >Employee Geofence Sign Off Violation Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Device_Not_Reachable_Report","displayName":"Device Not Reachable Report","startDate":"${startDate}","endDate":"${endDate}"}' >Device Not Reachable Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=ContactTHD_Report&startDate=${dateMngr.getDateOnly(startDate)}&endDate=${dateMngr.getDateOnly(endDate)}&CSRF_NONCE=${STW.Cache.getNonce()}'>Contact Transport Team Report</a></td></tr>{{if STW.Cache.isAdhocRequestFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=Adhoc_request&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Adhoc Request Report</a></td></tr>{{/if}}{{if STW.Cache.isIndemnificationEnabled()}}<tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Indemnification_Summary_Report&displayName=Indemnification_Summary_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Indemnification Summary Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations" style="display:none;"><td ><a href='CSVReport_Servlet?rptName=Indemnification_Enforecement_Report&displayName=Indemnification_Enforecement_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Indemnification Enforecement Report</a></td></tr>{{/if}}{{if STW.Cache.isOptinEnabled()}}<tr class="roleBasedAccess" functionalities="operations" id="month_basis_report_optin_optout"><td ><a href='javascript:{"rptName":"Optin_Optout_Report","displayName":"Optin Optout Report","startDate":"${startDate}","endDate":"${endDate}","method":"Optin_Optout_Report"}' >Optin Optout Report</a><a style="margin-left:20px" href='CSVReport_Servlet?rptName=Optin_Optout_Report&displayName=Optin_Optout_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'><img style="width:18px;" src="img/csv.gif" title="Download Report as csv"></a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"IVR_Usage_Report","displayName":"IVR Usage Report","startDate":"${startDate}","endDate":"${endDate}","method":"getIVRUsageReport"}' >IVRUsage Report</a></td></tr>{{if STW.Cache.isScheduleChangeReportEnabled()}}`		<tr class="roleBasedAccess" functionalities="operations"><td ><a href='CSVReport_Servlet?rptName=Schedule_Change_Report&displayName=Schedule_Change_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Schedule Change Report <img style="width:18px;" src="img/csv.gif" title="Download Report as csv"> </a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"EmployeeCommunicationReport","displayName":"Employee Communication Report","startDate":"${startDate}","endDate":"${endDate}","method":"getEmployeeCommunicationReport"}' >Employee Communication Report</a></td></tr>{{if STW.Cache.isSpecialNeedFeatureEnabled() }}<tr class="roleBasedAccess" functionalities="operations"><td><a href='javascript:{"rptName":"Special_Need_Report","displayName":"Special_Need_Report","startDate":"${startDate}","endDate":"${endDate}","method":"getSpecialNeedReport","CSRF_NONCE":"${STW.Cache.getNonce()}"}'>Special Need Employee Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=OTA_Detailed_VendorWise&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>On Time Arrival Report(OTA)</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=OTD_Detailed_VendorWise&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>On Time Departure Report(OTD)</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Overspeeding_Detailed_VendorWise&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Overspeeding Detailed</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Cab_Allocation_Detailed&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Vehicle Allocation Detailed</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Trip_Completion_Report_VendorWise&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Trip Completion Report</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Actual_Escorts_Trips_Detailed&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Actual Escorts Trips</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=Vehicle_Per_Trip&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Vehicle Per Trip</a></td></tr><tr class="roleBasedAccess" functionalities="vendormanager_view"><td><a href='CSVReport_Servlet?rptName=Vendor_Experience_Reports&displayName=VendorWise_Trip_Level_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'> Trip Level Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='CSVReport_Servlet?rptName=InPremiseCab_Report&displayName=InPremiseCab_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>In Premise Vehicle Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations"><td><a href='CSVReport_Servlet?rptName=Planned_Vs_Actual_Vendor_Cab_Report&displayName=Planned_Vs_Actual_Vendor_Cab_Report&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'> Planned Vs Actual Vendor Vehicle Report</a></td></tr></table></div></script></div><div class="TC"><script id="operationsData-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="margin-left:0; position:relative;" class="formtable"><tr><td><a href='Report_Servlet?rptName=Custom_TripSheet_Report&displayName=TripSheet Report&startDate="${startDate}"&endDate="${endDate}"&format=xls&order=SHIFT_DATE&CSRF_NONCE=${STW.Cache.getNonce()}'>TripSheet File</a></td></tr><tr><td><a href='Report_Servlet?rptName=Custom_Vendor_TripSheet_Report&displayName=Vendor TripSheet Report&startDate="${startDate}"&endDate="${endDate}"&type="1"&format=xls&order=&CSRF_NONCE=${STW.Cache.getNonce()}'>Vendor TrackSheet</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Cab_Deployment_Report&displayName=Cab Deployment Report&startDate="${startDate}"&endDate="${endDate}"&format=xls&CSRF_NONCE=${STW.Cache.getNonce()}'>Vehicle Deployment File</a></td></tr></table></div></script></div><div class="TC"><script id="securityDashboard-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="margin-left:0; position:relative;" class="formtable"><tr><td><a href='CSVReport_Servlet?rptName=SecurityAlertsDailyCounts&displayName=SecurityAlertsDailyCounts&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Security Alerts Daily Counts</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=OVER_SPEEDING&CSRF_NONCE=${STW.Cache.getNonce()}'>Over Speeding In Vehicle</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=PANIC_DEVICE&CSRF_NONCE=${STW.Cache.getNonce()}'>SOS Alert From Device</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=PANIC_MOBILE&CSRF_NONCE=${STW.Cache.getNonce()}'>SOS Alert From Mobile App</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=PANIC_FIXED_DEVICE&CSRF_NONCE=${STW.Cache.getNonce()}'>SOS Alert From Fixed Device</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=TAMPER_EXTERNAL_DEVICE&CSRF_NONCE=${STW.Cache.getNonce()}'>Tamper Alert From External Device</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=DEVICE_NOT_REACHABLE&CSRF_NONCE=${STW.Cache.getNonce()}'>Device Not Reachable</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=FIXED_DEVICE_NOT_REACHABLE&CSRF_NONCE=${STW.Cache.getNonce()}'>Fixed Device Not Reachable</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=VEHICLE_STOPPAGE&CSRF_NONCE=${STW.Cache.getNonce()}'>Vehicle Stopped</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=EMPLOYEE_SIGN_OFF_TIME_VIOLATION&CSRF_NONCE=${STW.Cache.getNonce()}'>Employee Sign Off Time Violation</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=EMPLOYEE_GEOFENCE_VIOLATION&CSRF_NONCE=${STW.Cache.getNonce()}'>Employee Geo Fence Violation</a></td></tr><tr><td><a href='CSVReport_Servlet?rptName=Security_Alerts_Detail_Report_Jasper&displayName=SecurityAlertsDetailReport&startDate=${startDate}&endDate=${endDate}&alertType=WOMAN_TRAVELLING_ALONE&CSRF_NONCE=${STW.Cache.getNonce()}'>Women Travelling Alone</a></td></tr>{{if isNewDropVerificationEnabled}}<tr><td><a href='javascript:{"rptName":"DropVerification_Report","displayName":"DropVerification Report","startDate":"${startDate}","endDate":"${endDate}","method":"getDropVerificationReport"}' >Drop Verification Report</a></td></tr>{{/if}}</table></div></script></div><div class="TC"><script id="archived-reports-tmpl" type="text/x-jquery-tmpl">{{if isNewSecurityDashboardEnabled ||  isNewDropVerificationEnabled}}<div><table><tr><th colspan=2>Archived Reports</th></tr></table><table style="margin-left:0; position:relative;" class="formtable">{{if isNewSecurityDashboardEnabled }}{{if STW.Cache.isPanicFeatureEnabled()}}<tr class= "roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Report","displayName":"Panic Report","startDate":"${startDate}","endDate":"${endDate}"}' >Panic Report</a></td></tr>{{/if}}{{if STW.Cache.isMobilePanicFeatureEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_Mobile","displayName":"Panic Mobile Report","startDate":"${startDate}","endDate":"${endDate}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_MOBILE"]}' >Panic Mobile Report</a></td></tr>{{/if}}{{if STW.Cache.isFixedDevicePanicEnabled()}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Panic_External_Device","displayName":"Panic Fixed Device Report","startDate":"${startDate}","endDate":"${endDate}","CSRF_NONCE":"${STW.Cache.getNonce()}","type":["PANIC_FIXED_DEVICE"]}' >Panic Fixed Device Report</a></td></tr>{{/if}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Vehicle_Stoppage_Report","displayName":"Vehicle Stoppage Report","startDate":"${startDate}","endDate":"${endDate}"}' >Vehicle Stoppage Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Device_Not_Reachable_Report","displayName":"Device Not Reachable Report","startDate":"${startDate}","endDate":"${endDate}"}' >Device Not Reachable Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Sign_Off_Time_Violation_Report","displayName":"Employee Sign Off Time Violation Report","startDate":"${startDate}","endDate":"${endDate}"}' >Employee Sign Off Time Violation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='javascript:{"rptName":"Employee_Geofence_Sign_Off_Violation_Report","displayName":"Employee Geofence Sign Off Violation Report","startDate":"${startDate}","endDate":"${endDate}"}' >Employee Geofence Sign Off Violation Report</a></td></tr><tr class="roleBasedAccess" functionalities="operations,vendorbillingview,speed_voilation_report"><td ><a href='javascript:{"rptName":"Over_Speed_Violation_Report","displayName":"Speed Violation Report","startDate":"${startDate}","endDate":"${endDate}","method":"getSpeedViolationReport"}' >Speed Violation Report</a></td></tr>{{/if}}{{if isNewDropVerificationEnabled}}<tr class="roleBasedAccess" functionalities="operations,vendorbillingview"><td ><a href='CSVReport_Servlet?rptName=DropVerification_Report&displayName=DropVerification_Report&startDate=${startDate}&endDate=${endDate}&status=[PENDING,NOT_STARTED,IN_PROGRESS,FAILED,SUCCESSFUL,DUPLICATE]&type=all&logout=ALL&CSRF_NONCE=${STW.Cache.getNonce()}'>DropVerification Report</a></td></tr>{{/if}}</table></div>{{/if}}</script></div><div class="TC"><script id="operation-reports-skeleton" type="text/x-jquery-tmpl"><div id="operationReportsContainer" style="float: left; width:350px;"><div><form name="billingCycleForm"><table><tr><th colspan=2>Management Information Systems (MIS) Report</th></tr><tr><td>Start Date</td><td><input readonly="true" class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy"></td></tr><tr><td>End Date</td><td><input readonly="true" class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy"></td></tr></table></form></div><div id="operationReportsTable"></div></div><div id="operationReportsContainer" class="roleBasedAccess" functionalities="operations,vendorbillingview" style="float: left; width:350px; margin-left:10px;"><table><tr><th colspan=2>Operational Data</th></tr></table><div id="operationDataReportsTable"></div></div><div id="operationReportsContainer" class="roleBasedAccess" functionalities="operations,vendorbillingview" style="float: right; width:350px; margin-left:10px;"><table><tr><th colspan=2>Security Dashboard Reports</th></tr></table><div id="securityDashboardReportsTable"></div><div class="roleBasedAccess" functionalities="site_administration"><div id="archivedReportsTable"></div></div></div></script></div><div class="TC"><script id="escort-deployment-tmpl" type="text/x-jquery-tmpl"><div style="width: 1000px;margin: 0 auto;"><div style="text-align: right;"><a class="summaryReportDownload">Download as CSV</a></div><div style="text-align: right;"><a href='CSVReport_Servlet?rptName=Escort_Deployment_Detail&input=${JSON.stringify(input)}&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Detailed Report</a></div><div style="text-align: left; padding-top: 20px;">Disclaimer:There may be an overlap between Nonshift, Adhoc & Routed employees.</div><table id="escortDeploymentReport" style="width: 100%;"><tr><th>Trip Date</th><th>Shift/Trip Type</th><th>Planned Escort Trips</th><th>Executed Escort Trips</th></tr>{{each(k, data) dataList}}<tr>{{each(j, elem) data}}<td>${elem}</td>{{/each}}</tr>{{/each}}</table></div></script></div><div class="TC"><script id="planned-trip-status-tmpl" type="text/x-jquery-tmpl"><div style="width: 1000px;margin: 0 auto;"><div style="text-align: right;"><a class="summaryReportDownload">Download as CSV</a></div><div style="text-align: right;"><a href='CSVReport_Servlet?rptName=Planned_Trip_Status_Detailed&input=${JSON.stringify(input)}&startDate=${startDate}&endDate=${endDate}&CSRF_NONCE=${STW.Cache.getNonce()}'>Download Detailed Report</a></div><div style="text-align: left; padding-top: 20px;">Disclaimer:There may be an overlap between Nonshift, Adhoc & Routed employees.</div><table id="plannedTripStatusReport" style="width: 100%;"><tr><th>Facility</th><th>Date</th><th>Shift Trip Emp</th><th>Non Shift Emp</th><th>Total Regular</th><th>Total Irregular</th><th>Boarded Emp</th><th>Non Boarded</th></tr>{{each(k, data) dataList}}<tr>{{each(j, elem) data}}<td>${elem}</td>{{/each}}</tr>{{/each}}</table></div></script></div><div class="TC"><script id="jasper-reports-tmpl" type="text/x-jquery-tmpl"><div><table style="margin:0 auto; min-width: 80%;"><tr class="roleBasedAccess" functionalities="jasper_view"><td ><select class="jasperName" name="rptName">{{if isReportAvailable("OTA_Site_Wise_Graph")}}<option value="OTA_Site_Wise_Graph">OTA</option>{{/if}}{{if isReportAvailable("OTA_Pan_India_Graph")}}<option value="OTA_Pan_India_Graph">OTA Cumulative</option>{{/if}}{{if isReportAvailable("OTD_Site_wise_Graph")}}<option value="OTD_Site_wise_Graph">OTD</option>{{/if}}{{if isReportAvailable("OTD_Pan_India_Graph")}}<option value="OTD_Pan_India_Graph">OTD Cumulative</option>{{/if}}{{if isReportAvailable("No_Show_Site_Wise_Graph")}}<option value="No_Show_Site_Wise_Graph">Noshow</option>{{/if}}{{if isReportAvailable("Noshow_Login")}}<option value="Noshow_Login">Noshow Login</option>{{/if}}{{if isReportAvailable("Noshow_Logout")}}<option value="Noshow_Logout">Noshow Logout</option>{{/if}}{{if isReportAvailable("No_Show_Pan_India_Graph")}}<option value="No_Show_Pan_India_Graph">Noshow Cumulative</option>{{/if}}{{if isReportAvailable("Actual_Seat_Util_Site_wise")}}<option value="Actual_Seat_Util_Site_wise">Actual Seat Utilisation</option>{{/if}}{{if isReportAvailable("Aggregate_Seat_Utilisation")}}<option value="Aggregate_Seat_Utilisation">Actual Seat Utilisation Cumulative</option>{{/if}}{{if isReportAvailable("Safe_Reach_Veri_Atte_Site_wise")}}<option value="Safe_Reach_Veri_Atte_Site_wise">Safe Reach Verification Attempted</option>{{/if}}{{if isReportAvailable("Aggregate_Safe_Reach_Veri_Atte")}}<option value="Aggregate_Safe_Reach_Veri_Atte">Safe Reach Verification Attempted Cumulative</option>{{/if}}{{if isReportAvailable("Safe_Reach_Veri_Succ_Site_wise")}}<option value="Safe_Reach_Veri_Succ_Site_wise">Safe Reach Verification Successful</option>{{/if}}{{if isReportAvailable("Aggregate_Safe_Reach_Veri_Succ")}}<option value="Aggregate_Safe_Reach_Veri_Succ">Safe Reach Verification Successful Cumulative</option>{{/if}}{{if isReportAvailable("Marshall_Trips")}}<option value="Marshall_Trips">Actual vs Planned Marshall Trips</option>{{/if}}{{if isReportAvailable("Marshall_to_Female_Travelled")}}<option value="Marshall_to_Female_Travelled">Marshall To Female Travelled</option>{{/if}}{{if isReportAvailable("Marshall_Violation")}}<option value="Marshall_Violation">Marshall Violation</option>{{/if}}{{if isReportAvailable("Trip_feedbak_Site_Wise_Graph")}}<option value="Trip_feedbak_Site_Wise_Graph">Trip Feedback</option>{{/if}}{{if isReportAvailable("SOS_Alerts_Closure_Time")}}<option value="SOS_Alerts_Closure_Time">SOS Alerts Closure Time</option>{{/if}}{{if isReportAvailable("Overspeeding_Alerts")}}<option value="Overspeeding_Alerts">Overspeeding Alerts</option>{{/if}}{{if isReportAvailable("Walk_in_Login")}}<option value="Walk_in_Login">Walk-in Login</option>{{/if}}{{if isReportAvailable("Walk_in_Logout")}}<option value="Walk_in_Logout">Walk-in Logout</option>{{/if}}{{if isReportAvailable("All_Routes_Rostered")}}<option value="All_Routes_Rostered">Routes vs Rostered</option>{{/if}}{{if isReportAvailable("OTA_Site_wise_shift_wise_Summary")}}<option value="OTA_Site_wise_shift_wise_Summary">OTA Site Wise Shift Wise</option>{{/if}}{{if isReportAvailable("OTD_Site_wise_shift_wise_Summary")}}<option value="OTD_Site_wise_shift_wise_Summary">OTD Site Wise Shift Wise</option>{{/if}}{{if isReportAvailable("SchedulesByChannel")}}<option value="SchedulesByChannel">Schedules by Channel</option>{{/if}}{{if isReportAvailable("Cancellations")}}<option value="Cancellations">Scheduled and Cancelled</option>{{/if}}{{if isReportAvailable("Wipro_Seat_Utilization")}}<option value="Wipro_Seat_Utilization">Seat Utilisation</option>{{/if}}{{if isReportAvailable("Seat_Utilisation_Site_wise")}}<option value="Seat_Utilisation_Site_wise">Seat Utilisation Site Wise</option>{{/if}}{{if isReportAvailable("Seat_Utilisation_Site_wise_shift_wise_Summary")}}<option value="Seat_Utilisation_Site_wise_shift_wise_Summary">Seat Utilisation Site Wise Shift Wise</option>{{/if}}{{if isReportAvailable("Wipro_Trip_Ratings")}}<option value="Wipro_Trip_Ratings">Trip Ratings</option>{{/if}}{{if isReportAvailable("OTA_One")}}<option value="OTA_One">Vendorwise OTA Single Site</option>{{/if}}{{if isReportAvailable("OTA_One_Device")}}<option value="OTA_One_Device">Vendorwise Trip Completion</option>{{/if}}{{if isReportAvailable("All_Monthly")}}<option value="All_Monthly">Aggregate Sitewise Monthly Report</option>{{/if}}{{if isReportAvailable("Wipro_Cab_Utilization")}}<option value="Wipro_Cab_Utilization">Vehicle Utilization</option>{{/if}}{{if isReportAvailable("Employee_Behavior")}}<option value="Employee_Behavior">Employee Behavior</option>{{/if}}{{if isReportAvailable("Wipro_Drop_Verification")}}<option value="Wipro_Drop_Verification">Aggregate Sitewise Drop Verification</option>{{/if}}{{if isReportAvailable("No_show_Site_wise_shift_wise_Summary")}}<option value="No_show_Site_wise_shift_wise_Summary">No Show Site Wise Shift Wise</option>{{/if}}{{if isReportAvailable("Wipro_Routes_Rating")}}<option value="Wipro_Routes_Rating">Route Ratings</option>{{/if}}{{if isReportAvailable("Billable_Seat_Utilization")}}<option value="Billable_Seat_Utilization">Billable Seat Utilization</option>{{/if}}{{if isReportAvailable("Billable_Seat_Utilization_Cumulative")}}<option value="Billable_Seat_Utilization_Cumulative">Billable Seat Utilization Cumulative</option>{{/if}}{{if isReportAvailable("Driver_Compliance")}}<option value="Driver_Compliance">Driver_Compliance</option>{{/if}}{{if isReportAvailable("Vehicle_Compliance")}}<option value="Vehicle_Compliance">Vehicle_Compliance</option>{{/if}}{{if isReportAvailable("Planned_Seat_Utilization_Cumulative")}}<option value="Planned_Seat_Utilization_Cumulative">Planned_Seat_Utilization_Cumulative</option>{{/if}}{{if isReportAvailable("Concentrix_Trip_Level_Report")}}<option value="Concentrix_Trip_Level_Report">Concentrix Trip Level Report</option>{{/if}}{{if isReportAvailable("Concentrix__Employee_Level__Report")}}<option value="Concentrix__Employee_Level__Report">Concentrix Employee Level Report</option>{{/if}}{{if isReportAvailable("Concentrix_Hourly_Cancellations_Report")}}<option value="Concentrix_Hourly_Cancellations_Report">Concentrix Hourly Cancellations Report</option>{{/if}}{{if isReportAvailable("Concentrix_Pune_Trip_Level_Seater_wise_Report")}}<option value="Concentrix_Pune_Trip_Level_Seater_wise_Report">Concentrix Pune Trip Level Seater wise Report</option>{{/if}}{{if isReportAvailable("BGV_Compliance")}}<option value="BGV_Compliance">BGV Compliance</option>{{/if}}{{if isReportAvailable("Critical_Alert")}}<option value="Critical_Alert">Critical Alert</option>{{/if}}{{if isReportAvailable("PV_Compliance")}}<option value="PV_Compliance"">PV Compliance</option>{{/if}}{{if isReportAvailable("Vehicle_Stoppage_Alert")}}<option value="Vehicle_Stoppage_Alert">Vehicle Stoppage Alert</option>{{/if}}{{if isReportAvailable("Employees_and_trips")}}<option value="Employees_and_trips">Boarded Employees Completed Trips</option>{{/if}}{{if window.location.hostname.indexOf("hsbc") != -1}}<option value="hsbc_kpi_report">HSBC KPI Reports</option><option value="hsbc_sla_report">HSBC SLA Reports</option>{{/if}}</select><!-- <a href='javascript:{"rptName":"OTA_Report","displayName":"OTA (New)", "analytics":"true","method":"OTA_Report"}' >On-time arrival report (new format)</a> --></td><td style="margin-left:5px;"><span style="margin-left:5px">Start:</span><span style="margin-left:5px;"><input readonly="true" class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" style="width:70px;"></span><span style="margin-left:5px;">End:</span><span style="margin-left:5px;"><input readonly="true" class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy" style="width:70px;"></span></td><td class="selectSite"><span>Site Name</span><span style="margin-left:10px;"><select name="siteName" id="siteName" multiple style="width:200px;">{{each(i, bUnit) STW.Cache.jasperBusinessUnits()}}<option value="${bUnit}">${bUnit}</option>{{/each}}</select></span></td><td><span><input type="button" style="min-height: 20px;min-width: 35px;margin:0;" class="showReport buttonstyle1" value="GO"></span></td><td><a class="jasperSummaryDownload" style="margin-left:10px;">Download Summary Report</a><a class="jasperDetailedDownload" style="margin-left:10px;">Download Detailed Report</a></td></tr></table></div></script></div><div class="TC"><script id="jasper-reports-skeleton" type="text/x-jquery-tmpl"><div><div id="jasperReportsTable"></div><div id="jasperOutputTable" style="margin-top:20px;width:100%"></div></div></script></div><div class="TC"><script id="hsbc-kpi-template" type="text/x-jquery-tmpl"><div><table class="performanceMeasure tablestyle1" style="margin-top:20px;width:1000px"><tr><th>S. No</th><th>KPI Name</th><th>Frequency of Measurement</th><th>Actual</th></tr>{{each(i, measure) measureList}}<tr><td>${i + 1}</td><td>${measure.name}</td><td>${measure.frequency}</td><td>${measure.actualValue}</td></tr>{{/each}}</table></div></script></div><div class="TC"><script id="hsbc-sla-template" type="text/x-jquery-tmpl"><div><table class="performanceMeasure tablestyle1" style="margin-top:20px;width:1000px"><tr><th>S. No</th><th>SLA</th><th>Frequency of Measurement</th><th>Target SLA</th><th>Actual SLA</th><th>Vendor Performance Score</th></tr>{{each(i, measure) measureList}}<tr><td>${i + 1}</td><td>${measure.name}</td><td>${measure.frequency}</td><td>${measure.desiredValue}</td><td>${measure.actualValue}</td><td>${getPerformanceScore(measure)}</td></tr>{{/each}}<tr><td colspan="4"></td><td>Total</td><td class="totalScore"></td></tr></table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="create-sector-tmpl"><div class="sector edit-tripsheet-table-top"${i}><div class="head"><input  type="hidden"><span>S${i}</span><span class="float-right"><span class="selected-routes">0</span>/<span class="sector-length">${sectorRouteList.length}</span></span></div><div indx=${i} class="body" style="padding:0"><table class="popup-table" style="margin:0px"><thead><tr><th><input type="checkbox" style="float:left" /></th><th>Vehicle Id</th><th>Regd No</th><th>Emp</th><th>Dir</th><th>Time/ Type</th></tr></thead><tbody>{{each(index, sectorRoute) sectorRouteList}}<tr uuid=${sectorRoute.tripSheet.uuid} style="background-color:${sectorRoute.isSelected ? sectorRoute.colorCode.code : ""};"><td><input type="checkbox" value="${sectorRoute.tripSheet.uuid}" ${sectorRoute.isSelected ? "checked=checked" : ""} tripUUId=${sectorRoute.tripSheet.uuid} style="height:auto;">{{if showFemaleIcon(sectorRoute)}}<img class="femaleIcon" src="img/female.png" />{{/if}}</td><td class="routeIdContainer">${sectorRoute.tripSheet.cab.displayCabId}</td><td class="routeIdContainer">${sectorRoute.tripSheet.cab.identification}</td><td><span class="empCount">{{html empPickedUpDetails(sectorRoute)}}</span>{{if sectorRoute.hasEnded}}<a class="close-ended-route"><img src="img/x.png" alt="remove" /></a>{{/if}}</td><td>${sectorRoute.tripSheet.dir}</td><td>${getShiftTime(sectorRoute.tripSheet)}</td></tr>{{/each}}</tbody></table></div></div></script></div><div class="TC"><script id="doNotDisturbTemplate" type="text/x-jquery-tmpl"><div style="max-height:70vh;overflow-y:scroll;border:1px solid #ccc;padding: 25px 50px; width:70vw;" class="loginPopupText"></div><div style="text-align: center;padding: 15px;"><input name="submit" type="button" class="buttonstyle1" value="I Agree" /></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="tripsheetStatus"><div><table class="tripsheetLinks tablestyle1" style="margin-left:10%; clear: both;"><tbody><tr><td><div id="tripsheetSummary"></div></td><td><div id="tripsheetStatusCount" class="insidewidget" style="margin-left:20px; margin-top: 20px;"></div></td></tr></tbody></table></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="transMenu"><div class="transportMenu modern-transport-menu" style="">{{if STW.Cache.enableWIS()}}<div id="workInSyncLogin" class="tabdiv"><span href="workInSyncLogin">WorkInSync</span></div>{{/if}}<div id="dashboard" class="roleBasedAccess tabdiv" functionalities="dashboard_view"><span href="dashboard" class="roleBasedAccess" functionalities="dashboard_view">DASHBOARD</span><ul style="display:none">{{if STW.Cache.isSyncFileDataUploadEnabled() && syncAccess}}<li href="uploadSchedule" class="dataSyncServiceLink">Data Upload & Upload Status</li>{{/if}}{{if STW.Cache.isThdEnabled()}}<li href="thdDashboard" class="test-thd roleBasedAccess" functionalities="thd_view">THD Dashboard</li>{{/if}}<li href="cdsTracking" class="roleBasedAccess" functionalities="tracking_module_new">Tracking</li><li href="dropDashboard" class="roleBasedAccess" functionalities="drop_dashboard">Drop Dashboard</li><li href="evDashboard" class="roleBasedAccess" functionalities="ev_dashboard">EV Dashboard</li></ul></div><div id="routes" class="roleBasedAccess tabdiv" functionalities="route_view, route_copy"><span href="routes" class="RouteManagement roleBasedAccess" functionalities="route_view">ROUTES</span><ul style="display: none">{{if STW.Cache.getNodalVisibility()}}<li href="manageLocations" class="NodalManagement roleBasedAccess" functionalities="nodal_view">Manage Nodal Points</li>{{/if}}<li href="manageVendorAllocation" class="manageVendorAllocation roleBasedAccess" functionalities="manage_vendor_allocation">Manage Vendor Allocation</li>{{if STW.Cache.isShuttleRoutingFeatureEnabled()}}<li class="shuttle-operations" href="manageShuttle">Shuttle Operations</li><li href="manageShuttle" class="ManageShuttleRoutes shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view">Shuttle Bulk Operations</li><li href="manageStopPoints" class="StopManagement shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view">Manage Shuttle Stops</li><li href="manageShuttleRoute" class="ShuttleRouteManagement shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view">Manage Shuttle Route</li>{{if STW.Cache.isShuttleDashboardEnabled()}}<li href="manageShuttleDashboard" class="BusDashboard shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view">Manage Bus Booking</li>{{/if}}{{/if}}</ul></div>{{if STW.Cache.isVendorAssignCabPropertyEnabled() && (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_VM)}}<div id="assignVendorCabs" class="roleBasedAccess tabdiv" functionalities="assign_cab"><span href="assignVendorCabs" class="AssignVendorCabs roleBasedAccess" functionalities="assign_cab">ALLOCATE CABS</span></div>{{/if}}{{if STW.Cache.checkFunctionality("bill_view,vendor_billing_manager_view,billing_dashboard,billing_reports_view") == true}}<div id="reports" class="roleBasedAccess tabdiv" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard"><span href="billingDashboard" class="BillingDashboard roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard">BILLING</span><ul style="display:none">{{if STW.Cache.hideOldBillingDashboardEnabled() == false}}<li href="billingReports" class="BillingReports roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view">Reports</li>{{/if}}{{if STW.Cache.isNewBillingReports()}}<li href="newBillingReports" class="NewBillingReports roleBasedAccess" functionalities="billing_reports_view">New Billing Reports</li>{{/if}}{{if STW.Cache.isNewBillingResolutionUIEnabled()}}<li href="newBillingResolutionUI" class="roleBasedAccess" functionalities="bill_view,odc_view"> ODC </li>{{/if}}</ul></div>{{else STW.Cache.isNewBillingResolutionUIEnabled() == true}}<div id="odcDashboard" class="roleBasedAccess tabdiv" functionalities="odc_view"><span href="odcDashboard" class="roleBasedAccess" functionalities="odc_view">ODC</span><ul style="display:none"><li href="newBillingResolutionUI" class="roleBasedAccess" functionalities="odc_view"> ODC </li></ul></div>{{/if}}<div id="operations" class="roleBasedAccess tabdiv" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view,compliance_manager_view"><span href="operationsDashboard" class="OperationsDashboard roleBasedAccess" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view,compliance_manager_view">BUSINESS ANALYTICS</span><ul style="display:none">{{if STW.Cache.isReportingServiceEnabled() == false || (STW.Cache.replaceBAWithReporting() == false && STW.Cache.enableRealTimeReports() == false)}}<li href="operationsReports" class="OperationsReports roleBasedAccess" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view">Reports</li>{{/if}}{{if STW.Cache.isJasperReportingEnabled()}}<li href="jasperReports" class="JasperReports roleBasedAccess" functionalities="jasper_view,compliance_manager_view">BI Reports</li>{{/if}}{{if STW.Cache.isRealTimeAnalyticsEnabled()}}<li href="realTimeAnalytics" class="RealTimeAnalytics roleBasedAccess" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view">Real Time Analytics</li>{{/if}}</ul></div><div id="billing" class="roleBasedAccess tabdiv" functionalities="vendor_view, bill_view, cab_view, route_view, compliance_view"><span>SETTINGS</span><ul style="display:none; margin-right:3px;"><li href="manageVendors" class="VendorManagement roleBasedAccess" functionalities="vendor_view">Manage Vendors</li><li href="manageContracts" class="ContractManagement roleBasedAccess" functionalities="bill_edit">Manage Contracts</li>{{if STW.Cache.isNewBillingDashboardEnabled()}}<li href="manageCabContracts" class="CabContracts roleBasedAccess" functionalities="bill_edit,cab_edit,cab_manage,contract_view">Vehicle Contracts</li><li href="manageCostCenter" class="CostCenterManagement roleBasedAccess" functionalities="bill_edit">Cost Center</li><li href="manageNewContracts" class="NewContractManagement roleBasedAccess" functionalities="bill_edit">Manage New Contracts</li>{{/if}}<li href="manageCabs" class="CabManagement roleBasedAccess" functionalities="cab_view">Manage Vehicles</li>{{if STW.Cache.showManageDriver()}}<li href="manageDrivers" class="DriverManagement roleBasedAccess" functionalities="driver_view">Manage Drivers</li>{{/if}}{{if STW.Cache.fixedDeviceEnabled()}}<li href="manageDevices" class="DeviceManagement roleBasedAccess" functionalities="device-bulk-upload-view">Manage Fixed Devices</li>{{/if}}{{if STW.Cache.isRFIDEnabled()}}<li href="manageRFIDDevices" class="RFIDDeviceManagement roleBasedAccess" functionalities="cab_view,compliance_view">Manage RFID Devices</li>{{/if}}{{if RoleUtils.isVendorRole() == false}}<li href="manageCabType" class="CabTypeManagement roleBasedAccess" functionalities="cab_view">Manage Vehicle Types</li>{{/if}}{{if STW.Cache.isLocalityBasedBillingEnabled()}}<li href="manageBillingZones" class="BillingZonesManagement roleBasedAccess" functionalities="bill_edit">Manage Billing Zones</li>{{/if}}{{if STW.Cache.isLocalityBasedBillingEnabled() && STW.Cache.isNewBillingDashboardEnabled()}}<li href="manageNewBillingZones" class="BillingZonesManagement roleBasedAccess" functionalities="bill_edit">Manage New Billing Zones</li>{{/if}}<li href="dailyAuditReport" class="DailyAuditReport roleBasedAccess" functionalities="bill_edit">Daily Audit Report</li><li href="fileUploader" class="FileUploader roleBasedAccess" functionalities="route_view, bill_edit">SMS Communication</li>{{if STW.Cache.isCommunicationInterfaceEnabled()}}<li href="communicationInterface" class="roleBasedAccess" functionalities="communication_interface">Communication Interface</li>{{/if}}{{if STW.Cache.site24x7AvailabilityKey().length > 0}}<li href="siteAvailability" class="SiteAvailability roleBasedAccess" functionalities="route_view, bill_edit">Site Status</li>{{/if}}</ul></div></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="userMenu"><span class="dropdownItem" id="welcome"><a class="employeeLogin roleBasedAccess" functionalities="employee_view"></a></span><span class="dropdownItem roleBasedAccess" functionalities="site_administration"><a class="siteAdmin">Site Administrator</a></span><span class="dropdownItem roleBasedAccess" functionalities="scheduling_management"><a class="scheduleManagement">Manage Shifts</a></span><span class="dropdownItem projectMgr roleBasedAccess" functionalities="project_view" style="display: none;"><a class="projectManager">Manage Teams</a></span><span class="dropdownItem transportMgr roleBasedAccess" functionalities="transport_view"><a class="transportManager">Transport Manager</a></span><span class="dropdownItem roleBasedAccess" functionalities="userauditor_view"><a class="userAuditor">User Auditor</a></span><span class="dropdownItem"><a class="securitydashboard">Security Dashboard</a></span></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="edit-waiting-cab-tmpl"><div id="edit-waiting-cab" style="width:90%;margin:0 auto;"><form><div class="summary"><table class="summary-table formtable" style="width:60%"><col class="name-clmn"><col class="value-clmn"><thead><thead><tr><td colspan="2" class="tablehead rightrad leftrad">SUMMARY</td></tr></thead><tbody><tr><td style="width:35%"><span>Vehicle No</span></td><td> <span> ${duty.cab.displayCabId + " (" + duty.cab.identification +")"}</span> </td></tr><tr><td><span>Duty Start Time</span></td>{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><input class="datePicker" name="reportIn" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" disabled /><select name="startHours" style="width: 20%; margin-left:10px;" disabled> {{html dateMngr.getHourOptions()}} </select><select name="startMins" style="width: 20%; margin-left:5px;" disabled> {{html dateMngr.getMinuteOptions()}} </select><input type="hidden" name="startSeconds" value="${startSeconds}" /></td>{{else}}<td><input class="datePicker" name="reportIn" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /><select name="startHours" style="width: 20%; margin-left:10px;"> {{html dateMngr.getHourOptions()}} </select><select name="startMins" style="width: 20%; margin-left:5px;"> {{html dateMngr.getMinuteOptions()}} </select><input type="hidden" name="startSeconds" value="${startSeconds}" /></td>{{/if}}</tr><tr><td><span>Duty End Time</span></td>{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><input class="datePicker" name="reportOff" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" disabled/><select name="endHours" style="width: 20%; margin-left:10px;" disabled> {{html dateMngr.getHourOptions()}} </select><select name="endMins" style="width: 20%; margin-left:5px;" disabled> {{html dateMngr.getMinuteOptions()}} </select><input type="hidden" name="endSeconds" value="${endSeconds}" /></td>{{else}}<td><input class="datePicker" name="reportOff" type="text" value="" style="width: 40%;" title="Date format: dd-MM-yyyy" /><select name="endHours" style="width: 20%; margin-left:10px;"> {{html dateMngr.getHourOptions()}} </select><select name="endMins" style="width: 20%; margin-left:5px;"> {{html dateMngr.getMinuteOptions()}} </select><input type="hidden" name="endSeconds" value="${endSeconds}" /></td>{{/if}}</tr><tr><td><span>Travelled KM</span></td><td> <span class="total-km"> ${utils.decimalRound(duty.dutyDistance + duty.calibration)}</span> </td></tr><tr><td><span>Number of Trips</span></td><td> <span> ${activeTrips}</span> </td></tr><tr><td><span>Extra Hours </span></td><td> <span class="extra-hours"> ${duty.extraHours} </span> </td></tr><tr><td><span>Garage Hours</span></td>{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td><select name="garageEndHours" style="width: 20%; margin-left:10px;" disabled> {{html dateMngr.getHourOptions(garageEndHours)}} </select><select name="garageEndMins" style="width: 20%; margin-left:5px;" disabled> {{html dateMngr.getMinuteOptions(garageEndMins)}} </select></td>{{else}}<td><select name="garageEndHours" style="width: 20%; margin-left:10px;"> {{html dateMngr.getHourOptions(garageEndHours)}} </select><select name="garageEndMins" style="width: 20%; margin-left:5px;"> {{html dateMngr.getMinuteOptions(garageEndMins)}} </select></td>{{/if}}</tr><tr><td><span>Garage KM</span></td>{{if (STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_V_BILLING_MGR || STW.USER.employeeRoles[0].roleId == STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td> <input name="garageKm" type="text" value="${utils.decimalRound(duty.garageKm)}" mandatory="true" disabled/> </td>{{else}}<td> <input name="garageKm" type="text" value="${utils.decimalRound(duty.garageKm)}" mandatory="true" /> </td>{{/if}}</tr><tr><td><span>Empty KM</span></td><td>${utils.decimalRound(duty.deadKmDistance)}<input name="deadKmDistance" type="hidden" value="${utils.decimalRound(duty.deadKmDistance)}" /></td></tr><tr><td><span>Total Calibration</span></td><td><span class="gps-calibration">${duty.calibration}</span> </td></tr><tr><td><span>Adjustment Hours</span></td><td><select name="adjustmentHrs" style="width: 20%";> {{html dateMngr.getHourOptions(adjustmentHours)}} </select><select name="adjustmentMins" style="width: 20%; margin-left:5px;"> {{html dateMngr.getMinuteOptions(adjustmentMins)}} </select></td></tr><tr><td><span>Total Duty Hours</span></td><td><span title="End duty time - Start duty time + Garage hours  + Adjustment hours">${totalDutyHours}</span></td></tr>{{if duty.dutyId!=0}}<tr><td colspan="2"><a href='javascript:{"dutyId":"${duty.dutyId}","method":"viewDutyOnMap","refreshDuty":true,"cabId":"${duty.cab.id}","date":"${dateMngr.getDateOnly(duty.reportIn)}"}' class="view-all-on-map" > View on Map </a></td></tr>{{/if}}</tbody></table></div>{{if duty.dutyId!=0}}<div class="auto-correct-options" style="width:80%; text-align: center; margin:10px auto;">{{if duty.isAutoCorrected==false && STW.Cache.getContractAutoCorrectType(duty.cab.contractId) != "DISABLED" && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR}}<input type=button name=autoCorrect value="Auto Correct" class="buttonstyle1" />{{/if}}{{if duty.isAuditDone == false && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR}}<input type=button name=issueResolved value="Issues Resolved" class="buttonstyle1" style="width:115px;" /><input type=button name=auditDone class="roleBasedAccess buttonstyle1" functionalities="bill_audit" value="Audit Done" />{{/if}}{{if dutyOperations && dutyOperations.isSplittable && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR}}<a class="splitDuty" style="float:right" title="Split Duty" >Split Duty</a>{{/if}}</div>{{/if}}<div class="trip-list"><table class="trip-list-table modern-table" cellspacing="0px" style="width:80%"><col class="s-no-clmn"><col class="shift-time-clmn"><col class="num-emp-clmn"><col class="view-trip-on-map-clmn"><col class="trip-details-clmn"><col class="edit-trip-clmn"><col class="delete-trip-clmn"><thead><tr><th class="leftrad"> <span>S No.</span> </th><th> <span>Trip Id</span> </th><th> <span>Shift Time</span> </th><th> <span>Start</span> </th><th> <span>End</span> </th><th> <span>Emp</span> </th><th> <span>KM</span> </th><th> <span>Issue Details</span> </th>{{if STW.Cache.isLocalityBasedBillingEnabled() == true}}<th> <span>Billing Zone</span> </th>{{/if}}{{if STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR && STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR}}<th> <span>Action</span> </th>{{/if}}<th class="rightrad"><span>Office</span></th></tr></thead><tfoot>{{if duty.dutyId!=0}}<tr>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<td colspan="9"> <a class="add-a-new-trip"> Add A Trip </a></td>{{/if}}</tr>{{/if}}{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<tr><td colspan="9"><a class="addDutyComment" style="float: left;">Comment</a><a class="dutyHistory" style="float: right;">History</a></td></tr><tr class="dutyCommentBox" style="display: none;  width:99%"><td colspan="9"><textarea rows="3" name="dutyComment" style="height:80px; width:98%;" maxlength="500" title="Only 500 characters allowed."></textarea></td></tr><tr class="dutyHistoryBox" style="display: none;"><td colspan="9"></td>{{/if}}</tr></tfoot><tbody class="tripTable"></tbody></table></div>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<div class="form-submit-cont" margin-top:10px><input class="buttonstyle1" type="submit" value="Save"/>{{if duty.dutyId!=0}}{{if dutyOperations && dutyOperations.isDeletable}}<input class="buttonstyle1 deleteDuty roleBasedAccess" functionalities="duty_delete" type=button name=deleteDuty value="Delete"/>{{else}}<input class="buttonstyle1 deleteDuty roleBasedAccess" functionalities="duty_delete" type=button name=deleteDuty value="Delete" disabled=disabled title="Please restore the duty before deleting it"/>{{/if}}{{/if}}</div>{{/if}}</form><div class=uploadedFiles></div>{{if (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_V_BILLING_MGR) && (STW.USER.employeeRoles[0].roleId != STW.Constants.ROLE_PLATFORM_V_BILLING_MGR)}}<a class=viewDutyFile style="display: block;margin-bottom: 5px;">View files</a><a class=uploadDutyFile style="display: block; margin-bottom: 5px;">Upload a file</a><a class=dutyFileHistory style="">File Upload History</a>{{/if}}</div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="edit-duty-template"><div class="editDutyCont" style="display:none;"><div class="duty-drop-down" style="margin-top: 10px;text-align: center;"><span style="margin-right: 10px;">Select Duty</span><select></select></div><div class="dutyInfo"></div><div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="splitDutyTemplate"><div style="width: 400px;"><form><table><tr><td>Select Time</td><td><select name="splitTime">{{each(i, trip) billingDuty.billingTrips}}{{if billingDuty.reportIn != startTime}}<option value="${startTime}">${dateMngr.getDateTimeIn24HoursFormat(startTime)}</option>{{/if}}{{if billingDuty.reportIn != billingDuty.reportOff && billingDuty.reportOff != endTime}}<option value="${endTime}">${dateMngr.getDateTimeIn24HoursFormat(endTime)}</option>{{/if}}{{/each}}</select></td></tr></table><div style="margin: 20px auto; text-align: center;"><input type="submit" class="buttonstyle1" value="Submit" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" /></div></form></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="adminMenu"><div class="modern-admin"><nav><ul><li><a href="uploadFile">Data Upload</a><ul class="submenu"><li> <a href="manageOffice">Manage Office</a></li></ul></li><li><a href="manageRoles">Manage Roles</a></li><li><a href="manageProps">Manage Properties</a></li><li><a href="misc">Misc.</a><ul class="submenu left"><li> <a href="uploadRouteTemplate">Manage Route Templates</a></li><li> <a href="uploadBirtReportTemplate">Manage Birt Report Templates</a></li>{{if STW.Cache.isNodalBillingZonesEnabled()}}<li> <a href="uploadBillingZoneMappingTemplate">Billing Zone Management</a></li>{{/if}}</ul></li></ul></nav></div></script></div><div class="TC"><script type="text/x-jquery-tmpl" id="onboardingTemplate"><div id="manageLocalities"><div class="manageOffice"><input type="button" class="editOffice buttonstyle1" value="Edit Office" /></div><div class="manageAirport"><input type="button" class="editAirport buttonstyle1" value="Edit Airport" /></div></div><div><table class="dataOnboardingOptions"><tr><td>Data Type</td><td><select name="selectOnboardingType" style="width: auto;" class="onboarding"><option value="">Select Data Type</option><option value="EMPLOYEE">Employee</option><option value="CAB">Vehicle</option><option value="PROJECT">Project</option><option value="NODAL">Nodal</option><option value="UPDATE_EMPLOYEE">Update Employee</option><option value="UPDATE_CAB">Update Vehicle</option><option value="SHIFT">Shift</option><option value="UPDATE_PROJECT">Update Project</option><option value="EMPLOYEE_ATTRIBUTES">Update Other Details</option><option value="SHUTTLE_STOP">Shuttle Stop</option><option value="SHUTTLE_ROUTE">Shuttle Route</option><option value="EMPLOYEE_SHUTTLE_STOP">Employee Shuttle Stop</option><option value="SHUTTLE_STOP_UPDATE">Update Shuttle Stop</option><option value="SHUTTLE_ROUTE_UPDATE">Update Shuttle Route</option><option value="UPDATE_NODAL">Update Nodal</option>{{if STW.Cache.isDepartmentEnabled()}}<option value="UPDATE_DEPARTMENT">Update Business Unit</option>{{/if}}</select></td></tr><tr><td>Action Type</td><td><select name="selectActionType" style="width: auto;"><option value="">Select Action Type</option><option value="VALIDATE">Validate</option><option value="VALIDATE_AND_ENTER">Validate Enter</option></select></td></tr></table><div class="inputOrderDetails" style="margin: 10px auto; text-align: center;"><span>Input Order : </span><span class="orderDetails" style="color: red;"></span></div><form enctype="multipart/form-data" method="POST" id="UploadForm"><table class="uploader" style="margin:0 auto; margin-top: 10px;"><tbody><tr><td style="width: 25%">Locate File</td><td><input type="hidden" name="selectOnboardingType" value=""/><input type="hidden" name="selectActionType" value=""/><input type="hidden" name="attributesList" value=""/><input id = "dataOnBoarding" type="file" name="fileName" value="Browse" style="height: 25px;" accept = ".csv" /></td></tr></tbody></table><div style="margin: 30px auto; text-align: center;"><input type="submit" value="Upload" class="submitButton buttonstyle1" /><input type="button" value="Download Template" class="downloadTemplate buttonstyle1" /></div></form><div id="serverResponse"></div><div id="error-model-popup" style="display:none;"></div></div></script></div><div class="TC"><script id="manageLocalityTemplate" type="text/x-jquery-tmpl"><div><form name="localityForm"><table><tr><td>Pickup/Drop Point</td><td><input type="text" name="address" /></td></tr><tr><td>Geocord</td><td><input type="text" name="geoCord" /></td></tr><tr style="height: 40px"><td colspan="2" style="text-align: center;"><input type="submit" class="buttonstyle1" value="Submit" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></table></form></div></script></div><div class="TC"><script id="manageOfficeTemplate" type="text/x-jquery-tmpl"><div><table class="tablestyle1 insidewidget" style="width:85%" cellspacing="0px"><thead><tr><th>Site No.</th><th>Office Name</th><th>Geocords</th><th>Action</th></tr></thead><tbody>{{each(i, office) officeList}}<tr><td>${i + 1}</td><td>${address}</td><td>${geoCord}</td><td><a class="editOffice" index="${i}">Edit</a><a class="deleteOffice" index="${i}" style="margin-left:10px;">Delete</a></td></tr>{{/each}}</tbody></table></div></script></div><div class="TC"><script id="addOfficeTemplate" type="text/x-jquery-tmpl"><div><form name="addEditOfficeForm"><table><tr><td>Name</td><td><input type="text" name="address" class="officeName" mandatory="true" style="float:left;" maxLength="50" title="1 to 50 characters" /><span class="officeWarning" style="float:left;clear:both;width:180px" /></span></td><td><input type="hidden" name="id" value="0" /></td></tr><tr><td>Geocords</td><td><input type="text" name="geoCord" mandatory="true" title="e.g. 17.3232,78.3154" /></td></tr><tr><tr style="height: 40px" class="lastRow"><td colspan="2" style="text-align: center;"><input type="submit" class="buttonstyle1" value="Submit" /><input type="reset" class="buttonstyle1" name="cancel" value="Cancel" /></td></tr></table></form></div></script></div><div class="TC"><script id="manage-properties-template" type="text/x-jquery-tmpl"><div><div style="margin-bottom: 20px; text-align: center; font-size: 16px;">Change Custom Properties</div><div class="selectType" style="margin-bottom: 20px; text-align: center;"><select name="selectType"><option value="-1">Select Type</option><option value="${STW.Constants.EXTERNAL_PROPERTIES}">External</option><option value="${STW.Constants.FIXED_PROPERTIES}">Fixed</option><option value="${STW.Constants.ENGINEERING_PROPERTIES}">Engineering</option><option value="${STW.Constants.CUSTOMIZABLE_PROPERTIES}">Operations</option></select></div><div><a class="propertyHistory"	style="float: right;">History</a> </div><form name="configChangeForm" style="margin-top: 20px;"><div class="configChange"><table class="configProps" style="text-align: left;"></table></div></form></div></script></div><div class="TC"><script id="props-table-template" type="text/x-jquery-tmpl">{{each(index, groupInfo) groupInfoList}}<fieldset><legend><b>${groupInfo.name}</b></legend><table>{{each(index, prop) groupInfo.propList}}<tr>{{if propType==STW.Constants.EXTERNAL_PROPERTIES || propType==STW.Constants.FIXED_PROPERTIES}}<td>${prop.propName}</td><td>${prop.propVal}</td>{{else propType==STW.Constants.ENGINEERING_PROPERTIES || propType==STW.Constants.CUSTOMIZABLE_PROPERTIES}}<td>${prop.propName.substring(8)}</td><td>{{if prop.propVal.indexOf(STW.Constants.CONFIG_SEPERATOR_START) == 0 && prop.propVal.indexOf(STW.Constants.CONFIG_SEPERATOR_END) == prop.propVal.length-2}}<select name="${prop.propName}">{{each(optionIndex, option) getPropertyValueList(prop.propVal)}}<option value="${option}">${option}</option>{{/each}}</select>{{else prop.propVal === "true" || prop.propVal === "false"}}<input type="checkbox" name="${prop.propName}" value="true" ${prop.propVal=="true"?"checked=checked":""} />{{else}}<input type="text" name="${prop.propName}" value="${prop.propVal}" />{{/if}}</td>{{/if}}</tr>{{/each}}</table></fieldset>{{/each}}{{if propType==STW.Constants.ENGINEERING_PROPERTIES || propType==STW.Constants.CUSTOMIZABLE_PROPERTIES}}<tr><td colspan="2" style="text-align: center; background-color: #FFF;"><input type="button" name="saveConfigProps" class="buttonstyle1" value="Save" /></td></tr>{{/if}}</script></div><div class="TC"><script id="confirmation-table" type="text/x-jquery-tmpl"><div><form name="configConfirmForm"><table style="width: 350px; text-align: center;"><tr><td ><textarea name="propertiesComment" mandatory="true" style="width:100%; height:200px;"></textarea></td></tr><tr><td style="text-align: center; background-color: #FFF;"><input type="button" name="confirmSaveConfigProps" class="buttonstyle1" value="Confirm" /></td></tr></table></form></div></script></div><div><textarea rows="" cols=""></textarea></div><div class="TC"><script id="privilege-tmpl" type="text/x-jquery-tmpl"><table style="margin: 0;"><input type="hidden" name="role" value="${privileges.role}">{{each(index, privilege) privileges}}{{if typeof privilege == "boolean"}}<tr><td>${index}</td><td><input type="checkbox" name="${index}" value="true" ${privilege?"checked=checked":""}></td></tr>{{/if}}{{/each}}<tr><td colspan="2"><input type="submit" class="buttonstyle1" value="Save" /></td></tr></table></script></div><div class="TC"><script id="permissions-tmpl" type="text/x-jquery-tmpl"><table style="margin: 0;"><input type="hidden" name="role" value="${permissions.role}">{{each(index, permission) permissions}}{{if typeof permission == "boolean"}}<tr><td>${index}</td><td><input type="checkbox" name="${index}" value="true" ${permission?"checked=checked":""}></td></tr>{{/if}}{{/each}}<tr><td colspan="2"><input type="submit" class="buttonstyle1" value="Save" /></td></tr></table></script></div><div class="TC"><script id="functionality-tmpl" type="text/x-jquery-tmpl"><table style="margin: 0;"><input type="hidden" name="roleId" value="${empfunctionalities.roleId}">{{each(index, functionality) empfunctionalities.functionalities}}{{if typeof empfunctionalities.functionalities[index] == "boolean"}}<tr><td>${index}</td><td><input type="checkbox" id="functionality-list" name="functionalities.${index}" value="true" ${empfunctionalities.functionalities[index]?"checked=checked":""}></td></tr>{{/if}}{{/each}}<tr><td colspan="2"><input type="submit" class="buttonstyle1" value="Save" /></td></tr></table></script></div><div class="TC"><script id="roles-list-tmpl" type="text/x-jquery-tmpl"><option value=0>Select Role</option>{{each(index, role) roles}}<option value="${roles[index].roleId}">${roles[index].displayName}</option>{{/each}}</script></div><div class="TC"><script id="sector_tmp" type="text/x-jquery-tmpl"><div class="sector${sectorNumber} edit-tripsheet-table-top" indx="${sectorNumber}"><div class="head" style="text-align: center;"><input type="hidden"> <span>${sectorName}</span><span style="float: right;">&nbsp(<span class="cabCounter">${getAssignedCabCounter(routes)}</span>)</span><span style="float: right;"><span class="totalRoutes">  /${routes.length}</span></span><span style="float: right;" class="counter">${getSelectedCounter( routes )}</span></div><div indx="${sectorNumber}" class="body S${sectorNumber}" style="padding:0px;width:100%"><table class="routeListTable tablestyle1 popup-table modern-table-route-editor border-less-table" style="margin:0px;padding:0px;" cellspacing="1px"><thead><tr class="createStyle"><th style="text-align:left; width:64px;"><input type="checkbox" class="selectSectorRoutes" /></th><th style="max-width: 50px; "><span class="hideRoute div-flex" style="display:none;">Route<img class="hideRouteImage" title="Hide Route Id" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showRoute"><img class="showRouteImage" title="Show Route Id" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th><th>Emp(KM)</th><th style="max-width: 125px; "><span class="hideLandmark div-flex">Landmark<img class="hideLandmarkImage" title="Hide Landmark" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showLandmark" style="display:none;"><img class="showLandmarkImage" title="Show Landmark" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th>{{if STW.Cache.isNodalRoutingEnabled()}}<th style="max-width: 125px; "><span class="hideNodalLandmark div-flex">Nodal<img class="hideNodalLandmarkImage" title="Hide Nodal Landmark" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showNodalLandmark div-flex" style="display:none;"><img class="showNodalLandmarkImage" title="Show Nodal Landmark" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th>{{/if}}<th style="max-width: 125px; "><span class="hideOffice">Office<img class="hideOfficeImage div-flex" title="Hide Office" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showOffice" style="display:none;"><img class="showOfficeImage" title="Show Office" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th><th style="max-width: 125px; "><span class="hideCabName div-flex">Vendor/Vehicle<img class="hideCabImage" title="Hide Vehicle" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showCabName" style="display:none;"><img class="showCabImage" title="Show Vehicle" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th></tr></thead><tbody>{{each( index, route ) routes}}{{if this.route.employeeList.length != 0 }}<tr {{if this.isSelected}} style="background-color:${this.colorCode.code}" {{/if}} indx="${index}" class="createStyle" routeId=${this.route.id}>{{if this.isRouteOverCapacity()}}<td style="text-align:left; background-color:yellow;" title="Route Over Capacity" >{{else this.isRouteAdjusted()}}<td style="text-align:left; background-color:red;" title="Adjusted Route" >{{else}}<td style="text-align:left;">{{/if}}<input type=checkbox class="selectRoute" {{if this.isSelected}}checked=checked{{/if}} value="${this.route.id}" routeIndex="${index}" />{{if this.satifiesFemaleConstraints() || this.didMarshalTravel()}}<img class="femaleIcon" src="img/marshal.svg" />{{/if}}{{if this.isBusPassAvailable()}}<img src="img/busPass.svg" title="Bus Pass" style="width: 20px; margin-left: 4px;" />{{/if}}{{if this.showTimeUpdateOptions}}<img src="img/warning.png" title="Route Modified. Please update the employee times manually and save" />{{/if}}{{if this.satisfiesB2bTrip()}}<img class="b2bImage" src="img/b2b-icon-th.png" style="height: 15px;"/><div class="b2bDetails${this.route.id}" style="display:none;"><table><tbody><tr><td> ${this.route.dir == "IN"?"Login":"Logout"} ${this.route.id} ${formatShiftTime(this.route.shift)} ${getVendorName(this.route.vendor)} ${this.getB2bCabId(this.route.cab)} </td></tr><tr><td>${getRouteLandMark(this.route)} ${getSourceTime(this.route)} </td></tr><tr><td>${this.route.dir=="IN"?"Logout":"Login"} ${this.route.b2bTripDetails.tripId} ${formatShiftTime(this.route.b2bTripDetails.shift)} ${getVendorName(this.route.b2bTripDetails.vendor)} ${this.getB2bCabId(this.route.b2bTripDetails.cab)}</td></tr><tr><td>${getB2BAddress(this.route.b2bTripDetails)} ${getB2BTime(this.route.b2bTripDetails)} </td></tr></tbody></table></div>{{/if}}</td><td ><span class="routeId" style="display:none;">${this.route.id} ${this.route.shuttleRouteId ? "(Shuttle Id: "+this.route.shuttleRouteId +")":""}</span>{{if this.isSpecialNeedEmployee()}}<img src="img/adhoc.svg" title="${getSpecialNeedType(this.route)}" style="margin-right: 10px;" alt="">{{/if}}</td><td><a class="empView "><span class="empLength modern-link " style="color:#0937B2" >${this.getEmployeeCount()}</span></a>(${Math.round(this.route.distance)}){{if this.isEmployeeCustomByRequest()}}<span class="customHighlight">C<span>{{/if}}</td><td><span class="landmark" title="${getRouteLandMark(this.route)}">${utils.getTruncatedAddress(getRouteLandMark(this.route), 50)}</span></td>{{if STW.Cache.isNodalRoutingEnabled()}}<td><span class="nodallandmark" title="${getRouteNodal(this.route)}">${utils.getTruncatedAddress(getRouteNodal(this.route), 50)}</span></td>{{/if}}<td><span class="office" title="${getRouteOffice(this.route)}">${utils.getTruncatedAddress(getRouteOffice(this.route), 30)}</span></td><td class="cabColumn" style="text-align:left; background-color:${this.getColors()};"><span class="cabName"><a class="assignCab modern-link" title="${getCabAssignTitle(this.route)}">{{if this.route.cab == undefined && this.route.vendor == undefined}}Assign{{else this.route.cab == undefined && this.route.vendor}}${this.route.vendor.vendorId}{{else}}(${this.route.cab.displayCabId}) (${this.route.cab.identification}){{/if}}</a>{{html this.getCabAssignClass()}}</span></td>{{/if}}</tr>{{/each}}</tbody></table></div></div></script></div><div class="TC"><script id="customEmployeeTable" type="text/x-jquery-tmpl"><thead><tr><th style="text-align:left; width:40px;"><input type="checkbox" class="selectAllCustomRoutes" style="padding-left:12px" /></th><th></th><th>Name</th><th><span class="hideLandmark" style="display:flex;">Landmark<img class="hideLandmarkImage" src="img/Hide_Left.svg" title="Hide Landmark" style="float: right; width: 16px;"/></span><span class="showLandmark" style="display:none;"><img class="showLandmarkImage" title="Show Landmark" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th>{{if STW.Cache.isNodalRoutingEnabled()}}<th style="max-width: 125px; "><span class="hideNodalLandmark"  style="display:flex;">Nodal<img class="hideNodalLandmarkImage" title="Hide Nodal Landmark" src="img/Hide_Left.svg" style="float: right; width: 16px;"/></span><span class="showNodalLandmark" style="display:none;"><img class="showNodalLandmarkImage" title="Show Nodal Landmark" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th>{{/if}}<th><span class="hideOffice"  style="display:flex;">Office<img class="hideOfficeImage" src="img/Hide_Left.svg" title="Hide Office" style="float: right; width: 16px;"/></span><span class="showOffice" style="display:none;"><img class="showOfficeImage" title="Show Office" src="img/Hide_Right.svg" style="float: right; width: 16px;"/></span></th><th>Distance</th></tr></thead><tbody>{{each(index, wRoute) customEmployeeList}}<tr routeId="${wRoute.route.id}" class="empInfo-${wRoute.route.employeeList[0].eid}" ><td style="background-color:${wRoute.route.shuttleRouteId?"lightGreen":"white"};" class="unrouted-table-td"><input type="checkbox" class="selectCustom" name="emp_${index}" value="${index}" style="float:left; margin-right:2px;"/>{{if wRoute.satifiesFemaleConstraints()}}<img class="femaleIcon" src="img/female.svg" style="width:24px;height:24px;" />{{/if}}</td><td style="width: 30px;">{{if shuttleRouting }}<span title="${getSuggestedRoutes(wRoute.route)}"><img src="img/suggestBestRoute.png" class="bestfit" style="width:20px;margin-top: -3px; "/></span>{{else}}<span class="suggestion" style="display: none"><img src="img/suggestBestRoute.png" class="bestfit" style="width:20px;margin-top: -3px; "/></span>{{/if}}{{if wRoute.isSpecialNeedEmployee()}}<img title="Special Need" style="margin-right: 10px;" src="img/adhoc.svg" alt="">{{/if}}</td><td class="emp-name" style="cursor:pointer" title="${getCabAssignTitle(wRoute.route)}">${wRoute.route.employeeList[0].name}{{if wRoute.isEmployeeCustomByRequest()}}<span class="customHighlight">C<span>{{/if}}</td><td><span class="landmark" title="${getRouteLandMark(this.route)}">${utils.getTruncatedAddress(getRouteLandMark(wRoute.route), 30)}</span></td>{{if STW.Cache.isNodalRoutingEnabled()}}<td><span class="nodallandmark" title="${getRouteNodal(this.route)}">${utils.getTruncatedAddress(getRouteNodal(this.route), 50)}</span></td>{{/if}}<td><span class="office" title="${getRouteOffice(this.route)}">${utils.getTruncatedAddress(getRouteOffice(wRoute.route), 30)}</span></td><td>${utils.decimalRound(wRoute.route.employeeList[0].onBoardDistance)}</td></tr>{{/each}}</tbody></script></div><title>Tracking Dashboard</title><link rel="stylesheet" type="text/css" href="css/contact-support.css"><script type="text/javascript" src="javascript/LandingPages/contact-support.js"></script><script type="text/javascript" charset="UTF-8" src="https://maps.googleapis.com/maps-api-v3/api/js/53/14/common.js"></script><script type="text/javascript" charset="UTF-8" src="https://maps.googleapis.com/maps-api-v3/api/js/53/14/util.js"></script></head><body class="light" style="margin: 0;" data-new-gr-c-s-check-loaded="14.1159.0" data-gr-ext-installed=""><input type="hidden" id="hv_etsContext" value="/India/">
    <input type="hidden" class="empTransUrl" value="https://lnd.moveinsync.com/India/">
    
    
    <script type="text/javascript">
    if (self === top || (((self && self.location) && self.location.origin) === ((top && top.location) && top.location.origin))) {
       var antiClickjack = document.getElementById("antiClickjack");
       antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
       top.location = self.location;
    }
    </script>
    
    <script>
        var gs_tracking_id = '';
        if(gs_tracking_id != ""){
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
            ga('create', gs_tracking_id, {'siteSpeedSampleRate': 10});
            ga('send', 'pageview');
        }
    </script>
    <!-- 
    <script type="text/javascript">
         var clevertap = {event:[], profile:[], account:[], onUserLogin:[], notifications:[], privacy:[]};
     // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
    clevertap.account.push({"id": "R5K-R5R-Z55Z"});
    clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
    clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
     (function () {
             var wzrk = document.createElement('script');
             wzrk.type = 'text/javascript';
             wzrk.async = true;
             wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';
             var s = document.getElementsByTagName('script')[0];
             s.parentNode.insertBefore(wzrk, s);
      })();
    </script>
     -->
     
    <!-- Hotjar Tracking Code for workinsync.io 
    <script>
        (function(h, o, t, j, a, r) {
            h.hj = h.hj || function() {
                (h.hj.q = h.hj.q || []).push(arguments)
            };
            h._hjSettings = {
                hjid : 2151060,
                hjsv : 6
            };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script');
            r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>
    -->
    
    
              
              <script type="text/javascript">
                if( location.search.substring(1).indexOf("debug=true") != -1 
                        || location.search.substring(1).indexOf("localhost") != -1 ){
                        $.holdReady(true);
                     include("MasterFiles/24.01.3-Launcher.js");
                       imports("STW.DATAMANAGEMENT.CommonImports");
                    loadFiles();
                 }
                else
                {
                     $.holdReady(true);
                     include("MasterFiles/24.01.3-Master.js");
                     include("MasterFiles/24.01.3-Launcher.js");
                     loadFiles();
                }
               </script>
                  
        
        
            
            <div id="hiddenDiv" style="display: none">
            </div>
            <div id="application">
               
    
    
    <div id="appHead">
        <div class="invoiceMessageCont" style="background-color: #EEF800; text-align: center; display:none; color:red; height: 20px;margin-top: 10px;">
            <span class="message"></span>
            <a class="closeMessage" title="Close this message"><img src="img/x.png"></a>
        </div>
        <div class="downtimeMessageCont" style="background-color: #EEF800; text-align: center; display:none; color:red; height: 20px;margin-top: 10px;">
            <span class="message"></span>
            <a class="closeMessage" title="Close this message"><img src="img/x.png"></a>
        </div>
        <div class="logoheader">
            <div class="imageHolder">
                <a class="topLogoName" style="float: left;" href="" aria-label="Moveinsync Logo" title="Moveinsync Logo"> <img class="mislogo" style="max-width: 100px; max-height: 64px;" tabindex="1" aria-label="Moveinsync Logo" title="Moveinsync Logo" alt="Moveinsync Logo" src="img/sync-to-work1.png">
                </a>
                <input type="hidden" class="fallbackLogo" value="img/sync-to-work1.png">
            </div>
            <div class="contextHolder">
                <span class="contextName"> <span class="headTitle" style="font-size: 18px;">L&amp;D Team</span>
                </span>
            </div>
            <div id="menu" style=""><div class="transportMenu modern-transport-menu" style=""><div id="dashboard" class="roleBasedAccess tabdiv selectedTab" functionalities="dashboard_view"><span href="dashboard" class="roleBasedAccess" functionalities="dashboard_view">DASHBOARD</span><ul style="display: none;"><li href="uploadSchedule" class="dataSyncServiceLink">Data Upload &amp; Upload Status</li><li href="thdDashboard" class="test-thd roleBasedAccess" functionalities="thd_view">THD Dashboard</li><li href="cdsTracking" class="roleBasedAccess" functionalities="tracking_module_new">Tracking</li><li href="dropDashboard" class="roleBasedAccess" functionalities="drop_dashboard">Drop Dashboard</li><li href="evDashboard" class="roleBasedAccess" functionalities="ev_dashboard">EV Dashboard</li></ul></div><div id="routes" class="roleBasedAccess tabdiv" functionalities="route_view, route_copy"><span href="routes" class="RouteManagement roleBasedAccess" functionalities="route_view">ROUTES</span><ul style="display: none"><li href="manageLocations" class="NodalManagement roleBasedAccess" functionalities="nodal_view">Manage Nodal Points</li><li href="manageVendorAllocation" class="manageVendorAllocation roleBasedAccess" functionalities="manage_vendor_allocation" style="display: none;">Manage Vendor Allocation</li><li class="shuttle-operations" href="manageShuttle">Shuttle Operations</li><li href="manageShuttle" class="ManageShuttleRoutes shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view" style="display: none;">Shuttle Bulk Operations</li><li href="manageStopPoints" class="StopManagement shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view" style="display: none;">Manage Shuttle Stops</li><li href="manageShuttleRoute" class="ShuttleRouteManagement shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view" style="display: none;">Manage Shuttle Route</li><li href="manageShuttleDashboard" class="BusDashboard shuttle-operation-list roleBasedAccess sub-menu" functionalities="route_view" style="display: none;">Manage Bus Booking</li></ul></div><div id="reports" class="roleBasedAccess tabdiv" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard"><span href="billingDashboard" class="BillingDashboard roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard">BILLING</span><ul style="display:none"><li href="newBillingReports" class="NewBillingReports roleBasedAccess" functionalities="billing_reports_view">New Billing Reports</li><li href="newBillingResolutionUI" class="roleBasedAccess" functionalities="bill_view,odc_view"> ODC </li></ul></div><div id="operations" class="roleBasedAccess tabdiv" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view,compliance_manager_view"><span href="operationsDashboard" class="OperationsDashboard roleBasedAccess" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view,compliance_manager_view">BUSINESS ANALYTICS</span><ul style="display:none"></ul></div><div id="billing" class="roleBasedAccess tabdiv" functionalities="vendor_view, bill_view, cab_view, route_view, compliance_view"><span>SETTINGS</span><ul style="display:none; margin-right:3px;"><li href="manageVendors" class="VendorManagement roleBasedAccess" functionalities="vendor_view">Manage Vendors</li><li href="manageContracts" class="ContractManagement roleBasedAccess" functionalities="bill_edit">Manage Contracts</li><li href="manageCabContracts" class="CabContracts roleBasedAccess" functionalities="bill_edit,cab_edit,cab_manage,contract_view">Vehicle Contracts</li><li href="manageCostCenter" class="CostCenterManagement roleBasedAccess" functionalities="bill_edit">Cost Center</li><li href="manageNewContracts" class="NewContractManagement roleBasedAccess" functionalities="bill_edit">Manage New Contracts</li><li href="manageCabs" class="CabManagement roleBasedAccess" functionalities="cab_view">Manage Vehicles</li><li href="manageDrivers" class="DriverManagement roleBasedAccess" functionalities="driver_view">Manage Drivers</li><li href="manageDevices" class="DeviceManagement roleBasedAccess" functionalities="device-bulk-upload-view">Manage Fixed Devices</li><li href="manageRFIDDevices" class="RFIDDeviceManagement roleBasedAccess" functionalities="cab_view,compliance_view">Manage RFID Devices</li><li href="manageCabType" class="CabTypeManagement roleBasedAccess" functionalities="cab_view">Manage Vehicle Types</li><li href="manageBillingZones" class="BillingZonesManagement roleBasedAccess" functionalities="bill_edit">Manage Billing Zones</li><li href="manageNewBillingZones" class="BillingZonesManagement roleBasedAccess" functionalities="bill_edit">Manage New Billing Zones</li><li href="dailyAuditReport" class="DailyAuditReport roleBasedAccess" functionalities="bill_edit">Daily Audit Report</li><li href="fileUploader" class="FileUploader roleBasedAccess" functionalities="route_view, bill_edit">SMS Communication</li><li href="communicationInterface" class="roleBasedAccess" functionalities="communication_interface">Communication Interface</li></ul></div></div></div>
            <div id="modern-menu" style="display: none">
    
    
    
    
    
    <style>
        body {
            font-family: 'Lato';
        }
    
        nav {
            text-align: end;
            width: 100%;
        }
    
        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
    
        nav li {
            position: relative;
            display: inline-block;
        }
    
        nav>ul>li {
            /*margin: 0 10px;*/
        }
    
        nav a {
            display: block;
            padding: 10px;
            color: #000 !important;
            text-decoration: none;
            font-size: 16px;
        }
    
        nav a:hover {
            background-color: #f0f3fa;
            border-radius: 6px;
            color: #000;
            text-decoration: none;
        }
    
        nav a.active {
            background-color: #f0f3fa;
            border-radius: 6px;
        }
    
        nav .submenu {
            position: absolute;
            top: 100%;
            left: 0;
            display: none;
            z-index: 1;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.12);
            padding: 5px;
        }
    
        nav .submenu>li {
            display: block;
        }
    
        nav li:hover>.submenu {
            display: block;
        }
    
        nav .submenu>li>.submenu {
            width: 220px;
            background-color: #ffffff;
            color: #000;
            white-space: nowrap;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.12);
            border-radius: 8px;
            position: absolute;
            top: 0;
            left: 100%;
            display: none;
        }
    
        nav .submenu>li:hover>.submenu {
            display: block;
        }
    
        nav .submenu>li>a {
            width: 220px;
            background-color: #ffffff;
            color: #000 !important;
        }
    
        nav .submenu>li>.submenu>li>a {
            width: 200px;
            background-color: #ffffff;
            color: #000;
            white-space: nowrap;
        }
    
        nav .submenu>li>.left {
            top: 0;
            left: -215px;
            display: none;
        }
    
        nav .submenu>li>.submenu {
            position: absolute;
            top: 0;
            right: -220px;
            display: none;
        }
    
        nav .submenu>li:hover>.submenu {
            display: block;
        }
    
        nav .submenu li>a {
            position: relative;
            text-align: left;
        }
    
        nav .submenu li>a>img {
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
        }
    
        nav .submenu li:hover>a {
            background-color: #f0f3fa;
            border-radius: 6px;
        }
    
        nav .submenu li.active>a {
            background-color: #f0f3fa;
            border-radius: 6px;
        }
    
        nav .submenu>li>.submenu>li:hover>a {
            background-color: #f0f3fa;
        }
    </style>
    <nav>
        <input type="hidden" value="" id="ehs-url">
        <ul>
                    
            <li class="header-menu"><a href="dashboard" class="roleBasedAccess" functionalities="dashboard_view">Planning</a>
                <ul class="submenu">
                    <li> <a href="routes" class="roleBasedAccess" functionalities="route_view, route_copy">Routes &amp;
                            Deployment</a>
                    </li>
                    
                        <li><a href="marshallManagement" class="roleBasedAccess" functionalities="thd_view">Marshall Management</a></li>
                                    
                    
                    <li><a>Configurations <img src="img/navigation.svg" alt=""></a>
                        <ul class="submenu">
                            
                                <li><a href="manageLocations" class="roleBasedAccess" functionalities="nodal_view">Manage Nodal
                                    Points</a></li>
                                                    
                        </ul>
                    </li>
                    <li><a href="dataSyncServiceLink">Communication <img src="img/navigation.svg" alt=""></a>
                        <ul class="submenu">
                            <li><a href="fileUploader" class="roleBasedAccess" functionalities="route_view, bill_edit">SMS</a>
                            </li>
                            
                                <li> <a href="communicationInterface" class="roleBasedAccess" functionalities="communication_interface">App
                                        Notifications</a>
                                </li>
                            
                        </ul>
                    </li>
                    
                
                    
                    
                </ul>
            </li>
            <li class="header-menu"><a class="roleBasedAccess" functionalities="tracking_module_new,drop_dashboard,enable_address_approval">Tracking &amp; Security</a>
                <ul class="submenu">
                    <li><a href="cdsTracking" class="roleBasedAccess" functionalities="tracking_module_new">Tracking
                            Page</a></li>
                                    
                    <li><a href="dropDashboard" class="roleBasedAccess" functionalities="drop_dashboard">Drop Dashboards</a>
                    </li>
                </ul>
            </li>
            
            <li class="header-menu"><a class="roleBasedAccess" functionalities="billing_reports_view">Shuttle &amp; Rentlz</a>
                <ul class="submenu">				
                        <li><a class="roleBasedAccess" functionalities="billing_reports_view">Shuttle <img src="img/navigation.svg" alt=""></a>
                    <ul class="submenu">
                        
                        <li><a href="manageShuttleDashboard" class="roleBasedAccess" functionalities="billing_reports_view">Manage Bookings</a></li>
                            
                        
                        <li><a href="manageStopPoints">Manage Stops</a></li>
                        <li><a href="manageShuttleRoute">Manage	Routes</a></li>
                        <li><a href="manageShuttle">Bulk Ops</a></li>
                    
                    </ul>
                </li>	
                
                 <li><a href="rentlz">Rentlz</a></li>							
                </ul>
            </li>	
            <li class="header-menu"><a class="roleBasedAccess" functionalities="bill_edit,operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view">Analytics</a>
                <ul class="submenu">
                                        
                    <li><a href="operationsDashboard" class="roleBasedAccess" functionalities="operations,vendorbillingview,jasper_view,speed_voilation_report,vendormanager_view">Reports</a>
                    </li>
                    <li><a href="dailyAuditReport" class="roleBasedAccess" functionalities="bill_edit">Daily Audit</a></li>
                    <li><a href="reportsDownload">Downloads</a></li>
                </ul>
            </li>
            <li class="header-menu"><a class="roleBasedAccess" functionalities="vendor_view,cab_view,device-bulk-upload-view,compliance_view">Supply</a>
                <ul class="submenu">
                    <li><a href="manageVendors" class="roleBasedAccess" functionalities="vendor_view">Vendor</a></li>
                    <li><a class="roleBasedAccess" functionalities="cab_view">Vehicle<img src="img/navigation.svg" alt=""></a>
                        <ul class="submenu left">
                            <li><a href="manageCabs" class="roleBasedAccess" functionalities="cab_view">Manage Vehicle</a>
                            </li>
                            <li><a href="manageCabType" class="roleBasedAccess" functionalities="cab_view">Manage Vehicle
                                    Type</a>
                            </li>
                            
                        
                            <li><a href="manageDevices" class="roleBasedAccess" functionalities="device-bulk-upload-view">Manage Fixed
                                Devices</a>
                        </li>
                                        
                            
                        
                            <li><a href="manageRFIDDevices" class="roleBasedAccess" functionalities="cab_view,compliance_view">Manage
                                RFID Devices</a>
                        </li>
                                        
                            <li><a href="evDashboard" class="roleBasedAccess" functionalities="ev_dashboard">EV
                                    Dashboard</a>
                            </li>
                        </ul>
                    </li>
                    
                        <li><a href="manageDrivers" class="roleBasedAccess" functionalities="driver_view">Driver</a></li>
                
                    
                    <li><a href="complianceEHS">Compliance</a></li>
                    <li><a href="ehs">EHS</a></li>
                </ul>
            </li>
            
            <li class="header-menu"><a class="roleBasedAccess" functionalities="billing_reports_view,billing_dashboard,odc_view,bill_edit,bill_view,vendor_billing_manager_view">Billing</a>
                <ul class="submenu" style="left: -150px;">
                    
                    <li><a href="newBillingReports" class="roleBasedAccess" functionalities="billing_reports_view">Billing
                            Reports</a></li>
                        
                        
                            <li><a href="newBillingResolutionUI" class="roleBasedAccess" functionalities="odc_view">Data Cleanup &amp;
                                Audit</a>
                        </li>
                
                    
                    <li><a href="manageNewContracts" class="roleBasedAccess" functionalities="bill_edit">Configurations</a>
                    </li>
                    <li><a>Legacy Billing<img src="img/navigation.svg" alt=""></a>
                        <ul class="submenu left">
                            
                                <li><a href="billingReports" class="roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view">Reports</a></li>
                            
                            
                            <li><a href="billingDashboard" class="roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard">Dashboard</a>
                            </li>
                            <li><a href="manageContracts" class="roleBasedAccess" functionalities="bill_edit">Contracts</a>
                            </li>
                            <li><a href="manageBillingZones" class="roleBasedAccess" functionalities="bill_edit">Billing
                                    Zone</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        
            <li class="header-menu" style="margin-left: 50px;"><a href="dataSyncServiceLink" class="roleBasedAccess" functionalities="userauditor_view,transport_view,project_view,employee_view,site_administration"><img src="img/ic-nav-team-24.svg" alt=""></a>
                <ul class="submenu left" style="left: -200px;">
                    <li><a href="myAccount" class="roleBasedAccess" functionalities="employee_view">My Account</a></li>
                    
                        <li class="roleBasedAccess" functionalities="transport_view,userauditor_view,project_view"><a>Switch Roles<img src="img/navigation.svg" alt=""></a>
                            <ul class="submenu left">
                                <li class="changeMISUser" style=""><a class="switchMISUser">Switch to MISADMIN</a></li>
                                <li><a href="teamManager" class="roleBasedAccess" functionalities="project_view">Team
                                        Manager</a></li>
                                <li><a href="transportManager" class="roleBasedAccess" functionalities="transport_view">Transport
                                        Manager</a>
                                </li>
                                <li><a href="userAuditor" class="roleBasedAccess" functionalities="userauditor_view" style="display: none;">User
                                        Auditor</a></li>
                            </ul>
                        </li>
                    
                    
                        
                        
                            <li class="roleBasedAccess" functionalities="scheduling_management" style="display: none;"><a href="shiftManager">Manage Shifts</a></li>
                        
                                            
                    
                    <li id="logout"><a class="logout" href="logout" aria-label="Sign out" title="Sign out">Sign out</a></li>
                </ul>
            </li>
        </ul>
    </nav></div>
            <div id="userprofile" style="right: 15px; margin-left: 15px;">
                <img src="img/sampleuser.png" style="cursor:pointer;">
                <div id="userprofileOptions" style="display: none;">
                    <div id="managers" style="display: flex; flex-direction: column;"><span class="dropdownItem" id="welcome"><a class="employeeLogin roleBasedAccess" functionalities="employee_view">employee 1</a></span><span class="dropdownItem roleBasedAccess" functionalities="site_administration"><a class="siteAdmin">Site Administrator</a></span><span class="dropdownItem roleBasedAccess" functionalities="scheduling_management" style="display: none;"><a class="scheduleManagement">Manage Shifts</a></span><span class="dropdownItem projectMgr roleBasedAccess" functionalities="project_view" style=""><a class="projectManager">Manage Teams</a></span><span class="dropdownItem transportMgr roleBasedAccess" functionalities="transport_view"><a class="transportManager" style="color: rgb(66, 83, 101);">Transport Manager</a></span><span class="dropdownItem roleBasedAccess" functionalities="userauditor_view" style="display: none;"><a class="userAuditor">User Auditor</a></span><span class="dropdownItem"><a class="securitydashboard">Security Dashboard</a></span></div>
                    
                        <span class="changeMISUser dropdownItem" style="">
                            <a class="switchMISUser" aria-label="switchMISUser" title="switchMISUser">Switch to MISADMIN</a>
                        </span>
                    
                    
                    <span class="reportsSection dropdownItem">
                        <a class="reportsDownload" aria-label="Downloads" title="Downloads">Downloads</a>
                    </span>
                    <div id="logout" class="dropdownItem">
                        
                        
                            
                                <a class="logout" href="redirect.jsp" aria-label="Sign out" title="Sign out">Sign out</a>
                            
                            
                        
                    </div>
                    
                    
                        
                            
                        
                    
                </div>
            </div>
            <div id="wisUserProfile" style="display: none; right: 15px; position: absolute;">
                <img src="img/sampleuser.png" style="cursor:pointer;">
                <div id="wisUserprofileOptions" style="display: none;">
                    <div id="managers">
                        <!-- <div class="dropdownItem" style="text-align: right;">
                            <a style="text-align: right;" class="employeeLogin roleBasedAccess" functionalities="employee_view" 
                                aria-label="Employee Page" title="Employee Page">Profile</a>
                        </div> -->
                        <div id="logout" class="dropdownItem">
                            <a class="logout" href="logout" aria-label="Sign out" title="Sign out">Sign out</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
               <div id="appBody">
                    <div id="screenContainer">
        <div class="employeeScreen roleBasedAccess" style="" functionalities="employee_view">
        
    
    
    <style style="display: none;">
        .new-link{
            border: 1px solid #0937b2;
            padding: 7px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 700;
            font-size: 15px;
        }
    </style>
    <div class="employeeLoginPage roleBasedAccess" style="display: none;" functionalities="employee_view">
        <div style="margin: 0 auto;">
            
    
            
                
                    <div style="margin: 0 auto;">
                        <div class="back" style="display: none;"><a class="backToProject">«Back to Team
                                page</a></div>
                        <div style="display: flex; padding: 15px 0;">
                            <div class="team-title">Weekly Pickup Schedule </div>
                            <div class="weekList" tabindex="2"></div>
                        </div>
                        <div class="editOptions" style="padding: 15px 15px 5px 15px; display: flex;">
                            <div style="flex: 7;">
                                <a class="updateEmpShift plan-btn new-link" tabindex="2" aria-label="Update Shift Details" title="Update Shift Details" style="color: #fff !important;"><img src="img/add-light.svg" height="20" style="vertical-align: sub;"> Plan</a>
                                <a class="view-schedule-history roleBasedAccess modern-link new-link" tabindex="4" aria-label="View Schedule History" title="View Schedule History" id="view-history" functionalities="shift_view"><img src="img/history-blue.svg"> View Schedule History</a>
                                <a class="opt-in-opt-out  modern-link new-link" style="margin-left: 10px;" tabindex="5" aria-label="Update Opt-in and Opt-out" title="Update Opt-in and Opt-out">Update Opt-in and Opt-out</a>
                                <a class="opt-in-history  modern-link new-link" style="margin-left: 10px;" tabindex="6" aria-label="View Opt-in Opt-out History" title="View Opt-in Opt-out History">View Opt-in Opt-out History</a>
                                <a class="bus-booking  modern-link new-link" style="margin-left: 10px; display: none;" tabindex="7">Bus Booking</a>
                                
                                    <a class="spot-link modern-link new-link" style="margin-left: 10px;">Rentlz</a>
                                
                            </div>
                            <div style="flex: 5;" class="employeeTeamInfo"> </div>
                        </div>
                    </div>
                    <div class="employeeList" style="margin-top: 10px;">
                        <form method="post">
                            <div class="employeeListDesktop" style="height: 600px; overflow: scroll;">
                                <table style="min-width: 1100px; width: 100%;" class="insidewidget formtable tdborder" cellspacing="0px">
                                    <thead style="position: sticky; top: 0; z-index: 2;">
                                    </thead>
                                    <tbody style="border:1px solid #CCC">
                                    </tbody>
                                </table>
                            </div>
                            <div class="empListDevice"></div>
                        </form>
                    </div>
                
                
            
            <div class="employeeDetails" style="width: 100%; margin: 0 auto;">
            </div>
        </div>
    </div>
        <div class="lndcntpg" style="display: none;"></div>      
    </div>	
        <div class="projectMScreen roleBasedAccess" style="" functionalities="project_view">
        <div class="projectListPage roleBasedAccess" style="height: calc(100vh); display: none;" functionalities="project_view">
        <form method="post" style="display:flex; flex-direction:column;">
            <div class="project-list-actions">
    
            </div>
            <div class="projectsContainer" style="padding: 0 30px;">
    
            </div>
        </form>
    </div>
        
    
        <div class="employeeListPage roleBasedAccess" style="display: none;" functionalities="employee_view">
            <div style="padding: 0 24px;">
                <div class="d-flex" style="height: 64px; align-items: center;">
                    <div style="display: flex; flex: 1;">
                        <div class="back" style="display: none;">
                            <a class="backToProject"><img src="img/ic-navigation-arrow-left-24.svg"></a>
                        </div>
                        <div class="projectName team-title"> </div>
                        <div class="weekList"></div>
                    </div>
                    <div style="flex: 1;">
                        <div class="PMAction" style="float: right;"></div>
                    </div>
                </div>
                <div>
                    <div class="d-flex team-tab-container">
                        <div id="transportEmployees" class="tab-header team-active-tab">Transport Users</div>
                        <div id="nonTransportEmployees" class="tab-header" style="display: none;">Non Transport Users</div>
                        <div id="deactivatedEmployee" class="tab-header" style="display: none;">Deleted Employees</div>
                    </div>
                    <div id="scheduleOptions">
                        <div class="editOptions employeeListHeader">
                            <div class="d-flex" style="height: 64px;align-items: center;">
                                <a class="updateEmpShift plan-btn" tabindex="2" aria-label="Update Shift Details" title="Update Shift Details" style="color: #fff !important;"><img src="img/add-light.svg" height="20" style="margin-top: -5px;"> Plan</a>
                                <!-- <a class="noTransport non-transport-btn" tabindex="3"
                                    style="margin-left: 20px; display: none;" aria-label="No Transport Required"
                                    title="No Transport Required"><img src="img/no-transport.svg" height="24"> No Transport Required</a> -->
                                <div style="margin-right: 20px;" class="opt-in-opt-out-holder">
                                    <div class="drop-down-btn" id="optInOut-btn">Opt-In Opt-Out <img src="img/ic-navigation-drop-down-24.svg"></div>
                                    <div class="drop-down-option" id="optInOutSection" style="display: none">
                                        <div class="report-option"><a class="opt-in-opt-out">Update</a></div>
                                        <div class="report-option"><a class="opt-in-history">History</a></div>
                                    </div>
                                </div>
                                <div>
                                </div>								
                            </div>
                        </div>
                    </div>
                    <div class="employeeList" style="margin-top: 10px;">
                        <form method="post">
                            <div class="employeeListDesktop" style="height: 600px; overflow: scroll;">
                                <table class="modern-table">
                                    <thead style="position: sticky; top: 0; z-index: 2;">
                                    </thead><tbody></tbody>
                                </table>
                                <div style="text-align: right;padding: 10px;">
                                    <select name="empPagination" style="width:250px;"></select>
                                </div>								
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
        <div class="transportMScreen roleBasedAccess" style="" functionalities="transport_view,datasync">
        
    
    
    
    
    <div class="align-middle transport-dashboard roleBasedAccess" style="" functionalities="dashboard_view">
    <div id="newTransportDashboard" style="height: 100vh; width: 100%; border: 0px; display: none;"></div>
    <div class="ets-dashboard" style="">
        <style>
            .search-table{
                width:100%;
            }
             .search-table td{
                text-align : center;
            }
        </style> 
        <div style="display:flex;margin: 20px 0px 10px 0px;">
            <div style="width: 45%;">
                <select class="selectedOffice" style="margin-left: 20px; height: 35px; border-radius: 6px; outline: none; background-color: rgb(244, 245, 246); width: 200px;"><option value="-1">ALL</option><option value="6">MIS_NCR</option><option value="1594">Ashoka University</option><option value="1099">Bosch_Adugodi</option><option value="1423">Testing Pune</option><option value="1360">MIS-Pune</option><option value="205">MIS_BDAOFFICE</option><option value="1229">Hyd Event office</option><option value="941">MIS-Hyd</option><option value="52">MIS_HSR</option><option value="178">MIS_CHN</option><option value="1">MIS_BANGALORE</option><option value="801">MIS_MUM</option></select>
            </div>
            <div style="font-weight: bold; font-size: 14px; margin-bottom: 20px;">Transport Dashboard</div>
        </div>
        <table class="dashboardWidgets">
               <tbody>
                <tr>
                    <td style="width:66%;">
                        <div style="display: flex;">
                            <div class="cab-status-cont" style="margin:0px 10px;"><table class="cabStatusTable insidewidget" style="float: left; width: 320px;"><tbody><tr><td colspan="2" style="padding: 10px; border-bottom:1px solid #d6dce2;"><div style="float:left;width:50%;" class="displayFlexColumn"><span class="lightLabel"> Last Updated On </span><span> 07 Mar, 04:22 PM </span></div><div style="float:right;width:50%; display: flex;"><a><img class="refreshCabStatus" style="width:30px; margin: 0px 5px;" alt="" src="img/ic-nrs-refersh-24.svg" title="Click to refresh now"></a><span style="color:red;">Auto refresh time is 10 minutes</span><div></div></div></td></tr><tr class="roleBasedAccess" functionalities="women_travel_alone_view"><td style="width: 87%;"><a class="CabsWithSingleWoman" style="font-size: 14px;">Women Traveling Alone</a></td><td class="displayval">0</td></tr><tr class="roleBasedAccess" functionalities="women_travel_alone_view"><td style="width: 87%;"><a class="FirstMaleNoShow" style="font-size: 14px;">Unplanned Marshal Trip</a></td><td class="displayval">0</td></tr><tr style="display:none;"><td><span style="font-size: 14px;">Planned/Actual trips with guards</span></td><td class="displayval"><span>0</span>/<span style="color:red;">0</span><div id="tripsheet-container"></div></td></tr><tr><td><a class="CabsDelayedInPickUp" style="font-size: 14px;">Delayed Vehicles</a></td><td class="displayval">2</td></tr><tr><td><a class="CabsInPlannedTrips" style="font-size: 14px;">Ongoing Planned trips </a></td><td class="displayval">1</td></tr><tr><td><a class="CabsInAdhocTrips" style="font-size: 14px;">Ongoing Adhoc trips</a></td><td class="displayval">0</td></tr><tr><td><a class="CabsInOfficePremise" style="font-size: 14px;">In premises vehicles</a></td><td class="displayval">27</td></tr><tr><td><span style="font-size: 14px;">Tripsheets Pending device push</span></td><td class="displayval"><span style="color:red;font-size: 15px;">0</span>/0<div id="tripsheet-container"></div></td></tr><tr><td><a class="TripsheetsUnassignedVendor" style="font-size: 14px;">Tripsheets with Unassigned Vendor</a></td><td class="displayval">0</td></tr><tr><td><a class="CabsDelayedInReportOnOff" style="font-size: 14px;">Driver Report On/Off Issues</a></td><td></td></tr><tr><td><a class="newDropVerification roleBasedAccess" functionalities="new_drop_verification" style="font-size: 14px;"> New Employee Drop Verification </a></td><td></td></tr></tbody></table></div>
                            <div id="irregular-tripsheet-box" style="margin:0px 10px;width:50%"><table class="irregularWidget insidewidget" style="width: 300px; margin: 0;" cellspacing="0px"><tbody><tr><td style="position: inherit; float: inherit;padding: 15px 0;" class="modern-date-container"><span class="lightLabel" style="margin-right:10px; margin-left: 10px;">Date </span><input class="datePicker modern-date-picker hasDatepicker" name="date" type="text" value="" title="Date format: dd/MM/yyyy" id="dp1709808743234"><img class="ui-datepicker-trigger" src="img/Calendar-green.gif" alt="..." title="..."></td></tr><tr><td colspan="2"><a class="tripsheets-with-no-cabs">Tripsheets with no Vehicle assigned</a> <img src="img/warning.png" style="float: right;"></td></tr><tr><td colspan="2"><a class="view-irregular-tripsheets">Non-Shift trips</a></td></tr><tr class="roleBasedAccess" functionalities="approval_dashboard_view"><td colspan="2"><a style="color : #3dae2b" id="onboard-approval"> Employee Onboard Approval </a></td></tr><tr class="roleBasedAccess" functionalities="enable_address_approval"><td colspan="2" style="border:0;"><a class="approve-requests">Approve Pickup/Drop point Change</a><span id="address_aprroval_count" class="displayval" style="float:right;">0</span></td></tr></tbody></table></div>				   
                        </div>
                    </td>
                    <td style="border: medium none; width: 33%;">
                        <div class="search-box-cont" style="width:450px; margin: 0px 10px;">
                            <div class="insidewidget" style="padding: 5px 10px; margin: 15px 0px;">
                                <div style="margin-top:10px;">
                                    <span class="darkLabel" style="margin-left: 15px;"> Vehicle ID / Licence Plate </span>
                                </div>
                                <div id="dashboard-searchCab">
                                    <table class="search-cab" style="">
                                        <thead>
                                            <tr>               
                                                <td colspan="2">
                                                    <div id="searchCabsComboCont" style="height: 25px; position: relative;"><input class="input_combo" name="input_combo" autocomplete="off" tabindex="-1" placeholder="Search here (Alt+Q)" style="height: 25px; width: 88%;"><div class="combo_popup" style="display: none; overflow: hidden auto;"></div><div class="combo-loading" style="display: none;"></div><a class="clear-cab-data" style="margin-left:7px;">Clear</a></div>
                                                </td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        
                                        </tbody>        	
                                    </table>
                                </div>
                            </div>
                            <div class="insidewidget" style="padding: 5px 10px; margin: 15px 0px;">
                                <div>
                                    <span class="darkLabel" style="margin-left: 15px;"> Employee ID, Name, Phone No, Email ID </span>
                                </div>
                                <div id="dashboard-searchEmployee">
                                    <table class="search-employee" style="">
                                        <thead>
                                            <tr>
                                                <td colspan="2">
                                                    <div id="empSearchComboCont" style="height: 25px; position: relative;"><input class="input_combo" name="input_combo" autocomplete="off" tabindex="-1" placeholder="Search here  (Ctrl+E)" style="height: 25px; width: 88%;"><div class="combo_popup" style="display: none; overflow: hidden auto;"></div><div class="combo-loading" style="display: none;"></div><a class="clear-emp-data" style="margin-left:7px;">Clear</a></div>
                                                </td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="insidewidget" style="padding: 5px 10px; margin: 15px 0px;">
                                <div>
                                    <span class="darkLabel" style="margin-left: 15px;">Search by Trip ID </span>
                                </div>
                                <div id="dashboard-searchTrip">
                                    <table class="search-trip" style="">
                                        <thead>
                                            <tr>
                                                <td colspan="2">
                                                    <div id="tripSearchComboCont" style="height: 25px; position: relative;"><input class="input_combo" name="input_combo" autocomplete="off" tabindex="-1" placeholder="Search here (Alt+T)" style="height: 25px; width: 88%;"><div class="combo_popup" style="display: none; overflow: hidden auto;"></div><div class="combo-loading" style="display: none;"></div><a class="clear-trip-data" style="margin-left:7px;">Clear</a></div>
                                                </td>
                                            </tr>
                                        </thead>
                                        <tbody>
        
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                <td></td>
                    
                    
                        <td style="text-align: center; ">
                        <input type="button" value="Allocate Vehicle" class="buttonstyle1" name="allocateCabButton" style="font-size: 20px; width: 300px; margin-right: 75px; float: right; display: none;"></td>
                    
                </tr>
            </tbody>
           </table>
    </div>
    </div>
        <div class="routeManagement roleBasedAccess" style="display: none;" functionalities="route_view">
    
        <div id="routeStatusWidget" style="display: none;"></div>
        
        <div id="manageRouteWidget"></div>
    </div>
        <div class="syncDataManagement" style="display: none;">
        <div class="uploadContainer"></div>
    </div>
        
    
    
    
    
    
    
    
    
    
    
    
    <div class="locationManagement" style="display: none;">
        <div class="roleBasedAccess" functionalities="nodal_view">
            <div>
                    
                    <input type="hidden" name="isOfficeNodalShuttleMappingEnabled" value="false">		
                    <div class="revamped-header">
                        <div class="header-div modern-chosen-div ">
                            <span class="heading">Manage Nodal Points</span>
                                
                        </div>
                        <div class="header-div">
                            <div class="history-button">
                                <img src="img/history-blue.svg">
                                <input type="button" class="viewNodalHistory wis-outline-btn-sm btn-text" value="View History" style="float: right; margin: 0; margin-left:10px;">
                            </div>
                            <input type="button" class="AddNewButton wis-btn-sm roleBasedAccess btn-text" functionalities="nodal_edit" value="+  Nodal Point" style="float: right; margin: 0;">
                        </div>			
                    </div>
                <div class="locationList loactaion-table"></div>
            </div>
        </div>
    </div>
    
        <div class="manageVendorAllocation roleBasedAccess" style="display: none;" functionalities="route_view, vendor_billing_manager_view, billing_dashboard">
        <div class="vendorAllocation" style="margin: 0 auto;width: 70%;">
        
        </div>
    </div>
        <div class="billingDashboard roleBasedAccess pt-0 pl-4 pr-4 ml-3 mr-3" style="display: none;" functionalities="bill_view,vendor_billing_manager_view,billing_dashboard">
        <div class="vendorReport" style="display: none">
            <div class="pageNameContainer header-text"></div>
            <div class="pt-2" id="back"></div>
            <div class="link" style="float: right;"><a> DownLoad XLS</a> </div>
            <div id="container"></div>
        </div>
    </div>    
        
    
    
    
    <div class="billingReports roleBasedAccess" style="display: none;" functionalities="bill_view,vendor_billing_manager_view">
    
        <div class="vendorReport roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view">
            <div class="pageNameContainer" style="margin:10px 0; text-align: center; font-weight:bolder; "></div>
            <div id="back"></div>
            <div class="dateContainer">
                <form>
                    <table style="width: 60%;">
                        <tbody><tr>
                            <td style="width: 40%;">
                                <div class="billingReportsActions" style="display: none;">
                                    <div class="billingFreezer" style="display: none;">
                                        <span>Billing Status: </span>
                                        <span class="billingStatus"></span>
                                        <a class="freezeBilling roleBasedAccess" functionalities="bill_edit" style="margin-left: 10px;">Freeze Billing</a>
                                        <div class="costCenterBilling" style="display: none;">
                                            <div class="costCenterReports"></div>
                                            <div class="reportGenerationTime"></div>
                                        </div>
                                    </div>
                                    <div class="roleBasedAccess" functionalities="site_administration,bill_edit">
                                        <input type="button" class="buttonstyle1" name="generateCCReports" value="Generate Cost Center Reports" style="min-height: 10px; margin-left: 0;display: none;">									
                                    </div>
                                </div>
                            </td>
                            <td style="vertical-align: middle;">
                                <select name="billingCycle" style="width:200px;"></select>
                            </td>
                            <td style="vertical-align: middle;">
                                <a class="vendorBillingAudit roleBasedAccess" functionalities="bill_edit" style="">History</a>
                            </td>
                        </tr>
                    </tbody></table>
                </form>
            </div>
            <div class="link" style="float: right; margin-right: 100px;"> </div>
            <div id="container" class="insidewidget" style="margin:0 auto;margin-top:20px;width:90%;"></div>
        </div>
    
    </div>
    
    
    
    
    
    
        
    
    
    
    <div class="newBillingReports roleBasedAccess" functionalities="bill_view,vendor_billing_manager_view" style="display: none;">
    <div class="newVendorReport">
        <div class="dateContainer" style="border-bottom: 1px solid #e0e0e0;">
            <form>
                <table style="width: 100%;" class="new-billing-table">
                    <tbody>
                        <tr>
                            <td style="vertical-align: middle;  width: 45%;">
                                <div>
                                    <span class="reportGenerationTime" style="font-size: 16px; padding-right: 10px;"></span>
                                    <span class="billingFreezer" style="display: none;">
                                        <span style="font-size: 16px;">Billing Status: </span> <span style="font-size: 15px;" class="billingStatus"></span>
                                        <a class="freezeBilling roleBasedAccess" functionalities="bill_edit" style="margin-left: 20px; font-size: 15px; font-weight: 700; color: rgb(9, 55, 178);">
                                            Freeze Billing
                                        </a>
                                    </span>
                                    <span><a class="vendorBillingAudit roleBasedAccess" functionalities="bill_edit" style="">
                                            <img style="padding: 10px;" src="img/history-blue.svg"></a>
                                    </span>
                                </div>
                                <!-- <div class="costCenterBilling" style="display: none;">
                                    <div class="costCenterReports"></div>
                                    <div class="reportGenerationTime"></div>
                                </div> -->
                            </td>
                            <td class="d-flex" style="justify-content: end;">
                                <div class="billing-range">
                                    <label for="Billing Cycle" style="font-size: 14px;
                                    padding-right: 10px;">Billing Cycle</label>
                                    <select name="billingCycle"></select>
                                </div>
                                <div>
                                    <input type="button" class="primary-btn regenerateBilling" value="Regenerate Bill">
                                </div>
                                <div>
                                    <button style="width: auto;	background: white;		align-items: initial; display: flex;" type="button" class="secondary-btn downloadReports">
                                        <img style="padding-right: 5px;" src="img/download-icon.svg"> Download Reports</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
        </div>
        <div class="initImg" style="padding: 5% 35%;">
            <div style="font-size: 18px;
            font-weight: 700;
            padding: 30px;
            text-align: center;">Please Select Billing Cycle</div>
            <div style="text-align: center;"><img style="padding-right: 5px; width: 100%;" src="img/no data.svg"></div>
        </div>
    <div class="selectReportType">
        <div class="d-flex team-tab-container">
            <div class="tab-header team-active-tab" id="Bill_Report">Billing Report</div>
            <div class="tab-header" id="ContractWise_Bill_Report">Contract Report</div>
            <div class="tab-header" id="OfficeWise_Bill_Report">Office Report</div>
        </div>
    </div>
        <div style="padding: 10px;" id="back"></div>
        <div class="link" style="float: right; margin-right: 100px;"> </div>
        <div id="container" class="insidewidget" style="margin:0 auto;overflow-x:auto;"></div>
    </div>
    </div>
        <div class="operationsDashboard roleBasedAccess" style="display: none;" functionalities="bill_view,operations,vendorbillingview" id="showOldPage">
    
        <div class="vendorReport roleBasedAccess" functionalities="bill_view, operations, vendorbillingview">
            <div class="analytics-modern-top">
                <div class="dateContainer" style="margin: 20px 0;">
                    <form method="post">
                        <input class="datePicker" readonly="" name="date" type="text" value="" title="Date format: dd/MM/yyyy" style="color: rgb(128, 128, 128);">
                      </form>
                </div>
                <div class="pageNameContainer" style="margin:10px 0; text-align: center; font-weight:bolder; "></div>
            </div>
            <div class="analytics-modern-banner">
                <div style="float: right; margin-top: 16px;">Access Multi-Day Data on New Page</div>
                <div class="newBAReports" style="text-align: right; display: none;"><a id="MovetoNRS" class="wis-btn-md" style="color: #fff !important;">Advanced Analytics</a></div>
            </div>
            <div id="back" class="modern-back"></div>
    
            <div class="operationsDashboardWrapper1" style="overflow-x: auto; overflow-y:hidden;">
                <div class="div1" style="  font-size:1px; line-height:1px;height: 5px;">
                </div>
            </div>
            <div class="operationsDashboardWrapper2" id="container" style="overflow-x:auto; overflow-y:hidden; min-height: 500px;"></div>
        </div>
    </div>
        
    
    <div style="display: none;">
        <c:set var="showEV" value="false">
        <input type="hidden" value="" id="showEV">	
    </c:set></div>	
    <div class="assignVendorCabs insidewidget" style="display: none">
        <div style="font-weight: bold; font-size: 18px; text-align: center; padding: 10px;"></div>
        <div>
            <div style="font-weight: bold; font-size: 14px; text-align: center;">
                <table style="margin: 0;width:100%;">
                    <tbody><tr>
                        <td>
                            <table style="float:left;">
                                <tbody><tr>
                                    <td>Date</td>
                                    <td>Offices</td>
                                    <td>ShiftType</td>
                                    <td>Shifts</td>
                                </tr>
                                <tr>
                                    <td><input class="datePicker" name="date" readonly="" id="data-selector" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);"></td>
                                    <td><select class="selectedOffice" style="height: 30px;"><option value="-1">ALL</option><option value="6">MIS_NCR</option><option value="1594">Ashoka University</option><option value="1099">Bosch_Adugodi</option><option value="1423">Testing Pune</option><option value="1360">MIS-Pune</option><option value="205">MIS_BDAOFFICE</option><option value="1229">Hyd Event office</option><option value="941">MIS-Hyd</option><option value="52">MIS_HSR</option><option value="178">MIS_CHN</option><option value="1">MIS_BANGALORE</option><option value="801">MIS_MUM</option></select></td>
                                    <td><select class="shiftType" name="shiftType" style="height: 30px; width: 150px;">
                                            <option value="login">Login</option>
                                            <option value="logout">Logout</option>
                                    </select></td>
    
                                    <td><select class="shifts" name="shifts" style="height: 30px; width: 100px;">
                                    </select></td>
                                    
                                        <td><input type="checkbox" name="non-shift" id="non-shiftTrips" value="">Show Non-Shift Trips</td>
                                    
                                </tr>
                            </tbody></table>
                        </td>
                        <td>
                            <table style="border: 1px solid #CCC;float:right;">
                                <tbody><tr>
                                    <td style="color:green;">Total Routes</td>
                                    <td style="color:green;">Vehicle Allocated</td>
                                    <td style="color:green;">Vehicle Allocation Pending</td>
                                </tr>
                                <tr>
                                    <td><div style="text-align: center;"><span id="totalRouteCount">-</span></div></td>
                                    <td><div style="text-align: center;"><span id="allocatedCabCount">-</span></div></td>
                                    <td><div style="text-align: center;"><span id="pendingAllocationCount">-</span></div></td>
                                </tr>
                            </tbody></table>
                        </td>
                    </tr>
                </tbody></table>
            </div>
            <div>
                <div><a class="downloadTracksheet" style="float: right;font-size: 14px;padding:15px;">Download Tracksheet</a></div>
                <div id="tabs" style="background-color: #C2CAC0;">
                    <ul style="padding: 10px 0 0 10px; margin: 0;">
                        <li id="pending"><a href="#tabs-1">Pending</a></li>
                        <li id="allocated"><a href="#tabs-2">Allocated</a></li>
                    </ul>
                </div>
                <div class="assignCabTable" style="">
                    <table style="float: center; width: 100%;">
                        <tbody>
                            <tr>
                                <td style="width: 20%;">
                                    <div>
                                        <div style="margin: 5px auto;">
                                            <span>Sort: </span> 
                                            <span style="margin-left: 5px;">
                                                <select name="orderBy">
                                                    <option value="EMP_COUNT">Employees</option>
                                                    <option value="PHYSICAL_ID">Physical Id</option>
                                                    <option value="DISTANCE">Distance</option>
                                                </select>
                                            </span>
                                            <span style="margin-left: 5px;">
                                                <select name="orderType">
                                                    <option value="DESC">Desc</option>
                                                    <option value="ASC">Asc</option>
                                                </select>
                                            </span>
                                            <span style="margin-left: 5px;"><input type="button" value="GO" class="sortTripsheets buttonstyle1" style="min-width: 10px; min-height: 20px; margin:0;"></span>
                                        </div>
                                    </div>
                                    <div id="routeListTable" style="height: 400px; overflow: auto;"></div>
                                </td>
                                <td style="width: 30%;">
                                    <div id="routeInfoTable" style="height: 400px; overflow: auto;"></div>
                                </td>
                                <td style="width: 30%;">
                                    <div id="cabInfoTable" style="height: 400px; overflow: auto;"></div>
                                </td>
                                <td style="width: 20%;">
                                    <div>
                                        <b style="font-size: 14px;">Cabs</b>
                                    </div>
                                    <div>
                                        <input id="searchVendorCab" placeholder="Search Vehicle Id or Driver or Mob" style="width: 95%; color: rgb(128, 128, 128);">
                                    </div>
                                    <div id="cabListTable" style="height: 400px; overflow: auto;"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <span><img src="img/marshal_new.svg" style="height: 20px; width: 20px;"> Marshal Required</span>
                    <br><span><img src="img/b2b_new.svg" style="height: 20px; width: 20px;"> Back to Back trips</span>
                    <br><span><img src="img/special_need_new.svg" style="height: 20px; width: 20px;"> Trips with special need employees</span>
                </div>
            </div>
        </div>
    </div>
    
        <div class="operationsReports roleBasedAccess" style="display: none;" functionalities="bill_view,operations">
        <div class="vendorReport" style="display: none">
        
            <div class="pageNameContainer" style="margin:10px 0; text-align: center; font-weight:bolder; "></div>
            <div id="back"></div>
            
            <div class="operationsReportWrapper1" style="overflow-x: auto; overflow-y:hidden;">
                <div class="div1" style="  font-size:1px; line-height:1px;height: 5px;">
                </div>
            </div>
            <div class="operationsReportWrapper2" id="container" style="overflow-x:auto; overflow-y:hidden; min-height: 500px;"></div>
        </div>
    </div>
        <div class="jasperReports roleBasedAccess" style="display: none;" functionalities="bill_view,operations">
        <div class="jasperReport" style="display: none">
        
            <div class="pageNameContainer" style="margin:10px 0; text-align: center; font-weight:bolder; "></div>
            <div id="back"></div>
            
            <div class="jasperReportWrapper1" style="overflow-x: auto; overflow-y:hidden;">
                <div class="div1" style="  font-size:1px; line-height:1px;height: 5px;">
                </div>
            </div>
            <div class="jasperReportWrapper2" id="container" style="overflow-x:auto; overflow-y:auto; min-height: 650px;"></div>
        </div>
    </div>
        <div class="reportsDownloadPage roleBasedAccess" style="display: none;" functionalities="bill_view,operations">
        <div class="reportsDownload" style="display: none">
        
        <div class="revamped-header">
            <span class="pageNameContainer heading" style="margin:10px 0; text-align: center; font-weight:bolder; "></span>
        </div>	
            <div class="reportsDownloadTable">
                
            </div>
        </div>
    </div>
        
    
    
    
    
    
    
    
    <link rel="stylesheet" type="text/css" href="/India/assets/css/cab-management.css " style="display: none;">
    <script src="/India/assets/js/cab/cab-management-bulkupload.js " style="display: none;"></script>
    
    <div class="cabManagement roleBasedAccess" style="display: none;" functionalities="cab_view">
        <div class="manageCab" style="display: none">
            <div class="header">
                <span>Manage Vehicles</span>
            </div>
            <div style="width: 85%; height: 40px; margin: 10px auto;">
                <select name="selectVendor"></select>
                <a target="_blank" id="compliance-server-uri" href="#" style="display: none; float: right; padding-top: 13px;padding-right:10px; min-height: 23px;">Manage Compliance</a>
                    
    
                <button id="cab-bulk-upload" style="float:right; margin-right: 20px;" class="roleBasedAccess buttonstyle1" functionalities="cab_add">Bulk Upload</button>
                <input type="button" class="AddNewVirtualCabButton roleBasedAccess buttonstyle1" functionalities="cab_add" value="Add New Virtual Vehicle" style="float: right; margin-right: 20px;"> 
                <input type="button" class="AddNewButton roleBasedAccess buttonstyle1" functionalities="cab_add" value="Add New Vehicle" style="float: right; margin-right: 20px;"> 
                <input type="button" class="DeviceLastContactTime roleBasedAccess buttonstyle1" functionalities="bill_edit,compliance_manager_view" value="Device Last Contact Time" style="float: right; margin-right: 20px;">
                <input type="button" class="bulkQRDownload buttonstyle1 qr-code" value="Download QR code" style="float: right; margin-right: 20px;">
                <div id="cab-bulk-upload-container" style="display: none; text-align: center;">
                    <div class="w3-container popup-title">Vehicle Bulk File Upload</div>
                    <div class="w3-container">
                        <input type="text" disabled="" id="cabbulkuploadfiletext" size="30" style="color: rgb(128, 128, 128);">
                        <button id="custom_cabbulkuploadfile" class="buttonstyle1">
                            Browse</button>
                        <form id="cabbulkuploadform" action="/India/ets/data-center/cabs/upload" method="post" enctype="multipart/form-data">
                            <input type="file" name="file" id="cabbulkuploadfile" style="display: none;" accept=".csv" required="">
                        </form>
                    </div>
                    <div class="w3-container w3-text-red">
                        <b>Note : Upload file to create new vehicles</b> <br> <b>"Vehicle_Id"
                            should be unique.</b> <br> <b>Vendor,Contract and Driver
                            should exist in the system.</b>
                        <b>Please note: If property ASSOCIATE_OFFICE_TO_CAB" is enabled, offices will add.
                           Multiple offices should be seperated with ";" symbol</b>
                    </div>
                    <div class="w3-container">
                        <a class="underline-link" href="/India/ets/data-center/cab-bulk-upload/download_template">Download
                            Template File</a>
                    </div>
                    <div class="w3-container">
                        <b>Please select a file and click Upload button</b>
                    </div>
                    <div class="w3-container">
                        <input id="cabbulkuploadformSumit" type="button" form="cabbulkuploadform" value="Upload" class="buttonstyle1">
                    </div>
                    <div id="uploadError" class="w3-container"></div>
                    <div style="display:none;color:green;" id="success-window">
                         <span style="color:green;"># of records successfully uploaded: </span>
                        <a style="text-decoration: underline; color:green;" id="success-link">NA</a>
                    </div>
    
                    <div style="display:none;" id="error-window">
                        <span style="color:red;"># of records with error: </span>
                        <a style="text-decoration: underline; color:red;" id="error-link">NA</a>
                    </div>
                </div>
            </div>
            <div class="reportTable">
                <table class="tablestyle1 insidewidget" style="width: 85%" id="cab-management-table" cellspacing="0px">
                    <thead>
                        <tr>
                            <th class="leftrad"></th>
                            <th>S No.</th>
                            <th>Vehicle Id</th>
                            <th>Vehicle No.</th>
                            <th>Model</th>
                            <th>Contract Type</th>
                            <th style="width: 50px;">Vendor</th>
                            <th>Garage Name</th>
                            <th>Device IMEI</th>
                            <th>Device Last Contact Time</th>
                            <th class="qr-code">QR Code</th>
                            <th class="roleBasedAccess rightrad" functionalities="cab_edit">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
        <div class="cabTypeManagement roleBasedAccess" style="display: none;" functionalities="bill_view, cab_view">
    
        <div class="manageCabType" style="display: none">
            <div class="wis-header">
                <div class="header-text">Manage Vehicle Type</div>
                <div style="flex: 3;"></div>
                <div class="add-new-dropdown">
                    <div class="add-new-btn AddNewButton roleBasedAccess" functionalities="bill_edit" id="add-new-vendor">
                        <img src="img/plus.svg">New Vehicle Type</div>
                </div>
            </div>
            <div class="reportTable px-4"></div>
        </div>
    
    </div>
        <div class="vendorManagement roleBasedAccess" style="display: none;" functionalities="bill_view, vendor_view">
        <div class="manageVendor" style="display: none">
            <div class="wis-header">
                <div class="header-text">Manage Vendors</div>
                <div class="toggle-container">
                    <div class="toggle-switch">
                        <div class="toggle-button toggle-button-active" id="active-vendor-link">Active
                            Vendors
                        </div>
                        <div style="padding: 2px 5px;" class="toggle-button" id="inactive-vendor-link">
                            Inactive Vendors</div>
                    </div>
                </div>
                <div style="flex: 3;"></div>
                <div class="add-new-dropdown">
                    <div class="add-new-btn" functionalities="vendor_edit" id="add-new-vendor"><img src="img/plus.svg"> New
                        Vendor </div>
                </div>
            </div>
            <div class="reportTable" style="padding: 0 24px;">
    
            </div>
        </div>
    </div>
    
        <div class="contractManagement roleBasedAccess" style="display: none;" functionalities="bill_edit">
        <div class="manageContract" style="display: none">
            <div class="header"><span>Contract</span></div>
            <div class="addNew" style="width:60%;margin: 10px auto">
                <input type="button" class="AddNewButton roleBasedAccess primary-btn" functionalities="contract_edit" style="float:right;" value="Add New Contract">
            </div>
            <div class="reportTable" style="margin-top: 60px">
    
            </div>
        </div>
    </div>
        <div class="fileUploader " style="display: none;">
    
        <div class=" modern-sms-header">
    
                    <span class="sms-head-content">SMS Communication Interface</span>
    
        </div>
        <div class="sms-wrapper">
            <div class="uploadInfo  sms-info modern-sms-info">
                <p class="sms-text">
                    Use this page to send SMS communication to employees by uploading the XLS formatted file already downloaded from relevant page for e.g. Pickup time and vehicle details from Route Management dashboard. Since SMS communication is delivered even to employees who are in National "Do Not Call" registry here are few IMPORTANT aspects of sending SMS messages through this interface.
                </p>
                <ol>
                    <li class="sms-text">
                        As per TRAI rules the employee must have opted in to receive the SMS communication. Therefore please ensure that you have a formal communication from employee to subscribe to SMS communication before you enable SMS communication for employee.
                    </li>
                    
                    <li class="sms-text">
                        SMS format is pre approved hence do NOT edit SMS message content. Any deviation from approved SMS format will result SMS rejection by gateway provider.
                    </li>
                </ol>
                <div class="uploadContainer modern-upload-container"></div>
            </div>
        </div>
    
    </div>
        <div class="dailyAuditReport" style="display: none;">
        <div class="roleBasedAccess" functionalities="bill_edit">
            <div class="revamped-header ">
                <span class="heading">Daily Audit Report</span>
            </div>
            <!-- <table style="margin: 50px 0 0 20px;">
                <tr>
                    <td>Date</td>
                    <td><input class='datePicker' readonly name='starDate'
                        type='text' value='' title='Date format: dd/MM/yyyy'></td>
                </tr>
                <tr>
                    <td colspan="2"><a class="dailyAuditReportDownload">Download Daily Audit Report</a></td>
                </tr>
            </table> -->
            <div class="daily-audit-body">
                <div class="date-wrapper">
                    <span>Date</span>
                    <div class="modern-date-wrapper">
                        <input class="datePicker modernInput " style="border: none !important; color: rgb(128, 128, 128);" readonly="" name="starDate" type="text" value="" title="Date format: dd/MM/yyyy">
                    </div>
                </div>
                <a class="dailyAuditReportDownload wis-btn-md" style="color:#fff !important">Download Daily Audit Report</a>
            </div>
        </div>
    </div>
        <div class="billingZoneManager" style="display: none;">
        <div>
            <div class="header"><span>Manage Billing Zones</span></div>
            <div style="width: 85%; height:40px; margin:10px auto;">
                <input type="button" class="AddNewButton roleBasedAccess primary-btn" functionalities="bill_view" value="Add New Zone" style="float: right; margin-left: 10px;">
                <input type="button" class="ReCalculateBillingButton roleBasedAccess primary-btn" functionalities="bill_view" value="Re-Calculate Bill" style="float: right; margin: 50;">
            </div>
            <div class="reportTable">
            </div>
        </div>
    </div>
        <div class="shuttleRoutesManager " style="display: none;">
        <div>
            <div class="revamped-header"><span class="heading">Manage Shuttle Routes</span></div>
            <div class="reportTable">
            </div>
        </div>
    </div>
        <div class="busDashboard" style="display : none;width:100%;height:100%;overflow:hidden;">
    </div>
        <div class="siteAvailabilityContainer" style="display: none;">
        
        
        
        <div class="siteAvailability insidewidget" style="width: 800px; margin: 0 auto; padding-top: 10px;">
    
            
    
            
        </div>
    </div>
        <div class="newBillingDashboard" style="display:none;width:100%;height:100%;overflow:hidden;">
    </div>
        <div class="dataSyncManager" style="display : none;width:100%;height:100%;overflow:hidden;">
    </div>
        <div class="billingManager" style="display : none;width:100%;height:100%;overflow:hidden;">
    </div>
        <div class="transportDashboard" style="display:none;width:100%;height:100%;overflow:hidden;">
    </div>
        <div class="tripViewDashboard" style="display : none;width:100%;height:100%;overflow:hidden;">
    </div>
    </div>   
        <div class="adminScreen" style="display: none; width: 90%; margin: 0 auto;">
        <div class="dataOnboarding" style="display: none">
        <div class="onBoardingTable">
        
        </div>
        <div class="logoUploadSeparator" style="border-bottom: 1px solid #CCC; margin: 20px auto;">
        </div>
        <form enctype="multipart/form-data" name="logoUploadForm" class="logoUploadForm">
            <div class="logoUploader" style="text-align: center;">
                <div style="margin: 40px auto;"><h3 class="header">Upload client's logo</h3></div>
                <div><input type="file" class="logoFile" accept="image/*" name="logo" style="margin: 10px auto;"></div>
                <div><input type="submit" class="uploadLogoButton buttonstyle1" value="Upload logo"></div>
                <div id="logoResponse"></div>
            </div>
        </form>
    </div>
    
        <div class="manageOffice" style="display: none">
        <div class="header">
            <span>Manage Offices</span>
        </div>
        <div style="width: 85%; height:40px; margin:10px auto;">
            <input type="button" class="AddNewButton buttonstyle1" value="Add New Office" style="float: right;">
        </div>
        <div class="officeTable">
            
        </div>
        <div style="width: 85%; height:40px; margin:10px auto;">
            <a class="officeAudit" style="float: right;">History</a>
        </div>
    </div>
        <div class="miscContainer" style="width: 100%; display: none;">
        <div style="height: 350px;">
            <div style="float: left;">
                <table style="border-collapse: collapse;">
                    <tbody><tr style="border: 1px solid black;">
                        <td style="background-color: #efefef">Migrate Schedules To
                            Central Repository</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="migrateToCentralRepository" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td>Migrate Cabs To Central
                            Repository</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="sanityCheckOnCabsForMigration" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td style="background-color: #efefef">Migrate Users to Central Accounts Server</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="migrateUsersToCentralAccountsServer" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td>Migrate Employee GUIDs to Central Accounts Server</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="migrateEmployeeGuidsToCentralAccountsServer" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td style="background-color: #efefef">Clear Locality Employee
                            Cache</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="reloadLocalityEmployeeCache" value="clear">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td>Clear Other Cache</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="reloadOtherCache" value="clear">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td style="background-color: #efefef">Reload Properties</td>
                        <td>
                            <div>
                                <input class="buttonstyle1" type="button" name="reloadProps" value="reload">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td>Reload Keywords</td>
                        <td>
                            <div>
                                <input class="buttonstyle1" type="button" name="reloadKeywords" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td style="background-color: #efefef">Migrate Billing Freeze
                            Status</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="migrateBillingFreezeStatus" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td>Download Associated POIs</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="download-poi" value="Download">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="border: 1px solid black">
                        <td style="background-color: #efefef">Migrate distances to distance service</td>
                        <td>
                            <div>
                                <input type="button" class="buttonstyle1" name="migrate-distance" value="migrate">
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 15px">
                        <td></td>
                        <td></td>
                    </tr>
                    
                </tbody></table>
    
                <div style="margin-top: 20px;border: 1px solid #000;">
                    <table style="width: 100%;">
                        <tbody><tr>
                            <th colspan="2">Migrate Contract Data</th>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;">
                                <input class="datePicker" name="contractDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);">
                            </td>
                            <td>
                                <button class="migrateContractData buttonstyle1">Migrate</button>
                            </td>
                        </tr>
                    </tbody></table>
                </div>
    
                <div class="regenerateCostCenterReports" style="margin-top: 20px; display: none; border: 1px solid #000;">
                    <table style="width: 100%;">
                        <tbody><tr>
                            <th colspan="2">Cost Center Reports</th>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><select name="billingCycle" style="width: 200px;"></select></td>
                            <td>
                                <button class="regenerateReports buttonstyle1">Regenerate
                                    Reports</button>
                            </td>
                        </tr>
                    </tbody></table>
                </div>
            </div>
            <table style="border: 1px solid #000">
                <tbody><tr>
                    <td>
                        <div class="optimizeDistances" style="margin-top: 20px;">
                            <form name="optimizeForm">
                                <table>
                                    <tbody><tr>
    
                                        <th colspan="2">Migrate to Database</th>
                                    </tr>
                                    <tr>
                                        <td><select class="migrateOptions">
                                                <option value="NO_ACTION_PERFORM">Select Migrate
                                                    Action</option>
                                                <option value="MIGRATE_AFFINITY">Migrate Affinity</option>
                                                <option value="CALCULATE_OPTIMIZED_DISTANCE">Calculate
                                                    Optimized Distance</option>
                                        </select></td>
                                    </tr>
                                    <tr>
                                        <td>Start Date &nbsp;<input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);"></td>
                                    </tr>
                                    <tr>
    
                                        <td>End Date &nbsp;&nbsp;&nbsp;<input class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);"></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2"><input type="submit" class="buttonstyle1" value="Migrate Data" style="margin-left: 110px;"></td>
                                    </tr>
                                </tbody></table>
                            </form>
                        </div>
                    </td>
                    <td>
                        <div>
                            <form name="poi-associtaion-form" style="margin-top: 20px;">
                                <table>
                                    <tbody><tr>
                                        <th colspan="2">Locality to POI Assocition</th>
                                    </tr>
                                    <tr>
                                        <td>Start Date &nbsp;<input class="datePicker" name="startDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);"></td>
                                    </tr>
                                    <tr>
    
                                        <td>End Date &nbsp;&nbsp;&nbsp;<input class="datePicker" name="endDate" type="text" value="" title="Date format: dd/MM/yyyy" style="float: none; color: rgb(128, 128, 128);"></td>
                                    </tr>
                                </tbody></table>
                            </form>
                        </div>
                        <div style="text-align: center;">
                            <input type="button" class="buttonstyle1" name="poi-locality-association" value="POI Association">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div style="margin-top: 20px;">
                            <form method="POST" action="ets/poi/locality_poi" enctype="multipart/form-data" class="upload-poi-association-form" target="hiddenFrame">
                                File to upload: <input type="file" name="file" accept=".csv">
                                <button class="buttonstyle1" id="upload-poi-association-button">Upload POI Association</button>
                            </form>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div style="margin-top: 20px;">
                            <a class="getProvData" href="Admin_Servlet?method=getProvisionData">
                                <button class="buttonstyle1">Download Provision Data</button>
                            </a>
                        </div>
                    </td>
                </tr>
            </tbody></table>
        </div>
        <iframe name="hiddenFrame" width="0" height="0" style="display: none;"></iframe>
    </div>
        
    
    
    <div class="rolesManager" style="display: none;">
        
        <div class="legacyManageRoles" style="display: none;">
            <div style="width: 35%; float: left;">
                <div class="roleChangeCont" style="margin-top: 50px;">
                    <div class="roleChangeHeading">Change Employee Role</div>
                    <div id="empSearchComboCont" style="width: 250px;"></div>
                    <select name="empRole"></select>
                    <input type="button" name="saveRole" class="buttonstyle1" value="Save">
                    <div class="selectVendor" style="display: none;"><select name="selectVendor" style="margin-left: -45px;"></select></div>
                    <span id="vendorBoxError" style="display: none; color: red;"></span>
                    <div style="position : absolute; left : 15%;">
                        <a class="employeeRoleAudit">History</a>
                    </div>
                </div>
                <form name="privilegeForm">
                    <div class="privilegeChangeCont" style="margin-top: 50px;">
                        <div class="privilegeHeading">Change Role Privileges</div>
                        <select name="privilegeRole"></select>
                        <div class="previlages"></div>
                    </div>
                    <br><div style="position : absolute; left : 15%;">
                        <a class="rolePrivilegeAudit">History</a>
                    </div>
                </form>
                <form name="permissionsForm">
                    <div class="permissionsChangeCont" style="margin-top: 50px;">
                        <div class="privilegeHeading">Change Role Permissions</div>
                        <select name="permissionsRole"></select>
                        <div class="rolePermissions"></div>
                    </div><br>
                    <div style="position : absolute; left : 15%;">
                        <a class="rolePermissionAudit">History</a>
                    </div>
                </form>
            </div>
            <div style="width: 35%;float: left;">
                <form name="rolePropertiesForm">
                    <div class="rolePropertiesChangeCont" style="margin-top: 50px;">
                        <div class="rolePropertiesHeading">Change Role Properties</div>
                        <select name="propertiesRole"></select>
                        <table class="rolePropertiesCont" style="margin: 0"></table>
                    </div>
                    <div style="float: right; width: 380px;">
                        <a class="rolePropertiesAudit">History</a>
                    </div>
        
                </form>
                <form name="changeRoleFields">
                    <div class="roleFieldsChangeCont" style="margin-top: 50px;">
                        <div class="roleFieldsHeading">Change Role Fields</div>
                        <select name="fieldsRole"></select>
                        <table class="roleFieldsCont" style="margin: 0"></table>
                    </div>
                </form>
            </div>
            <div style="float: left;">
                <form name="functionalityForm">
                    <div class="privilegeChangeCont" style="margin-top: 50px;">
                        <div class="privilegeHeading">Change Role Functionalities</div>
                        <select name="functionalityRole"></select>
                        <div class="functionality"></div>
                    </div>
                    <br><div style="float: right;">
                        <a class="roleFunctionalitiesAudit">History</a>
                    </div>
                </form>
            </div>
        </div>
        <div class="newManageRoles" style="height:100vh; width:100%; border:0px; display: none;"></div>
    </div>
        <div class="propsManager" style="display: none;">
    
    </div>
        <div class="uploadRouteTemplates" style="width: 70%; margin: 0px auto; display: none;">
        <div class="routeTemplateContainer">
            <div style="font-size: 14px; margin: 10px auto;" class="header">Manage
                Route Upload Templates</div>
            <div class="uploadRouteTemplate" style="text-align: center; margin: 20px;">
                <input type="button" class="uploadTemplate buttonstyle1" value="Upload Route Templates">
            </div>
            <div class="routeTemplatesDownloadTable"></div>
            <div style="margin-top: 10px;">
                <a class="templateUploadHistory">Template Upload History</a>
            </div>
        </div>
    </div>
    
    
        <div class="userMessageScreen" style="overflow: auto; display: none;">
            <div class="usermessagecont"></div>
    </div>
        <div class="uploadBirtReportTemplates" style="width: 70%; height: 50%; margin: 0px auto; display: none;">
        <div class="birtTemplateContainer">
            <div style="font-size: 14px; margin: 10px auto;" class="header">Manage Custom
                Reports Upload</div>
            <div class="uploadBirtReportTemplate" style="text-align: center; margin: 20px;">
                <input type="button" class="uploadBirtTemplate buttonstyle1" value="Upload Custom Reports Templates">
            </div>
            <div class="birtReportTemplatesDownloadTable"></div>
            <div style="margin-top: 10px;">
                <a class="birtTemplateHistory">Template Upload History</a>
            </div>
        </div>
    </div>
        <div class="uploadBillingZoneMappingTemplate" style="width: 70%; height: 50%; margin: 0px auto; display: none;">
        <div class="billingZoneTemplateContainer">
            <div style="font-size: 14px; margin: 10px auto;" class="header">Manage Billing Zone Mapping Upload</div>
            <div class="uploadBillingZoneMapping" style="text-align: center; margin: 20px;">
                <input type="button" class="uploadBillingZoneTemplate buttonstyle1" value="Upload Billing Zone Mapping Templates">
                <br>
                <br>
                <a class="billingZoneMappingTemplateDownload">Download Template</a>
            </div>
            <div style="margin-top: 10px;">
                <a class="billingZoneMappingHistory">Template Upload History</a>
            </div>
        </div>
    </div>
    </div>
        <div class="userAuditorScreen" style="display: none;">
        <div class="roleAccessManager" style="display: none; margin-left: 10%">
        <div class="roleChangeCont d-flex" style="padding: 50px">
            <div class="col">
                <table>
                    <tbody><tr>
                        <td colspan="2">
                            <div class="roleChangeHeading">Manage Employee Role</div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <div id="empSearchCont" class="modern-combo pt-2 pb-2"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <select class="modern-select pt-2 pb-2" name="empRole"></select>						
                        </td>
                        <td>
                            <div class="selectVendor m-0" style="display: none;">
                                <select class="modern-select" name="selectVendor"></select>
                            </div>
                        </td>					
                    </tr>
                    <tr>
                        <td colspan="2" class="roleBasedAccess" functionalities="useradmin_view">
                            <input type="button" name="saveRole" class="primary-btn mt-2 mb-2" value="Save">
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2"><span class="vendorBoxError" style="display: none; color: red;"></span></td>
                    </tr>
                    <tr>
                        <td colspan="1">
                            <div style="margin-top: 10px;">
                                <a class="roleHistory modern-link">Employee Role History</a>
                            </div>
                        </td>
                        <td colspan="1">
                            <div style="margin-top: 10px;">
                                <a class="employeeRoleMappingDownload modern-link">Employee Role Mapping</a>
                            </div>
                        </td>
                    </tr>
                </tbody></table>
            </div>
            <div class="col">
                <table>
                    <tbody><tr>
                        <td colspan="2">
                            <div class="roleChangeHeading">Download Role Audit Report</div>
                        </td>
                    </tr>
                    <tr>
                        <td>Start Date</td>
                        <td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="startDate" type="text" value="" title="Start Date: dd/MM/yyyy" style="color: rgb(128, 128, 128);">
                        </td>
                    </tr>
                    <tr>
                        <td>End Date</td>
                        <td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="endDate" type="text" value="" title="End Date: dd/MM/yyyy" style="color: rgb(128, 128, 128);"></td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <div style="margin-top: 10px;"><a class="roleChangeAuditReportDownload modern-link">Download Report</a>
                            </div>
                        </td>
                    </tr>
                </tbody></table>
            </div>
        </div>
    </div>
    </div>
        <div class="notificationWidget">
        <div id="soundContainer"></div>
        <div class="panicWindow" style="display: none"></div>
        <div class="widget" style="display: none;"></div>
    </div>
    
    
    
        <div class="siteAdminstration" style="overflow: auto;width:100%;">
    
        <div class="siteAdminMenuPane" style="float: left; width: 15%; display: none;">
        </div>
    
        
    
    
    
    
    <div class="shiftManagement roleBasedAccess" style="float: right; width: 74%; margin-right: 10%; display: none;" functionalities="shift_edit">
        <div style="height: 40px; display: block;">
            <input type="button" class="addNewShift buttonstyle1 wis-btn-sm" value="Add New Shift" style="margin-bottom: 10px;"> <a class="showHistory" style="float: right; padding-top: 10px;">History</a>
        </div>
        <table>
            <tbody><tr style="display: flex;">
                <td>
                    <div class="loginDiv">
                        <table class="insidewidget tablestyle1 modern-table">
                            <thead>
                                <tr>
                                    <th><span>Shift Type</span>
                                    </th>
                                    <th><span>Time</span>
                                    </th>
                                    <th><span>Pick</span>
                                    </th>
                                    <th><span>Female Constraint</span>
                                    </th>
                                    <th title="gender for which shift is visible"><span>Gender Visibility</span>
                                    </th>
                                    <th title="offices for which shift is visible"><span>Office Visibility</span>
                                    </th>
                                    <th title="OptOut for which shift is visible" class="optinCol"><span>OptOut Visibility</span>
                                    </th>
                                    <th title="Night shift is visible" class="optinCol"><span>Night Shift</span>
                                    </th>
                                    <th><span>Action</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div></td>
                <td>
                    <div class="logoutDiv" style="margin-left: 50px;">
                        <table class="insidewidget tablestyle1 modern-table">
                            <thead>
                                <tr>
                                    <th><span>Shift Type</span>
                                    </th>
                                    <th><span>Time</span>
                                    </th>
                                    <th><span>Drop</span>
                                    </th>
                                    <th><span>Female Constraint</span>
                                    </th>
                                    <th title="gender for which shift is visible"><span>Gender Visibility</span>
                                    </th>
                                    <th title="offices for which shift is visible"><span>Office Visibility</span>
                                    </th>
                                    <th title="OptOut for which shift is visible" class="optinCol"><span>OptOut Visibility</span>
                                    </th>
                                    <th title="Night shift is visible" class="optinCol"><span>Night Shift</span>
                                    </th>
                                    <th><span>Action</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div></td>
            </tr>
        </tbody></table>
    </div>
        <div class="holidayManagement" style="float: right; margin-right: 20%; width: 60%; margin-right: 10%; display: none;">
        <div class="header">
            <span>Manage Holidays</span>
        </div>
        <div id="addNew" style="margin-right: 10%">
            <input type="button" class="AddNewButton buttonstyle1 roleBasedAccess wis-btn-sm" functionalities="bill_view" value="Add Holiday" style="float: right">
        </div>
        <div id="holidayTable"></div>
        <div>
            <a id="history" style="width: 22%; margin: 10px auto; float: right;">History</a>
        </div>
    </div>
        <div class="roleAccessManager" style="display: none; margin-left: 10%">
        <div class="roleChangeCont d-flex" style="padding: 50px">
            <div class="col">
                <table>
                    <tbody><tr>
                        <td colspan="2">
                            <div class="roleChangeHeading">Manage Employee Role</div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <div id="empSearchCont" class="modern-combo pt-2 pb-2"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <select class="modern-select pt-2 pb-2" name="empRole"></select>						
                        </td>
                        <td>
                            <div class="selectVendor m-0" style="display: none;">
                                <select class="modern-select" name="selectVendor"></select>
                            </div>
                        </td>					
                    </tr>
                    <tr>
                        <td colspan="2" class="roleBasedAccess" functionalities="useradmin_view">
                            <input type="button" name="saveRole" class="primary-btn mt-2 mb-2" value="Save">
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2"><span class="vendorBoxError" style="display: none; color: red;"></span></td>
                    </tr>
                    <tr>
                        <td colspan="1">
                            <div style="margin-top: 10px;">
                                <a class="roleHistory modern-link">Employee Role History</a>
                            </div>
                        </td>
                        <td colspan="1">
                            <div style="margin-top: 10px;">
                                <a class="employeeRoleMappingDownload modern-link">Employee Role Mapping</a>
                            </div>
                        </td>
                    </tr>
                </tbody></table>
            </div>
            <div class="col">
                <table>
                    <tbody><tr>
                        <td colspan="2">
                            <div class="roleChangeHeading">Download Role Audit Report</div>
                        </td>
                    </tr>
                    <tr>
                        <td>Start Date</td>
                        <td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="startDate" type="text" value="" title="Start Date: dd/MM/yyyy" style="color: rgb(128, 128, 128);">
                        </td>
                    </tr>
                    <tr>
                        <td>End Date</td>
                        <td class="modern-date-container" style="position: inherit; float: inherit;padding: 15px 0;"><input class="datePicker modern-date-picker" name="endDate" type="text" value="" title="End Date: dd/MM/yyyy" style="color: rgb(128, 128, 128);"></td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <div style="margin-top: 10px;"><a class="roleChangeAuditReportDownload modern-link">Download Report</a>
                            </div>
                        </td>
                    </tr>
                </tbody></table>
            </div>
        </div>
    </div>
        <div class="costCentreManager" style="display: none;">
            <div class="header"><span>Manage Cost Centers</span></div>
    </div>
        <div class="departmentManager" style="display: none;">
            <div class="header"><span>Manage Business Unit</span></div>
    </div>
    
        <div class="siteAdminContainer" style="float: right; width: 60%; margin-right: 10%; display: none;">
        </div>
    
        <div class="alert" style="float: left; margin-left: 15%; width: 63%; display: none;">
        </div>
    </div>
        
    
        
    
    <div class="securityDashboardScreen">
    
    
                
        <div class="securityDashboardPage" style="display: none;">
        <div class="newSecurityDashboard">
                
                    <a class="newSecurityDashboardLink">Go to New Security Dashboard</a>
                    <a class="oldSecurityDashboardLink" style="display : none">Go to Old Security Dashboard</a>
                
            </div>
            <div class="securitydashboardscreencont"></div>
            <div class="alertDetail insidewidget">
                <div class="dashboardalertdetails" style="height: 400px; overflow: auto;">
                </div>
            </div>
            <div class="newSecurityDashboardPage" style="height:2000px;"></div>
    
        </div>
    </div>
        <div class="systemAdminScreen roleBasedAccess" style="display: none" functionalities="sysadmin_view">
    
        <div class="deviceManagement" style="display:none">
            <div class="deviceManager">
                <div class="header"><span>Device Manager</span></div>
                <div class="reportTable">
                    <form>
                        <div class="addEditUpdate" style="width: 100%;">
                            <select name="businessUnit" style="margin-left: 10px; width: 150px;"></select>
                            <select name="versions" style="margin-left: 10px;"></select>
                            <select name="packageId" style="margin-left: 10px;"></select>
                            <button class="UpdateButton buttonstyle1">Apply Package</button>
                            <select name="commandType" style="margin-left: 10px"></select>
                            <button class="excecuteCommand buttonstyle1" style="float: left;">Execute Command</button>
                            <select name="deviceCommands" style="margin-left: 10px;">
                                <option value="0">Select Action</option>
                                <option value="1">Delete Devices</option>
                                <option value="2">Configure Devices</option>
                                <option value="3">Delete All Installer Commands</option>
                                <option value="4">Delete Pushed Commands</option>
                                <option value="5">Delete Not Pushed Commands</option>
                                <option value="6">Request Phone Number</option>
                            </select>
                            <button class="manageDeviceCommands buttonstyle1" style="float: left;">Apply Action</button>
                        </div>
                        
                        <div style="margin-bottom: 9px;">
                            <select name="deviceStatus" style="margin-left: 10px; width: 150px;">
                            </select>
                        </div>
                        <div style="margin-right:1%; margin-bottom: 10px;">
                            <a class="updatePlatform" style="margin-left: 10px; color: #196219;">Platform Properties</a>
                            <a class="updateBusiness" style="margin-left: 10px; color: #196219;">Business Properties</a>
                            <span style="margin-left: 29%;">Select Devices By - </span>
                            <select name="selectDeviceByColumns">
                                <option value="2">IMEI</option>
                                <option value="1">Device ID</option>
                                <option value="13">SIM Number</option>
                                <option value="14">Phone Number</option>
                            </select>
                            <input type="text" id="searchText" style="width: 15%; float: none; height: 25px; color: rgb(128, 128, 128);" placeholder="separate values by ,; or/and whitespce">
                            <input type="button" id="selectDeviceSubmit" class="buttonstyle1" style="height: 24px; width: 90px;" value="Select Devices">
                        </div>
                        <table id="listOfDevices" style="margin:0 auto; width:99%;">
                            <thead>
                                <tr>
                                    <th style="background-color: #99CA3B; width: 25px;" title="Serial Number">SN</th>
                                    <th style="background-color: #99CA3B; width:2px;"><input type="checkbox" title="select all devices on current page" class="select-all-checkbox"></th>
                                    <th style="background-color: #99CA3B;">Organization</th>
                                    <th style="background-color: #99CA3B;">Vehicle Id</th>
                                    <th style="background-color: #99CA3B;"><span title="Vehicle Registration Number">Vehicle Reg.No.</span></th>
                                    <th style="background-color: #99CA3B; width:50px;">Installer</th>
                                    <th style="background-color: #99CA3B;">Installer Contact</th>
                                    <th style="background-color: #99CA3B; width:54px;">Platform</th>
                                    <th style="background-color: #99CA3B;"><span>Platform Contact</span></th>
                                    <th style="background-color: #99CA3B; width:52px;">Business</th>
                                    <th style="background-color: #99CA3B;">Business Contact</th>
                                    <th style="background-color: #99CA3B;">Device Id</th>
                                    <th style="background-color: #99CA3B;">IMEI Number</th>
                                    <th style="background-color: #99CA3B;">SIM Number</th>
                                    <th style="background-color: #99CA3B;">Phone Number</th>
                                    <th style="background-color: #99CA3B; width:52px;">Network</th>
                                    <th style="background-color: #99CA3B; width:70px;" title="sort devices by Provisioning Status"><span>Prov. Status</span></th>
                                    <th style="background-color: #99CA3B; width:22px;" title="Commands Pushed">CP</th>
                                    <th style="background-color: #99CA3B; width:30px;" title="Commands Not Pushed">CNP</th>
                                    <th style="background-color: #99CA3B; width:33px;">Health</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </form>
                </div>
                <div style="display: none;">
                    <form id="statusChanger">
                        <table style="margin:10px auto">
                            <tbody><tr>
                                <td><input name="routeid" type="text" style="width: 100px; color: rgb(128, 128, 128);"></td>
                                <td><input type="submit" value="Change Status"></td>
                            </tr>
                        </tbody></table>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="commandManager" style="display: none;">
            <div class="commandEdit"></div>
            <div class="packageList"></div>
            <div class="packageUpload"></div>
        </div>
        
        <div class="uploadFile" style="display:none"></div>	    
    </div>
        <div class="companyOnboarding" style="display:none; width: 100%; height: 100%; overflow: hidden;">
        <div style="display: flex;">
            <div class="Rectangle_left" style="text-align: center;">
                <div>
                    <img alt="" src="img/enter_mis.svg">
                </div>
                <div style="margin-top: 140px;">
                    <img alt="" src="img/moveinsync-logo.svg">
                </div>
                <div>
                    <input class="enter_mis" style="height: 40px; font-size: 14px; font-weight: bold;" type="button" value="Enter Moveinsync">
                </div>
                <div class="onboardingPageText" style="margin: 0 auto;">
                    Manage employee commute - efficient routes, <br>flexible schedules, automated billing and analytics.
                </div>
            </div>
            <div class="Rectangle_right" style="text-align: center;">
                <div>
                    <img alt="" src="img/enter_wis.svg">
                </div>
                <div style="margin-top: 75px;">
                    <img alt="" src="img/workinsync-logo.svg">
                </div>
                <div>
                    <input class="enter_wis" style="height: 40px; font-size: 14px; font-weight: bold;" type="button" value="Enter Workinsync">
                </div>
                <div class="onboardingPageText" style="margin: 0 auto;">
                    Bring your workforce back to office with safety and savings. <br>Manage offices, desk bookings, attendance and more.
                </div>
            </div>
        </div>
    </div>
        <div class="placeHolderForIntegration" style="display : none;width:100%;margin-top:-20px;height:100%;overflow:hidden;">
    </div>
        <div class="WorkInSyncDashboard" style="display : none;width:100%;margin-top:-20px;height:100%;overflow:hidden;">
    </div>
    </div>
    
                       <div id="bottomLogo">
                        <a class="bottomLogoImage" style="float: left;" aria-label="Moveinsync Logo" title="Moveinsync Logo">
                            <img src="img/app_rb.png" aria-label="Moveinsync Logo" title="Moveinsync Logo">
                        </a>
                       </div>
                </div>
            </div>
            
    
    
    
    
    
    
        
    
    
        <div class="requestLogger" style="visibility: hidden;">
            <div class="requestLogHeader">
                <span class="requestLogTitle">Hide Logs</span> 
                <span style="float: right;"> 
                    <a class="copyLogs" style="margin-right: 10px; color: white;">Copy</a> 
                    <a class="sendLogs" style="margin-right: 10px; color: white;">Mail</a>
                </span>
            </div>
            <div class="requestLogContainer">
                <div class="requestLogBody" style="height: 100px; overflow-y: auto; overflow-x: hidden;">$[SERVER]4:22:23 PM,,MasterFiles/24.01.3-Master.js,,186<br>$[SERVER]4:22:23 PM,,MasterFiles/24.01.3-Launcher.js,,6<br><br>$[SERVER]4:22:23 PM,,UserLogin,undefined,118<br><br>$[SERVER]4:22:23 PM,mistm@moveinsync.com,Employee_View_Servlet?m=getEmployeePrivileges,undefined,59<br><br>$[SERVER]4:22:23 PM,mistm@moveinsync.com,Utils_Servlet?m=getCacheFromServer,undefined,244<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,empexp/employees/registration/status/lnd-India/EMlndInd-ia$0-0000-0000-000000000001,undefined,71<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,ets/approvalDashboard/getApprovalStatus?stwId=1,undefined,74<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,Cab_View_Servlet?m=getActiveCabsOnADay,undefined,94<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,Utils_Servlet?m=getAllAddressCount,undefined,93<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,Utils_Servlet?m=getAllAddressCount,undefined,80<br><br>$[SERVER]4:22:24 PM,mistm@moveinsync.com,Dashboard_Servlet?m=getCurrentStatusOfCabs,undefined,162<br></div>
                <div class="requestLogResponse"></div>
            </div>
        </div>
            
    
    
    
    
    
    <div class="footer">
        <div style="width: 90%; min-width: 800px; margin: 0pt auto; text-align: right;">
            <span class="login-info">
                <span>Last Login: </span>
                <span class="lastLoginTime">07 Mar, 16:22</span>
            </span>
            <span class="debug-info" style="margin-left: 10px;">
                <span style="margin-right: 10px;"><a target="_blank" href="checkInternet.jsp">Check Latency</a></span>
                <span style="margin-right: 10px;"><a target="_blank" href="check-network.jsp">Network Timing</a></span>
                <span id="implementationVersion">Version : 24.01.3</span>
            </span>
        </div>
        <div class="browserName" style="display: none; ">			
        </div>
    </div>
    
        
    
    
    <div id="my-app"></div><div id="ui-datepicker-div" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div><div class="loader" style="text-align: center; display: none;" tabindex="34"><div class="bg_color" style="z-index: 290; height: 4149px; width: 1579px;"></div><div class="imgClass" style="z-index: 590; left: 764.5px; top: 294.5px; display: none;"><img src="img/ajax-loader.gif"> <br><br> <span class="loaderText">Loading...</span></div></div><div id="feedback"> <div id="sm-loader" style="display:none;"></div><div class="col-xs-4 col-md-4 panel panel-default" id="feedback-form" style="display:none;"> <form action="/feedback" class="form panel-body" method="post"> <div class="form-group"> <input class="form-control" id="subject" name="subject" type="text" placeholder="Enter Subject line"> </div><div class="form-group"> <textarea autofocus="" class="form-control" id="feedback-comment" name="feedback-comment" placeholder="Please provide details of issue or feedback..." required="" rows="5"></textarea> </div><div class="form-group"> <input class="form-control" id="email" name="email" type="email" required="" placeholder="Your Email Id"> </div><div class="form-group"> <div class="checkbox"> <label><input type="checkbox" id="attachScreenshot" value="" checked="">Attach screen shot</label> </div></div><div style="width: 90%;max-height: 170px;overflow-y: auto;margin-bottom: 15px;" id="screenshotPreview"></div><div style="text-align:center"><button class="primary-btn" id="sendFeedBack" type="submit">Send</button></div></form> </div><div id="feedback-tab"> Contact Support </div></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>